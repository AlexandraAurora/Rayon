var mr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},dr={exports:{}};(function(G,Z){(function(D,X){X(Z)})(mr,function(D){var X={foreground:"#a5a2a2",background:"#090300",cursor:"#a5a2a2",black:"#090300",brightBlack:"#5c5855",red:"#db2d20",brightRed:"#e8bbd0",green:"#01a252",brightGreen:"#3a3432",yellow:"#fded02",brightYellow:"#4a4543",blue:"#01a0e4",brightBlue:"#807d7c",magenta:"#a16a94",brightMagenta:"#d6d5d4",cyan:"#b5e4f4",brightCyan:"#cdab53",white:"#a5a2a2",brightWhite:"#f7f7f7"},F={foreground:"#f8dcc0",background:"#1f1d45",cursor:"#efbf38",black:"#050404",brightBlack:"#4e7cbf",red:"#bd0013",brightRed:"#fc5f5a",green:"#4ab118",brightGreen:"#9eff6e",yellow:"#e7741e",brightYellow:"#efc11a",blue:"#0f4ac6",brightBlue:"#1997c6",magenta:"#665993",brightMagenta:"#9b5953",cyan:"#70a598",brightCyan:"#c8faf4",white:"#f8dcc0",brightWhite:"#f6f5fb"},a={foreground:"#d0d0d0",background:"#212121",cursor:"#d0d0d0",black:"#151515",brightBlack:"#505050",red:"#ac4142",brightRed:"#ac4142",green:"#7e8e50",brightGreen:"#7e8e50",yellow:"#e5b567",brightYellow:"#e5b567",blue:"#6c99bb",brightBlue:"#6c99bb",magenta:"#9f4e85",brightMagenta:"#9f4e85",cyan:"#7dd6cf",brightCyan:"#7dd6cf",white:"#d0d0d0",brightWhite:"#f5f5f5"},p={foreground:"#637d75",background:"#0f1610",cursor:"#73fa91",black:"#112616",brightBlack:"#3c4812",red:"#7f2b27",brightRed:"#e08009",green:"#2f7e25",brightGreen:"#18e000",yellow:"#717f24",brightYellow:"#bde000",blue:"#2f6a7f",brightBlue:"#00aae0",magenta:"#47587f",brightMagenta:"#0058e0",cyan:"#327f77",brightCyan:"#00e0c4",white:"#647d75",brightWhite:"#73fa91"},l={foreground:"#fffaf4",background:"#0e1019",cursor:"#ff0018",black:"#232323",brightBlack:"#444444",red:"#ff000f",brightRed:"#ff2740",green:"#8ce10b",brightGreen:"#abe15b",yellow:"#ffb900",brightYellow:"#ffd242",blue:"#008df8",brightBlue:"#0092ff",magenta:"#6d43a6",brightMagenta:"#9a5feb",cyan:"#00d8eb",brightCyan:"#67fff0",white:"#ffffff",brightWhite:"#ffffff"},u={foreground:"#ddeedd",background:"#1c1c1c",cursor:"#e2bbef",black:"#3d352a",brightBlack:"#554444",red:"#cd5c5c",brightRed:"#cc5533",green:"#86af80",brightGreen:"#88aa22",yellow:"#e8ae5b",brightYellow:"#ffa75d",blue:"#6495ed",brightBlue:"#87ceeb",magenta:"#deb887",brightMagenta:"#996600",cyan:"#b0c4de",brightCyan:"#b0c4de",white:"#bbaa99",brightWhite:"#ddccbb"},f={foreground:"#979db4",background:"#202746",cursor:"#979db4",black:"#202746",brightBlack:"#6b7394",red:"#c94922",brightRed:"#c76b29",green:"#ac9739",brightGreen:"#293256",yellow:"#c08b30",brightYellow:"#5e6687",blue:"#3d8fd1",brightBlue:"#898ea4",magenta:"#6679cc",brightMagenta:"#dfe2f1",cyan:"#22a2c9",brightCyan:"#9c637a",white:"#979db4",brightWhite:"#f5f7ff"},h={foreground:"#c5c8c6",background:"#161719",cursor:"#d0d0d0",black:"#000000",brightBlack:"#000000",red:"#fd5ff1",brightRed:"#fd5ff1",green:"#87c38a",brightGreen:"#94fa36",yellow:"#ffd7b1",brightYellow:"#f5ffa8",blue:"#85befd",brightBlue:"#96cbfe",magenta:"#b9b6fc",brightMagenta:"#b9b6fc",cyan:"#85befd",brightCyan:"#85befd",white:"#e0e0e0",brightWhite:"#e0e0e0"},v={foreground:"#6f6f6f",background:"#1b1d1e",cursor:"#fcef0c",black:"#1b1d1e",brightBlack:"#505354",red:"#e6dc44",brightRed:"#fff78e",green:"#c8be46",brightGreen:"#fff27d",yellow:"#f4fd22",brightYellow:"#feed6c",blue:"#737174",brightBlue:"#919495",magenta:"#747271",brightMagenta:"#9a9a9d",cyan:"#62605f",brightCyan:"#a3a3a6",white:"#c6c5bf",brightWhite:"#dadbd6"},b={foreground:"#968c83",background:"#20111b",cursor:"#968c83",black:"#20111b",brightBlack:"#5e5252",red:"#be100e",brightRed:"#be100e",green:"#858162",brightGreen:"#858162",yellow:"#eaa549",brightYellow:"#eaa549",blue:"#426a79",brightBlue:"#426a79",magenta:"#97522c",brightMagenta:"#97522c",cyan:"#989a9c",brightCyan:"#989a9c",white:"#968c83",brightWhite:"#d5ccba"},n={foreground:"#e0dbb7",background:"#2a1f1d",cursor:"#573d26",black:"#573d26",brightBlack:"#9b6c4a",red:"#be2d26",brightRed:"#e84627",green:"#6ba18a",brightGreen:"#95d8ba",yellow:"#e99d2a",brightYellow:"#d0d150",blue:"#5a86ad",brightBlue:"#b8d3ed",magenta:"#ac80a6",brightMagenta:"#d19ecb",cyan:"#74a6ad",brightCyan:"#93cfd7",white:"#e0dbb7",brightWhite:"#fff9d5"},s={foreground:"#d9e6f2",background:"#0d1926",cursor:"#d9e6f2",black:"#000000",brightBlack:"#262626",red:"#b87a7a",brightRed:"#dbbdbd",green:"#7ab87a",brightGreen:"#bddbbd",yellow:"#b8b87a",brightYellow:"#dbdbbd",blue:"#7a7ab8",brightBlue:"#bdbddb",magenta:"#b87ab8",brightMagenta:"#dbbddb",cyan:"#7ab8b8",brightCyan:"#bddbdb",white:"#d9d9d9",brightWhite:"#ffffff"},d={foreground:"#ffff4e",background:"#0000a4",cursor:"#ffa560",black:"#4f4f4f",brightBlack:"#7c7c7c",red:"#ff6c60",brightRed:"#ffb6b0",green:"#a8ff60",brightGreen:"#ceffac",yellow:"#ffffb6",brightYellow:"#ffffcc",blue:"#96cbfe",brightBlue:"#b5dcff",magenta:"#ff73fd",brightMagenta:"#ff9cfe",cyan:"#c6c5fe",brightCyan:"#dfdffe",white:"#eeeeee",brightWhite:"#ffffff"},i={foreground:"#b3c9d7",background:"#191919",cursor:"#f34b00",black:"#191919",brightBlack:"#191919",red:"#ff355b",brightRed:"#ff355b",green:"#b7e876",brightGreen:"#b7e876",yellow:"#ffc251",brightYellow:"#ffc251",blue:"#76d4ff",brightBlue:"#76d5ff",magenta:"#ba76e7",brightMagenta:"#ba76e7",cyan:"#6cbfb5",brightCyan:"#6cbfb5",white:"#c2c8d7",brightWhite:"#c2c8d7"},t={foreground:"#e6e1dc",background:"#2b2b2b",cursor:"#ffffff",black:"#000000",brightBlack:"#323232",red:"#da4939",brightRed:"#ff7b6b",green:"#519f50",brightGreen:"#83d182",yellow:"#ffd24a",brightYellow:"#ffff7c",blue:"#6d9cbe",brightBlue:"#9fcef0",magenta:"#d0d0ff",brightMagenta:"#ffffff",cyan:"#6e9cbe",brightCyan:"#a0cef0",white:"#ffffff",brightWhite:"#ffffff"},e={foreground:"#d6dbe5",background:"#131313",cursor:"#b9b9b9",black:"#1f1f1f",brightBlack:"#d6dbe5",red:"#f81118",brightRed:"#de352e",green:"#2dc55e",brightGreen:"#1dd361",yellow:"#ecba0f",brightYellow:"#f3bd09",blue:"#2a84d2",brightBlue:"#1081d6",magenta:"#4e5ab7",brightMagenta:"#5350b9",cyan:"#1081d6",brightCyan:"#0f7ddb",white:"#d6dbe5",brightWhite:"#ffffff"},r={foreground:"#7869c4",background:"#40318d",cursor:"#7869c4",black:"#090300",brightBlack:"#000000",red:"#883932",brightRed:"#883932",green:"#55a049",brightGreen:"#55a049",yellow:"#bfce72",brightYellow:"#bfce72",blue:"#40318d",brightBlue:"#40318d",magenta:"#8b3f96",brightMagenta:"#8b3f96",cyan:"#67b6bd",brightCyan:"#67b6bd",white:"#ffffff",brightWhite:"#f7f7f7"},o={foreground:"#d2d8d9",background:"#2b2d2e",cursor:"#708284",black:"#7d8b8f",brightBlack:"#888888",red:"#b23a52",brightRed:"#f24840",green:"#789b6a",brightGreen:"#80c470",yellow:"#b9ac4a",brightYellow:"#ffeb62",blue:"#2a7fac",brightBlue:"#4196ff",magenta:"#bd4f5a",brightMagenta:"#fc5275",cyan:"#44a799",brightCyan:"#53cdbd",white:"#d2d8d9",brightWhite:"#d2d8d9"},c={foreground:"#d9e6f2",background:"#29262f",cursor:"#d9e6f2",black:"#000000",brightBlack:"#323232",red:"#c37372",brightRed:"#dbaaaa",green:"#72c373",brightGreen:"#aadbaa",yellow:"#c2c372",brightYellow:"#dadbaa",blue:"#7372c3",brightBlue:"#aaaadb",magenta:"#c372c2",brightMagenta:"#dbaada",cyan:"#72c2c3",brightCyan:"#aadadb",white:"#d9d9d9",brightWhite:"#ffffff"},_={foreground:"#aea47a",background:"#191c27",cursor:"#92805b",black:"#181818",brightBlack:"#555555",red:"#810009",brightRed:"#ac3835",green:"#48513b",brightGreen:"#a6a75d",yellow:"#cc8b3f",brightYellow:"#dcdf7c",blue:"#576d8c",brightBlue:"#3097c6",magenta:"#724d7c",brightMagenta:"#d33061",cyan:"#5c4f4b",brightCyan:"#f3dbb2",white:"#aea47f",brightWhite:"#f4f4f4"},g={foreground:"#ffffff",background:"#132738",cursor:"#f0cc09",black:"#000000",brightBlack:"#555555",red:"#ff0000",brightRed:"#f40e17",green:"#38de21",brightGreen:"#3bd01d",yellow:"#ffe50a",brightYellow:"#edc809",blue:"#1460d2",brightBlue:"#5555ff",magenta:"#ff005d",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#6ae3fa",white:"#bbbbbb",brightWhite:"#ffffff"},S={foreground:"#8ff586",background:"#142838",cursor:"#c4206f",black:"#142631",brightBlack:"#fff688",red:"#ff2320",brightRed:"#d4312e",green:"#3ba5ff",brightGreen:"#8ff586",yellow:"#e9e75c",brightYellow:"#e9f06d",blue:"#8ff586",brightBlue:"#3c7dd2",magenta:"#781aa0",brightMagenta:"#8230a7",cyan:"#8ff586",brightCyan:"#6cbc67",white:"#ba46b2",brightWhite:"#8ff586"},C={foreground:"#68525a",background:"#150707",cursor:"#68525a",black:"#2b1b1d",brightBlack:"#3d2b2e",red:"#91002b",brightRed:"#c5255d",green:"#579524",brightGreen:"#8dff57",yellow:"#ab311b",brightYellow:"#c8381d",blue:"#8c87b0",brightBlue:"#cfc9ff",magenta:"#692f50",brightMagenta:"#fc6cba",cyan:"#e8a866",brightCyan:"#ffceaf",white:"#68525a",brightWhite:"#b0949d"},y={foreground:"#ffffff",background:"#000000",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#ff5555",brightRed:"#ff5555",green:"#55ff55",brightGreen:"#55ff55",yellow:"#ffff55",brightYellow:"#ffff55",blue:"#5555ff",brightBlue:"#5555ff",magenta:"#ff55ff",brightMagenta:"#ff55ff",cyan:"#55ffff",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},m={foreground:"#bababa",background:"#222324",cursor:"#bbbbbb",black:"#000000",brightBlack:"#000000",red:"#e8341c",brightRed:"#e05a4f",green:"#68c256",brightGreen:"#77b869",yellow:"#f2d42c",brightYellow:"#efd64b",blue:"#1c98e8",brightBlue:"#387cd3",magenta:"#8e69c9",brightMagenta:"#957bbe",cyan:"#1c98e8",brightCyan:"#3d97e2",white:"#bababa",brightWhite:"#bababa"},E={foreground:"#ffffff",background:"#333333",cursor:"#00ff00",black:"#4d4d4d",brightBlack:"#555555",red:"#ff2b2b",brightRed:"#ff5555",green:"#98fb98",brightGreen:"#55ff55",yellow:"#f0e68c",brightYellow:"#ffff55",blue:"#cd853f",brightBlue:"#87ceff",magenta:"#ffdead",brightMagenta:"#ff55ff",cyan:"#ffa0a0",brightCyan:"#ffd700",white:"#f5deb3",brightWhite:"#ffffff"},L={foreground:"#b9bcba",background:"#1f1f1f",cursor:"#f83e19",black:"#3a3d43",brightBlack:"#888987",red:"#be3f48",brightRed:"#fb001f",green:"#879a3b",brightGreen:"#0f722f",yellow:"#c5a635",brightYellow:"#c47033",blue:"#4f76a1",brightBlue:"#186de3",magenta:"#855c8d",brightMagenta:"#fb0067",cyan:"#578fa4",brightCyan:"#2e706d",white:"#b9bcba",brightWhite:"#fdffb9"},T={foreground:"#ebebeb",background:"#262c35",cursor:"#d9002f",black:"#191919",brightBlack:"#191919",red:"#bf091d",brightRed:"#bf091d",green:"#3d9751",brightGreen:"#3d9751",yellow:"#f6bb34",brightYellow:"#f6bb34",blue:"#17b2e0",brightBlue:"#17b2e0",magenta:"#7830b0",brightMagenta:"#7830b0",cyan:"#8bd2ed",brightCyan:"#8bd2ed",white:"#ffffff",brightWhite:"#ffffff"},B={foreground:"#f8f8f2",background:"#1e1f29",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#ff5555",brightRed:"#ff5555",green:"#50fa7b",brightGreen:"#50fa7b",yellow:"#f1fa8c",brightYellow:"#f1fa8c",blue:"#bd93f9",brightBlue:"#bd93f9",magenta:"#ff79c6",brightMagenta:"#ff79c6",cyan:"#8be9fd",brightCyan:"#8be9fd",white:"#bbbbbb",brightWhite:"#ffffff"},w={foreground:"#b7a1ff",background:"#1f1d27",cursor:"#ff9839",black:"#1f1d27",brightBlack:"#353147",red:"#d9393e",brightRed:"#d9393e",green:"#2dcd73",brightGreen:"#2dcd73",yellow:"#d9b76e",brightYellow:"#d9b76e",blue:"#ffc284",brightBlue:"#ffc284",magenta:"#de8d40",brightMagenta:"#de8d40",cyan:"#2488ff",brightCyan:"#2488ff",white:"#b7a1ff",brightWhite:"#eae5ff"},M={foreground:"#00a595",background:"#000000",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#9f0000",brightRed:"#ff0000",green:"#008b00",brightGreen:"#00ee00",yellow:"#ffd000",brightYellow:"#ffff00",blue:"#0081ff",brightBlue:"#0000ff",magenta:"#bc00ca",brightMagenta:"#ff00ff",cyan:"#008b8b",brightCyan:"#00cdcd",white:"#bbbbbb",brightWhite:"#ffffff"},A={foreground:"#e5c7a9",background:"#292520",cursor:"#f6f7ec",black:"#121418",brightBlack:"#675f54",red:"#c94234",brightRed:"#ff645a",green:"#85c54c",brightGreen:"#98e036",yellow:"#f5ae2e",brightYellow:"#e0d561",blue:"#1398b9",brightBlue:"#5fdaff",magenta:"#d0633d",brightMagenta:"#ff9269",cyan:"#509552",brightCyan:"#84f088",white:"#e5c6aa",brightWhite:"#f6f7ec"},P={foreground:"#807a74",background:"#22211d",cursor:"#facb80",black:"#3c3c30",brightBlack:"#555445",red:"#98290f",brightRed:"#e0502a",green:"#479a43",brightGreen:"#61e070",yellow:"#7f7111",brightYellow:"#d69927",blue:"#497f7d",brightBlue:"#79d9d9",magenta:"#7f4e2f",brightMagenta:"#cd7c54",cyan:"#387f58",brightCyan:"#59d599",white:"#807974",brightWhite:"#fff1e9"},j={foreground:"#efefef",background:"#181818",cursor:"#bbbbbb",black:"#242424",brightBlack:"#4b4b4b",red:"#d71c15",brightRed:"#fc1c18",green:"#5aa513",brightGreen:"#6bc219",yellow:"#fdb40c",brightYellow:"#fec80e",blue:"#063b8c",brightBlue:"#0955ff",magenta:"#e40038",brightMagenta:"#fb0050",cyan:"#2595e1",brightCyan:"#3ea8fc",white:"#efefef",brightWhite:"#8c00ec"},U={foreground:"#ffffff",background:"#323232",cursor:"#d6d6d6",black:"#353535",brightBlack:"#535353",red:"#d25252",brightRed:"#f00c0c",green:"#a5c261",brightGreen:"#c2e075",yellow:"#ffc66d",brightYellow:"#e1e48b",blue:"#6c99bb",brightBlue:"#8ab7d9",magenta:"#d197d9",brightMagenta:"#efb5f7",cyan:"#bed6ff",brightCyan:"#dcf4ff",white:"#eeeeec",brightWhite:"#ffffff"},z={foreground:"#b8a898",background:"#2a211c",cursor:"#ffffff",black:"#000000",brightBlack:"#555753",red:"#cc0000",brightRed:"#ef2929",green:"#1a921c",brightGreen:"#9aff87",yellow:"#f0e53a",brightYellow:"#fffb5c",blue:"#0066ff",brightBlue:"#43a8ed",magenta:"#c5656b",brightMagenta:"#ff818a",cyan:"#06989a",brightCyan:"#34e2e2",white:"#d3d7cf",brightWhite:"#eeeeec"},K={foreground:"#dbdae0",background:"#292f33",cursor:"#d4605a",black:"#292f33",brightBlack:"#092028",red:"#cb1e2d",brightRed:"#d4605a",green:"#edb8ac",brightGreen:"#d4605a",yellow:"#b7ab9b",brightYellow:"#a86671",blue:"#2e78c2",brightBlue:"#7c85c4",magenta:"#c0236f",brightMagenta:"#5c5db2",cyan:"#309186",brightCyan:"#819090",white:"#eae3ce",brightWhite:"#fcf4df"},V={foreground:"#7c8fa4",background:"#0e1011",cursor:"#708284",black:"#002831",brightBlack:"#001e27",red:"#e63853",brightRed:"#e1003f",green:"#5eb83c",brightGreen:"#1d9000",yellow:"#a57706",brightYellow:"#cd9409",blue:"#359ddf",brightBlue:"#006fc0",magenta:"#d75cff",brightMagenta:"#a200da",cyan:"#4b73a2",brightCyan:"#005794",white:"#dcdcdc",brightWhite:"#e2e2e2"},k={foreground:"#9ba2b2",background:"#1e2027",cursor:"#f6f7ec",black:"#585f6d",brightBlack:"#585f6d",red:"#d95360",brightRed:"#d95360",green:"#5ab977",brightGreen:"#5ab977",yellow:"#dfb563",brightYellow:"#dfb563",blue:"#4d89c4",brightBlue:"#4c89c5",magenta:"#d55119",brightMagenta:"#d55119",cyan:"#44a8b6",brightCyan:"#44a8b6",white:"#e6e5ff",brightWhite:"#e6e5ff"},R={foreground:"#ecf0fe",background:"#232537",cursor:"#fecd5e",black:"#03073c",brightBlack:"#6c5b30",red:"#c6004a",brightRed:"#da4b8a",green:"#acf157",brightGreen:"#dbffa9",yellow:"#fecd5e",brightYellow:"#fee6a9",blue:"#525fb8",brightBlue:"#b2befa",magenta:"#986f82",brightMagenta:"#fda5cd",cyan:"#968763",brightCyan:"#a5bd86",white:"#ecf0fc",brightWhite:"#f6ffec"},x={foreground:"#2cc55d",background:"#002240",cursor:"#e5be0c",black:"#222d3f",brightBlack:"#212c3c",red:"#a82320",brightRed:"#d4312e",green:"#32a548",brightGreen:"#2d9440",yellow:"#e58d11",brightYellow:"#e5be0c",blue:"#3167ac",brightBlue:"#3c7dd2",magenta:"#781aa0",brightMagenta:"#8230a7",cyan:"#2c9370",brightCyan:"#35b387",white:"#b0b6ba",brightWhite:"#e7eced"},W={foreground:"#b8dbef",background:"#1d1f21",cursor:"#708284",black:"#1d1d19",brightBlack:"#1d1d19",red:"#f18339",brightRed:"#d22a24",green:"#9fd364",brightGreen:"#a7d42c",yellow:"#f4ef6d",brightYellow:"#ff8949",blue:"#5096be",brightBlue:"#61b9d0",magenta:"#695abc",brightMagenta:"#695abc",cyan:"#d63865",brightCyan:"#d63865",white:"#ffffff",brightWhite:"#ffffff"},O={foreground:"#dbd1b9",background:"#0e0d15",cursor:"#bbbbbb",black:"#08002e",brightBlack:"#331e4d",red:"#64002c",brightRed:"#d02063",green:"#5d731a",brightGreen:"#b4ce59",yellow:"#cd751c",brightYellow:"#fac357",blue:"#1d6da1",brightBlue:"#40a4cf",magenta:"#b7077e",brightMagenta:"#f12aae",cyan:"#42a38c",brightCyan:"#62caa8",white:"#f3e0b8",brightWhite:"#fff5db"},q={foreground:"#e2d8cd",background:"#051519",cursor:"#9e9ecb",black:"#333333",brightBlack:"#3d3d3d",red:"#f8818e",brightRed:"#fb3d66",green:"#92d3a2",brightGreen:"#6bb48d",yellow:"#1a8e63",brightYellow:"#30c85a",blue:"#8ed0ce",brightBlue:"#39a7a2",magenta:"#5e468c",brightMagenta:"#7e62b3",cyan:"#31658c",brightCyan:"#6096bf",white:"#e2d8cd",brightWhite:"#e2d8cd"},Y={foreground:"#adadad",background:"#1b1c1d",cursor:"#cdcdcd",black:"#242526",brightBlack:"#5fac6d",red:"#f8511b",brightRed:"#f74319",green:"#565747",brightGreen:"#74ec4c",yellow:"#fa771d",brightYellow:"#fdc325",blue:"#2c70b7",brightBlue:"#3393ca",magenta:"#f02e4f",brightMagenta:"#e75e4f",cyan:"#3ca1a6",brightCyan:"#4fbce6",white:"#adadad",brightWhite:"#8c735b"},J={foreground:"#dec165",background:"#251200",cursor:"#e5591c",black:"#000000",brightBlack:"#7f6a55",red:"#d6262b",brightRed:"#e55a1c",green:"#919c00",brightGreen:"#bfc65a",yellow:"#be8a13",brightYellow:"#ffcb1b",blue:"#4699a3",brightBlue:"#7cc9cf",magenta:"#8d4331",brightMagenta:"#d26349",cyan:"#da8213",brightCyan:"#e6a96b",white:"#ddc265",brightWhite:"#ffeaa3"},Q={foreground:"#ffffff",background:"#1d2837",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#f9555f",brightRed:"#fa8c8f",green:"#21b089",brightGreen:"#35bb9a",yellow:"#fef02a",brightYellow:"#ffff55",blue:"#589df6",brightBlue:"#589df6",magenta:"#944d95",brightMagenta:"#e75699",cyan:"#1f9ee7",brightCyan:"#3979bc",white:"#bbbbbb",brightWhite:"#ffffff"},re={foreground:"#3e3e3e",background:"#f4f4f4",cursor:"#3f3f3f",black:"#3e3e3e",brightBlack:"#666666",red:"#970b16",brightRed:"#de0000",green:"#07962a",brightGreen:"#87d5a2",yellow:"#f8eec7",brightYellow:"#f1d007",blue:"#003e8a",brightBlue:"#2e6cba",magenta:"#e94691",brightMagenta:"#ffa29f",cyan:"#89d1ec",brightCyan:"#1cfafe",white:"#ffffff",brightWhite:"#ffffff"},N={foreground:"#ffffff",background:"#0c1115",cursor:"#6c6c6c",black:"#2e343c",brightBlack:"#404a55",red:"#bd0f2f",brightRed:"#bd0f2f",green:"#35a770",brightGreen:"#49e998",yellow:"#fb9435",brightYellow:"#fddf6e",blue:"#1f5872",brightBlue:"#2a8bc1",magenta:"#bd2523",brightMagenta:"#ea4727",cyan:"#778397",brightCyan:"#a0b6d3",white:"#ffffff",brightWhite:"#ffffff"},te={foreground:"#9f9fa1",background:"#171423",cursor:"#a288f7",black:"#2d283f",brightBlack:"#59516a",red:"#ed2261",brightRed:"#f0729a",green:"#1fa91b",brightGreen:"#53aa5e",yellow:"#8ddc20",brightYellow:"#b2dc87",blue:"#487df4",brightBlue:"#a9bcec",magenta:"#8d35c9",brightMagenta:"#ad81c2",cyan:"#3bdeed",brightCyan:"#9de3eb",white:"#9e9ea0",brightWhite:"#a288f7"},oe={foreground:"#fff0a5",background:"#13773d",cursor:"#8c2800",black:"#000000",brightBlack:"#555555",red:"#bb0000",brightRed:"#bb0000",green:"#00bb00",brightGreen:"#00bb00",yellow:"#e7b000",brightYellow:"#e7b000",blue:"#0000a3",brightBlue:"#0000bb",magenta:"#950062",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},ae={foreground:"#e6d4a3",background:"#1e1e1e",cursor:"#bbbbbb",black:"#161819",brightBlack:"#7f7061",red:"#f73028",brightRed:"#be0f17",green:"#aab01e",brightGreen:"#868715",yellow:"#f7b125",brightYellow:"#cc881a",blue:"#719586",brightBlue:"#377375",magenta:"#c77089",brightMagenta:"#a04b73",cyan:"#7db669",brightCyan:"#578e57",white:"#faefbb",brightWhite:"#e6d4a3"},_e={foreground:"#a0a0a0",background:"#121212",cursor:"#bbbbbb",black:"#1b1d1e",brightBlack:"#505354",red:"#f92672",brightRed:"#ff669d",green:"#a6e22e",brightGreen:"#beed5f",yellow:"#fd971f",brightYellow:"#e6db74",blue:"#66d9ef",brightBlue:"#66d9ef",magenta:"#9e6ffe",brightMagenta:"#9e6ffe",cyan:"#5e7175",brightCyan:"#a3babf",white:"#ccccc6",brightWhite:"#f8f8f2"},kt={foreground:"#a8a49d",background:"#010101",cursor:"#a8a49d",black:"#010101",brightBlack:"#726e6a",red:"#f8b63f",brightRed:"#f8b63f",green:"#7fb5e1",brightGreen:"#7fb5e1",yellow:"#d6da25",brightYellow:"#d6da25",blue:"#489e48",brightBlue:"#489e48",magenta:"#b296c6",brightMagenta:"#b296c6",cyan:"#f5bfd7",brightCyan:"#f5bfd7",white:"#a8a49d",brightWhite:"#fefbea"},Lt={foreground:"#ededed",background:"#222225",cursor:"#e0d9b9",black:"#000000",brightBlack:"#5d504a",red:"#d00e18",brightRed:"#f07e18",green:"#138034",brightGreen:"#b1d130",yellow:"#ffcb3e",brightYellow:"#fff120",blue:"#006bb3",brightBlue:"#4fc2fd",magenta:"#6b2775",brightMagenta:"#de0071",cyan:"#384564",brightCyan:"#5d504a",white:"#ededed",brightWhite:"#ffffff"},Et={foreground:"#84c138",background:"#100b05",cursor:"#23ff18",black:"#000000",brightBlack:"#666666",red:"#b6214a",brightRed:"#e50000",green:"#00a600",brightGreen:"#86a93e",yellow:"#bfbf00",brightYellow:"#e5e500",blue:"#246eb2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},Mt={foreground:"#00ff00",background:"#000000",cursor:"#23ff18",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},Bt={foreground:"#dbdbdb",background:"#000000",cursor:"#bbbbbb",black:"#575757",brightBlack:"#262626",red:"#ff1b00",brightRed:"#d51d00",green:"#a5e055",brightGreen:"#a5df55",yellow:"#fbe74a",brightYellow:"#fbe84a",blue:"#496487",brightBlue:"#89beff",magenta:"#fd5ff1",brightMagenta:"#c001c1",cyan:"#86e9fe",brightCyan:"#86eafe",white:"#cbcccb",brightWhite:"#dbdbdb"},Rt={foreground:"#b7bcba",background:"#161719",cursor:"#b7bcba",black:"#2a2e33",brightBlack:"#1d1f22",red:"#b84d51",brightRed:"#8d2e32",green:"#b3bf5a",brightGreen:"#798431",yellow:"#e4b55e",brightYellow:"#e58a50",blue:"#6e90b0",brightBlue:"#4b6b88",magenta:"#a17eac",brightMagenta:"#6e5079",cyan:"#7fbfb4",brightCyan:"#4d7b74",white:"#b5b9b6",brightWhite:"#5a626a"},xt={foreground:"#d9efd3",background:"#3a3d3f",cursor:"#42ff58",black:"#1f1f1f",brightBlack:"#032710",red:"#fb002a",brightRed:"#a7ff3f",green:"#339c24",brightGreen:"#9fff6d",yellow:"#659b25",brightYellow:"#d2ff6d",blue:"#149b45",brightBlue:"#72ffb5",magenta:"#53b82c",brightMagenta:"#50ff3e",cyan:"#2cb868",brightCyan:"#22ff71",white:"#e0ffef",brightWhite:"#daefd0"},At={foreground:"#ffcb83",background:"#262626",cursor:"#fc531d",black:"#000000",brightBlack:"#6a4f2a",red:"#c13900",brightRed:"#ff8c68",green:"#a4a900",brightGreen:"#f6ff40",yellow:"#caaf00",brightYellow:"#ffe36e",blue:"#bd6d00",brightBlue:"#ffbe55",magenta:"#fc5e00",brightMagenta:"#fc874f",cyan:"#f79500",brightCyan:"#c69752",white:"#ffc88a",brightWhite:"#fafaff"},Ot={foreground:"#f1f1f1",background:"#000000",cursor:"#808080",black:"#4f4f4f",brightBlack:"#7b7b7b",red:"#fa6c60",brightRed:"#fcb6b0",green:"#a8ff60",brightGreen:"#cfffab",yellow:"#fffeb7",brightYellow:"#ffffcc",blue:"#96cafe",brightBlue:"#b5dcff",magenta:"#fa73fd",brightMagenta:"#fb9cfe",cyan:"#c6c5fe",brightCyan:"#e0e0fe",white:"#efedef",brightWhite:"#ffffff"},Tt={foreground:"#ffcc2f",background:"#2c1d16",cursor:"#23ff18",black:"#2c1d16",brightBlack:"#666666",red:"#ef5734",brightRed:"#e50000",green:"#2baf2b",brightGreen:"#86a93e",yellow:"#bebf00",brightYellow:"#e5e500",blue:"#246eb2",brightBlue:"#0000ff",magenta:"#d05ec1",brightMagenta:"#e500e5",cyan:"#00acee",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},Dt={foreground:"#f7f6ec",background:"#1e1e1e",cursor:"#edcf4f",black:"#343935",brightBlack:"#595b59",red:"#cf3f61",brightRed:"#d18fa6",green:"#7bb75b",brightGreen:"#767f2c",yellow:"#e9b32a",brightYellow:"#78592f",blue:"#4c9ad4",brightBlue:"#135979",magenta:"#a57fc4",brightMagenta:"#604291",cyan:"#389aad",brightCyan:"#76bbca",white:"#fafaf6",brightWhite:"#b2b5ae"},Pt={foreground:"#dedede",background:"#121212",cursor:"#ffa560",black:"#929292",brightBlack:"#bdbdbd",red:"#e27373",brightRed:"#ffa1a1",green:"#94b979",brightGreen:"#bddeab",yellow:"#ffba7b",brightYellow:"#ffdca0",blue:"#97bedc",brightBlue:"#b1d8f6",magenta:"#e1c0fa",brightMagenta:"#fbdaff",cyan:"#00988e",brightCyan:"#1ab2a8",white:"#dedede",brightWhite:"#ffffff"},It={foreground:"#adadad",background:"#202020",cursor:"#ffffff",black:"#000000",brightBlack:"#555555",red:"#fa5355",brightRed:"#fb7172",green:"#126e00",brightGreen:"#67ff4f",yellow:"#c2c300",brightYellow:"#ffff00",blue:"#4581eb",brightBlue:"#6d9df1",magenta:"#fa54ff",brightMagenta:"#fb82ff",cyan:"#33c2c1",brightCyan:"#60d3d1",white:"#adadad",brightWhite:"#eeeeee"},we={foreground:"#f7f7f7",background:"#0e100a",cursor:"#9fda9c",black:"#4d4d4d",brightBlack:"#5a5a5a",red:"#c70031",brightRed:"#f01578",green:"#29cf13",brightGreen:"#6ce05c",yellow:"#d8e30e",brightYellow:"#f3f79e",blue:"#3449d1",brightBlue:"#97a4f7",magenta:"#8400ff",brightMagenta:"#c495f0",cyan:"#0798ab",brightCyan:"#68f2e0",white:"#e2d1e3",brightWhite:"#ffffff"},ke={foreground:"#959595",background:"#222222",cursor:"#424242",black:"#2b2b2b",brightBlack:"#454747",red:"#d45a60",brightRed:"#d3232f",green:"#afba67",brightGreen:"#aabb39",yellow:"#e5d289",brightYellow:"#e5be39",blue:"#a0bad6",brightBlue:"#6699d6",magenta:"#c092d6",brightMagenta:"#ab53d6",cyan:"#91bfb7",brightCyan:"#5fc0ae",white:"#3c3d3d",brightWhite:"#c1c2c2"},Le={foreground:"#736e7d",background:"#050014",cursor:"#8c91fa",black:"#230046",brightBlack:"#372d46",red:"#7d1625",brightRed:"#e05167",green:"#337e6f",brightGreen:"#52e0c4",yellow:"#7f6f49",brightYellow:"#e0c386",blue:"#4f4a7f",brightBlue:"#8e87e0",magenta:"#5a3f7f",brightMagenta:"#a776e0",cyan:"#58777f",brightCyan:"#9ad4e0",white:"#736e7d",brightWhite:"#8c91fa"},Ee={foreground:"#afc2c2",background:"#303030",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#ff3030",brightRed:"#ff3030",green:"#559a70",brightGreen:"#559a70",yellow:"#ccac00",brightYellow:"#ccac00",blue:"#0099cc",brightBlue:"#0099cc",magenta:"#cc69c8",brightMagenta:"#cc69c8",cyan:"#7ac4cc",brightCyan:"#7ac4cc",white:"#bccccc",brightWhite:"#bccccc"},Me={foreground:"#afc2c2",background:"#000000",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#ff3030",brightRed:"#ff3030",green:"#559a70",brightGreen:"#559a70",yellow:"#ccac00",brightYellow:"#ccac00",blue:"#0099cc",brightBlue:"#0099cc",magenta:"#cc69c8",brightMagenta:"#cc69c8",cyan:"#7ac4cc",brightCyan:"#7ac4cc",white:"#bccccc",brightWhite:"#bccccc"},Be={foreground:"#afc2c2",background:"#000000",cursor:"#ffffff",black:"#bccccd",brightBlack:"#ffffff",red:"#ff3030",brightRed:"#ff3030",green:"#559a70",brightGreen:"#559a70",yellow:"#ccac00",brightYellow:"#ccac00",blue:"#0099cc",brightBlue:"#0099cc",magenta:"#cc69c8",brightMagenta:"#cc69c8",cyan:"#7ac4cc",brightCyan:"#7ac4cc",white:"#000000",brightWhite:"#000000"},Re={foreground:"#000000",background:"#fef49c",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#cc0000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#cccccc",brightWhite:"#e5e5e5"},xe={foreground:"#232322",background:"#eaeaea",cursor:"#16afca",black:"#212121",brightBlack:"#424242",red:"#b7141f",brightRed:"#e83b3f",green:"#457b24",brightGreen:"#7aba3a",yellow:"#f6981e",brightYellow:"#ffea2e",blue:"#134eb2",brightBlue:"#54a4f3",magenta:"#560088",brightMagenta:"#aa4dbc",cyan:"#0e717c",brightCyan:"#26bbd1",white:"#efefef",brightWhite:"#d9d9d9"},Ae={foreground:"#e5e5e5",background:"#232322",cursor:"#16afca",black:"#212121",brightBlack:"#424242",red:"#b7141f",brightRed:"#e83b3f",green:"#457b24",brightGreen:"#7aba3a",yellow:"#f6981e",brightYellow:"#ffea2e",blue:"#134eb2",brightBlue:"#54a4f3",magenta:"#560088",brightMagenta:"#aa4dbc",cyan:"#0e717c",brightCyan:"#26bbd1",white:"#efefef",brightWhite:"#d9d9d9"},Oe={foreground:"#bbbbbb",background:"#000000",cursor:"#bbbbbb",black:"#000000",brightBlack:"#555555",red:"#e52222",brightRed:"#ff5555",green:"#a6e32d",brightGreen:"#55ff55",yellow:"#fc951e",brightYellow:"#ffff55",blue:"#c48dff",brightBlue:"#5555ff",magenta:"#fa2573",brightMagenta:"#ff55ff",cyan:"#67d9f0",brightCyan:"#55ffff",white:"#f2f2f2",brightWhite:"#ffffff"},Te={foreground:"#cac296",background:"#1d1908",cursor:"#d3ba30",black:"#000000",brightBlack:"#5e5219",red:"#b64c00",brightRed:"#ff9149",green:"#7c8b16",brightGreen:"#b2ca3b",yellow:"#d3bd26",brightYellow:"#ffe54a",blue:"#616bb0",brightBlue:"#acb8ff",magenta:"#8c5a90",brightMagenta:"#ffa0ff",cyan:"#916c25",brightCyan:"#ffbc51",white:"#cac29a",brightWhite:"#fed698"},De={foreground:"#e1e1e0",background:"#2d3743",cursor:"#000000",black:"#000000",brightBlack:"#555555",red:"#ff4242",brightRed:"#ff3242",green:"#74af68",brightGreen:"#74cd68",yellow:"#ffad29",brightYellow:"#ffb929",blue:"#338f86",brightBlue:"#23d7d7",magenta:"#9414e6",brightMagenta:"#ff37ff",cyan:"#23d7d7",brightCyan:"#00ede1",white:"#e1e1e0",brightWhite:"#ffffff"},Pe={foreground:"#bbbbbb",background:"#121212",cursor:"#bbbbbb",black:"#121212",brightBlack:"#555555",red:"#fa2573",brightRed:"#f6669d",green:"#98e123",brightGreen:"#b1e05f",yellow:"#dfd460",brightYellow:"#fff26d",blue:"#1080d0",brightBlue:"#00afff",magenta:"#8700ff",brightMagenta:"#af87ff",cyan:"#43a8d0",brightCyan:"#51ceff",white:"#bbbbbb",brightWhite:"#ffffff"},Ie={foreground:"#f7d66a",background:"#120b0d",cursor:"#c46c32",black:"#351b0e",brightBlack:"#874228",red:"#9b291c",brightRed:"#ff4331",green:"#636232",brightGreen:"#b4b264",yellow:"#c36e28",brightYellow:"#ff9566",blue:"#515c5d",brightBlue:"#9eb2b4",magenta:"#9b1d29",brightMagenta:"#ff5b6a",cyan:"#588056",brightCyan:"#8acd8f",white:"#f7d75c",brightWhite:"#ffe598"},He={foreground:"#c4c5b5",background:"#1a1a1a",cursor:"#f6f7ec",black:"#1a1a1a",brightBlack:"#625e4c",red:"#f4005f",brightRed:"#f4005f",green:"#98e024",brightGreen:"#98e024",yellow:"#fa8419",brightYellow:"#e0d561",blue:"#9d65ff",brightBlue:"#9d65ff",magenta:"#f4005f",brightMagenta:"#f4005f",cyan:"#58d1eb",brightCyan:"#58d1eb",white:"#c4c5b5",brightWhite:"#f6f6ef"},We={foreground:"#f9f9f9",background:"#121212",cursor:"#fb0007",black:"#121212",brightBlack:"#838383",red:"#fa2934",brightRed:"#f6669d",green:"#98e123",brightGreen:"#b1e05f",yellow:"#fff30a",brightYellow:"#fff26d",blue:"#0443ff",brightBlue:"#0443ff",magenta:"#f800f8",brightMagenta:"#f200f6",cyan:"#01b6ed",brightCyan:"#51ceff",white:"#ffffff",brightWhite:"#ffffff"},Fe={foreground:"#a0a0a0",background:"#222222",cursor:"#aa9175",black:"#383838",brightBlack:"#474747",red:"#a95551",brightRed:"#a97775",green:"#666666",brightGreen:"#8c8c8c",yellow:"#a98051",brightYellow:"#a99175",blue:"#657d3e",brightBlue:"#98bd5e",magenta:"#767676",brightMagenta:"#a3a3a3",cyan:"#c9c9c9",brightCyan:"#dcdcdc",white:"#d0b8a3",brightWhite:"#d8c8bb"},je={foreground:"#ffffff",background:"#271f19",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#800000",brightRed:"#800000",green:"#61ce3c",brightGreen:"#61ce3c",yellow:"#fbde2d",brightYellow:"#fbde2d",blue:"#253b76",brightBlue:"#253b76",magenta:"#ff0080",brightMagenta:"#ff0080",cyan:"#8da6ce",brightCyan:"#8da6ce",white:"#f8f8f8",brightWhite:"#f8f8f8"},Ue={foreground:"#e6e8ef",background:"#1c1e22",cursor:"#f6f7ec",black:"#23252b",brightBlack:"#23252b",red:"#b54036",brightRed:"#b54036",green:"#5ab977",brightGreen:"#5ab977",yellow:"#deb566",brightYellow:"#deb566",blue:"#6a7c93",brightBlue:"#6a7c93",magenta:"#a4799d",brightMagenta:"#a4799d",cyan:"#3f94a8",brightCyan:"#3f94a8",white:"#e6e8ef",brightWhite:"#ebedf2"},qe={foreground:"#bbbbbb",background:"#000000",cursor:"#bbbbbb",black:"#4c4c4c",brightBlack:"#555555",red:"#bb0000",brightRed:"#ff5555",green:"#5fde8f",brightGreen:"#55ff55",yellow:"#f3f167",brightYellow:"#ffff55",blue:"#276bd8",brightBlue:"#5555ff",magenta:"#bb00bb",brightMagenta:"#ff55ff",cyan:"#00dadf",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},Ne={foreground:"#bbbbbb",background:"#171717",cursor:"#bbbbbb",black:"#4c4c4c",brightBlack:"#555555",red:"#bb0000",brightRed:"#ff5555",green:"#04f623",brightGreen:"#7df71d",yellow:"#f3f167",brightYellow:"#ffff55",blue:"#64d0f0",brightBlue:"#62cbe8",magenta:"#ce6fdb",brightMagenta:"#ff9bf5",cyan:"#00dadf",brightCyan:"#00ccd8",white:"#bbbbbb",brightWhite:"#ffffff"},Ge={foreground:"#3b2322",background:"#dfdbc3",cursor:"#73635a",black:"#000000",brightBlack:"#808080",red:"#cc0000",brightRed:"#cc0000",green:"#009600",brightGreen:"#009600",yellow:"#d06b00",brightYellow:"#d06b00",blue:"#0000cc",brightBlue:"#0000cc",magenta:"#cc00cc",brightMagenta:"#cc00cc",cyan:"#0087cc",brightCyan:"#0087cc",white:"#cccccc",brightWhite:"#ffffff"},Ye={foreground:"#cdcdcd",background:"#283033",cursor:"#c0cad0",black:"#000000",brightBlack:"#555555",red:"#a60001",brightRed:"#ff0003",green:"#00bb00",brightGreen:"#93c863",yellow:"#fecd22",brightYellow:"#fef874",blue:"#3a9bdb",brightBlue:"#a1d7ff",magenta:"#bb00bb",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},ze={foreground:"#ffffff",background:"#224fbc",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},Ke={foreground:"#c2c8d7",background:"#1c262b",cursor:"#b3b8c3",black:"#000000",brightBlack:"#777777",red:"#ee2b2a",brightRed:"#dc5c60",green:"#40a33f",brightGreen:"#70be71",yellow:"#ffea2e",brightYellow:"#fff163",blue:"#1e80f0",brightBlue:"#54a4f3",magenta:"#8800a0",brightMagenta:"#aa4dbc",cyan:"#16afca",brightCyan:"#42c7da",white:"#a4a4a4",brightWhite:"#ffffff"},Ve={foreground:"#8a8dae",background:"#222125",cursor:"#5b6ea7",black:"#000000",brightBlack:"#5b3725",red:"#ac2e31",brightRed:"#ff3d48",green:"#31ac61",brightGreen:"#3bff99",yellow:"#ac4300",brightYellow:"#ff5e1e",blue:"#2d57ac",brightBlue:"#4488ff",magenta:"#b08528",brightMagenta:"#ffc21d",cyan:"#1fa6ac",brightCyan:"#1ffaff",white:"#8a8eac",brightWhite:"#5b6ea7"},Xe={foreground:"#dcdfe4",background:"#282c34",cursor:"#a3b3cc",black:"#282c34",brightBlack:"#282c34",red:"#e06c75",brightRed:"#e06c75",green:"#98c379",brightGreen:"#98c379",yellow:"#e5c07b",brightYellow:"#e5c07b",blue:"#61afef",brightBlue:"#61afef",magenta:"#c678dd",brightMagenta:"#c678dd",cyan:"#56b6c2",brightCyan:"#56b6c2",white:"#dcdfe4",brightWhite:"#dcdfe4"},Je={foreground:"#383a42",background:"#fafafa",cursor:"#bfceff",black:"#383a42",brightBlack:"#4f525e",red:"#e45649",brightRed:"#e06c75",green:"#50a14f",brightGreen:"#98c379",yellow:"#c18401",brightYellow:"#e5c07b",blue:"#0184bc",brightBlue:"#61afef",magenta:"#a626a4",brightMagenta:"#c678dd",cyan:"#0997b3",brightCyan:"#56b6c2",white:"#fafafa",brightWhite:"#ffffff"},Ze={foreground:"#e1e1e1",background:"#141e43",cursor:"#43d58e",black:"#000000",brightBlack:"#3f5648",red:"#ff4242",brightRed:"#ff3242",green:"#74af68",brightGreen:"#74cd68",yellow:"#ffad29",brightYellow:"#ffb929",blue:"#338f86",brightBlue:"#23d7d7",magenta:"#9414e6",brightMagenta:"#ff37ff",cyan:"#23d7d7",brightCyan:"#00ede1",white:"#e2e2e2",brightWhite:"#ffffff"},$e={foreground:"#a39e9b",background:"#2f1e2e",cursor:"#a39e9b",black:"#2f1e2e",brightBlack:"#776e71",red:"#ef6155",brightRed:"#ef6155",green:"#48b685",brightGreen:"#48b685",yellow:"#fec418",brightYellow:"#fec418",blue:"#06b6ef",brightBlue:"#06b6ef",magenta:"#815ba4",brightMagenta:"#815ba4",cyan:"#5bc4bf",brightCyan:"#5bc4bf",white:"#a39e9b",brightWhite:"#e7e9db"},Qe={foreground:"#a39e9b",background:"#2f1e2e",cursor:"#a39e9b",black:"#2f1e2e",brightBlack:"#776e71",red:"#ef6155",brightRed:"#ef6155",green:"#48b685",brightGreen:"#48b685",yellow:"#fec418",brightYellow:"#fec418",blue:"#06b6ef",brightBlue:"#06b6ef",magenta:"#815ba4",brightMagenta:"#815ba4",cyan:"#5bc4bf",brightCyan:"#5bc4bf",white:"#a39e9b",brightWhite:"#e7e9db"},et={foreground:"#f2f2f2",background:"#000000",cursor:"#4d4d4d",black:"#2a2a2a",brightBlack:"#666666",red:"#ff0000",brightRed:"#ff0080",green:"#79ff0f",brightGreen:"#66ff66",yellow:"#e7bf00",brightYellow:"#f3d64e",blue:"#396bd7",brightBlue:"#709aed",magenta:"#b449be",brightMagenta:"#db67e6",cyan:"#66ccff",brightCyan:"#7adff2",white:"#bbbbbb",brightWhite:"#ffffff"},tt={foreground:"#f1f1f1",background:"#212121",cursor:"#20bbfc",black:"#212121",brightBlack:"#424242",red:"#c30771",brightRed:"#fb007a",green:"#10a778",brightGreen:"#5fd7af",yellow:"#a89c14",brightYellow:"#f3e430",blue:"#008ec4",brightBlue:"#20bbfc",magenta:"#523c79",brightMagenta:"#6855de",cyan:"#20a5ba",brightCyan:"#4fb8cc",white:"#d9d9d9",brightWhite:"#f1f1f1"},rt={foreground:"#424242",background:"#f1f1f1",cursor:"#20bbfc",black:"#212121",brightBlack:"#424242",red:"#c30771",brightRed:"#fb007a",green:"#10a778",brightGreen:"#5fd7af",yellow:"#a89c14",brightYellow:"#f3e430",blue:"#008ec4",brightBlue:"#20bbfc",magenta:"#523c79",brightMagenta:"#6855de",cyan:"#20a5ba",brightCyan:"#4fb8cc",white:"#d9d9d9",brightWhite:"#f1f1f1"},it={foreground:"#414141",background:"#ffffff",cursor:"#5e77c8",black:"#414141",brightBlack:"#3f3f3f",red:"#b23771",brightRed:"#db3365",green:"#66781e",brightGreen:"#829429",yellow:"#cd6f34",brightYellow:"#cd6f34",blue:"#3c5ea8",brightBlue:"#3c5ea8",magenta:"#a454b2",brightMagenta:"#a454b2",cyan:"#66781e",brightCyan:"#829429",white:"#ffffff",brightWhite:"#f2f2f2"},nt={foreground:"#d0d0d0",background:"#1c1c1c",cursor:"#e4c9af",black:"#2f2e2d",brightBlack:"#4a4845",red:"#a36666",brightRed:"#d78787",green:"#90a57d",brightGreen:"#afbea2",yellow:"#d7af87",brightYellow:"#e4c9af",blue:"#7fa5bd",brightBlue:"#a1bdce",magenta:"#c79ec4",brightMagenta:"#d7beda",cyan:"#8adbb4",brightCyan:"#b1e7dd",white:"#d0d0d0",brightWhite:"#efefef"},ot={foreground:"#f2f2f2",background:"#000000",cursor:"#4d4d4d",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#2009db",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},st={foreground:"#ffffff",background:"#762423",cursor:"#ffffff",black:"#000000",brightBlack:"#262626",red:"#d62e4e",brightRed:"#e02553",green:"#71be6b",brightGreen:"#aff08c",yellow:"#beb86b",brightYellow:"#dfddb7",blue:"#489bee",brightBlue:"#65aaf1",magenta:"#e979d7",brightMagenta:"#ddb7df",cyan:"#6bbeb8",brightCyan:"#b7dfdd",white:"#d6d6d6",brightWhite:"#ffffff"},at={foreground:"#d7c9a7",background:"#7a251e",cursor:"#ffffff",black:"#000000",brightBlack:"#555555",red:"#ff3f00",brightRed:"#bb0000",green:"#00bb00",brightGreen:"#00bb00",yellow:"#e7b000",brightYellow:"#e7b000",blue:"#0072ff",brightBlue:"#0072ae",magenta:"#bb00bb",brightMagenta:"#ff55ff",cyan:"#00bbbb",brightCyan:"#55ffff",white:"#bbbbbb",brightWhite:"#ffffff"},ct={foreground:"#ffffff",background:"#2b2b2b",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#cdaf95",brightRed:"#eecbad",green:"#a8ff60",brightGreen:"#bcee68",yellow:"#bfbb1f",brightYellow:"#e5e500",blue:"#75a5b0",brightBlue:"#86bdc9",magenta:"#ff73fd",brightMagenta:"#e500e5",cyan:"#5a647e",brightCyan:"#8c9bc4",white:"#bfbfbf",brightWhite:"#e5e5e5"},lt={foreground:"#514968",background:"#100815",cursor:"#524966",black:"#241f2b",brightBlack:"#312d3d",red:"#91284c",brightRed:"#d5356c",green:"#23801c",brightGreen:"#2cd946",yellow:"#b49d27",brightYellow:"#fde83b",blue:"#6580b0",brightBlue:"#90baf9",magenta:"#674d96",brightMagenta:"#a479e3",cyan:"#8aaabe",brightCyan:"#acd4eb",white:"#524966",brightWhite:"#9e8cbd"},ht={foreground:"#ececec",background:"#2c3941",cursor:"#ececec",black:"#2c3941",brightBlack:"#5d7079",red:"#865f5b",brightRed:"#865f5b",green:"#66907d",brightGreen:"#66907d",yellow:"#b1a990",brightYellow:"#b1a990",blue:"#6a8e95",brightBlue:"#6a8e95",magenta:"#b18a73",brightMagenta:"#b18a73",cyan:"#88b2ac",brightCyan:"#88b2ac",white:"#ececec",brightWhite:"#ececec"},ft={foreground:"#deb88d",background:"#09141b",cursor:"#fca02f",black:"#17384c",brightBlack:"#434b53",red:"#d15123",brightRed:"#d48678",green:"#027c9b",brightGreen:"#628d98",yellow:"#fca02f",brightYellow:"#fdd39f",blue:"#1e4950",brightBlue:"#1bbcdd",magenta:"#68d4f1",brightMagenta:"#bbe3ee",cyan:"#50a3b5",brightCyan:"#87acb4",white:"#deb88d",brightWhite:"#fee4ce"},ut={foreground:"#d4e7d4",background:"#243435",cursor:"#57647a",black:"#757575",brightBlack:"#8a8a8a",red:"#825d4d",brightRed:"#cf937a",green:"#728c62",brightGreen:"#98d9aa",yellow:"#ada16d",brightYellow:"#fae79d",blue:"#4d7b82",brightBlue:"#7ac3cf",magenta:"#8a7267",brightMagenta:"#d6b2a1",cyan:"#729494",brightCyan:"#ade0e0",white:"#e0e0e0",brightWhite:"#e0e0e0"},dt={foreground:"#cacecd",background:"#111213",cursor:"#e3bf21",black:"#323232",brightBlack:"#323232",red:"#c22832",brightRed:"#c22832",green:"#8ec43d",brightGreen:"#8ec43d",yellow:"#e0c64f",brightYellow:"#e0c64f",blue:"#43a5d5",brightBlue:"#43a5d5",magenta:"#8b57b5",brightMagenta:"#8b57b5",cyan:"#8ec43d",brightCyan:"#8ec43d",white:"#eeeeee",brightWhite:"#ffffff"},_t={foreground:"#405555",background:"#001015",cursor:"#4afcd6",black:"#012026",brightBlack:"#384451",red:"#b2302d",brightRed:"#ff4242",green:"#00a941",brightGreen:"#2aea5e",yellow:"#5e8baa",brightYellow:"#8ed4fd",blue:"#449a86",brightBlue:"#61d5ba",magenta:"#00599d",brightMagenta:"#1298ff",cyan:"#5d7e19",brightCyan:"#98d028",white:"#405555",brightWhite:"#58fbd6"},bt={foreground:"#35b1d2",background:"#222222",cursor:"#87d3c4",black:"#222222",brightBlack:"#ffffff",red:"#e2a8bf",brightRed:"#ffcdd9",green:"#81d778",brightGreen:"#beffa8",yellow:"#c4c9c0",brightYellow:"#d0ccca",blue:"#264b49",brightBlue:"#7ab0d2",magenta:"#a481d3",brightMagenta:"#c5a7d9",cyan:"#15ab9c",brightCyan:"#8cdfe0",white:"#02c5e0",brightWhite:"#e0e0e0"},gt={foreground:"#f7f7f7",background:"#1b1b1b",cursor:"#bbbbbb",black:"#000000",brightBlack:"#7a7a7a",red:"#b84131",brightRed:"#d6837c",green:"#7da900",brightGreen:"#c4f137",yellow:"#c4a500",brightYellow:"#fee14d",blue:"#62a3c4",brightBlue:"#8dcff0",magenta:"#ba8acc",brightMagenta:"#f79aff",cyan:"#207383",brightCyan:"#6ad9cf",white:"#a1a1a1",brightWhite:"#f7f7f7"},pt={foreground:"#99a3a2",background:"#242626",cursor:"#d2e0de",black:"#000000",brightBlack:"#666c6c",red:"#a2686a",brightRed:"#dd5c60",green:"#9aa56a",brightGreen:"#bfdf55",yellow:"#a3906a",brightYellow:"#deb360",blue:"#6b8fa3",brightBlue:"#62b1df",magenta:"#6a71a3",brightMagenta:"#606edf",cyan:"#6ba58f",brightCyan:"#64e39c",white:"#99a3a2",brightWhite:"#d2e0de"},vt={foreground:"#d2d8d9",background:"#3d3f41",cursor:"#708284",black:"#25292a",brightBlack:"#25292a",red:"#f24840",brightRed:"#f24840",green:"#629655",brightGreen:"#629655",yellow:"#b68800",brightYellow:"#b68800",blue:"#2075c7",brightBlue:"#2075c7",magenta:"#797fd4",brightMagenta:"#797fd4",cyan:"#15968d",brightCyan:"#15968d",white:"#d2d8d9",brightWhite:"#d2d8d9"},Ht={foreground:"#708284",background:"#001e27",cursor:"#708284",black:"#002831",brightBlack:"#001e27",red:"#d11c24",brightRed:"#bd3613",green:"#738a05",brightGreen:"#475b62",yellow:"#a57706",brightYellow:"#536870",blue:"#2176c7",brightBlue:"#708284",magenta:"#c61c6f",brightMagenta:"#5956ba",cyan:"#259286",brightCyan:"#819090",white:"#eae3cb",brightWhite:"#fcf4dc"},Wt={foreground:"#708284",background:"#001e27",cursor:"#708284",black:"#002831",brightBlack:"#475b62",red:"#d11c24",brightRed:"#bd3613",green:"#738a05",brightGreen:"#475b62",yellow:"#a57706",brightYellow:"#536870",blue:"#2176c7",brightBlue:"#708284",magenta:"#c61c6f",brightMagenta:"#5956ba",cyan:"#259286",brightCyan:"#819090",white:"#eae3cb",brightWhite:"#fcf4dc"},Ft={foreground:"#9cc2c3",background:"#001e27",cursor:"#f34b00",black:"#002831",brightBlack:"#006488",red:"#d11c24",brightRed:"#f5163b",green:"#6cbe6c",brightGreen:"#51ef84",yellow:"#a57706",brightYellow:"#b27e28",blue:"#2176c7",brightBlue:"#178ec8",magenta:"#c61c6f",brightMagenta:"#e24d8e",cyan:"#259286",brightCyan:"#00b39e",white:"#eae3cb",brightWhite:"#fcf4dc"},jt={foreground:"#536870",background:"#fcf4dc",cursor:"#536870",black:"#002831",brightBlack:"#001e27",red:"#d11c24",brightRed:"#bd3613",green:"#738a05",brightGreen:"#475b62",yellow:"#a57706",brightYellow:"#536870",blue:"#2176c7",brightBlue:"#708284",magenta:"#c61c6f",brightMagenta:"#5956ba",cyan:"#259286",brightCyan:"#819090",white:"#eae3cb",brightWhite:"#fcf4dc"},Ut={foreground:"#b3b8c3",background:"#20242d",cursor:"#b3b8c3",black:"#000000",brightBlack:"#000000",red:"#b04b57",brightRed:"#b04b57",green:"#87b379",brightGreen:"#87b379",yellow:"#e5c179",brightYellow:"#e5c179",blue:"#7d8fa4",brightBlue:"#7d8fa4",magenta:"#a47996",brightMagenta:"#a47996",cyan:"#85a7a5",brightCyan:"#85a7a5",white:"#b3b8c3",brightWhite:"#ffffff"},qt={foreground:"#bdbaae",background:"#222222",cursor:"#bbbbbb",black:"#15171c",brightBlack:"#555555",red:"#ec5f67",brightRed:"#ff6973",green:"#81a764",brightGreen:"#93d493",yellow:"#fec254",brightYellow:"#ffd256",blue:"#5486c0",brightBlue:"#4d84d1",magenta:"#bf83c1",brightMagenta:"#ff55ff",cyan:"#57c2c1",brightCyan:"#83e9e4",white:"#efece7",brightWhite:"#ffffff"},Nt={foreground:"#c9c6bc",background:"#222222",cursor:"#bbbbbb",black:"#15171c",brightBlack:"#555555",red:"#b24a56",brightRed:"#ec5f67",green:"#92b477",brightGreen:"#89e986",yellow:"#c6735a",brightYellow:"#fec254",blue:"#7c8fa5",brightBlue:"#5486c0",magenta:"#a5789e",brightMagenta:"#bf83c1",cyan:"#80cdcb",brightCyan:"#58c2c1",white:"#b3b8c3",brightWhite:"#ffffff"},Gt={foreground:"#ecf0c1",background:"#0a1e24",cursor:"#708284",black:"#6e5346",brightBlack:"#684c31",red:"#e35b00",brightRed:"#ff8a3a",green:"#5cab96",brightGreen:"#aecab8",yellow:"#e3cd7b",brightYellow:"#ffc878",blue:"#0f548b",brightBlue:"#67a0ce",magenta:"#e35b00",brightMagenta:"#ff8a3a",cyan:"#06afc7",brightCyan:"#83a7b4",white:"#f0f1ce",brightWhite:"#fefff1"},Yt={foreground:"#e3e3e3",background:"#1b1d1e",cursor:"#2c3fff",black:"#1b1d1e",brightBlack:"#505354",red:"#e60813",brightRed:"#ff0325",green:"#e22928",brightGreen:"#ff3338",yellow:"#e24756",brightYellow:"#fe3a35",blue:"#2c3fff",brightBlue:"#1d50ff",magenta:"#2435db",brightMagenta:"#747cff",cyan:"#3256ff",brightCyan:"#6184ff",white:"#fffef6",brightWhite:"#fffff9"},zt={foreground:"#4d4d4c",background:"#ffffff",cursor:"#4d4d4c",black:"#000000",brightBlack:"#000000",red:"#ff4d83",brightRed:"#ff0021",green:"#1f8c3b",brightGreen:"#1fc231",yellow:"#1fc95b",brightYellow:"#d5b807",blue:"#1dd3ee",brightBlue:"#15a9fd",magenta:"#8959a8",brightMagenta:"#8959a8",cyan:"#3e999f",brightCyan:"#3e999f",white:"#ffffff",brightWhite:"#ffffff"},Kt={foreground:"#acacab",background:"#1a1a1a",cursor:"#fcfbcc",black:"#050505",brightBlack:"#141414",red:"#e9897c",brightRed:"#f99286",green:"#b6377d",brightGreen:"#c3f786",yellow:"#ecebbe",brightYellow:"#fcfbcc",blue:"#a9cdeb",brightBlue:"#b6defb",magenta:"#75507b",brightMagenta:"#ad7fa8",cyan:"#c9caec",brightCyan:"#d7d9fc",white:"#f2f2f2",brightWhite:"#e2e2e2"},Vt={foreground:"#c9c9c9",background:"#1a1818",cursor:"#ffffff",black:"#302b2a",brightBlack:"#4d4e48",red:"#a7463d",brightRed:"#aa000c",green:"#587744",brightGreen:"#128c21",yellow:"#9d602a",brightYellow:"#fc6a21",blue:"#485b98",brightBlue:"#7999f7",magenta:"#864651",brightMagenta:"#fd8aa1",cyan:"#9c814f",brightCyan:"#fad484",white:"#c9c9c9",brightWhite:"#ffffff"},Xt={foreground:"#ffffff",background:"#000000",cursor:"#dc322f",black:"#000000",brightBlack:"#1b1d21",red:"#dc322f",brightRed:"#dc322f",green:"#56db3a",brightGreen:"#56db3a",yellow:"#ff8400",brightYellow:"#ff8400",blue:"#0084d4",brightBlue:"#0084d4",magenta:"#b729d9",brightMagenta:"#b729d9",cyan:"#ccccff",brightCyan:"#ccccff",white:"#ffffff",brightWhite:"#ffffff"},Jt={foreground:"#d0d0d0",background:"#262626",cursor:"#e4c9af",black:"#1c1c1c",brightBlack:"#1c1c1c",red:"#d68686",brightRed:"#d68686",green:"#aed686",brightGreen:"#aed686",yellow:"#d7af87",brightYellow:"#e4c9af",blue:"#86aed6",brightBlue:"#86aed6",magenta:"#d6aed6",brightMagenta:"#d6aed6",cyan:"#8adbb4",brightCyan:"#b1e7dd",white:"#d0d0d0",brightWhite:"#efefef"},Zt={foreground:"#000000",background:"#ffffff",cursor:"#7f7f7f",black:"#000000",brightBlack:"#666666",red:"#990000",brightRed:"#e50000",green:"#00a600",brightGreen:"#00d900",yellow:"#999900",brightYellow:"#e5e500",blue:"#0000b2",brightBlue:"#0000ff",magenta:"#b200b2",brightMagenta:"#e500e5",cyan:"#00a6b2",brightCyan:"#00e5e5",white:"#bfbfbf",brightWhite:"#e5e5e5"},$t={foreground:"#f8f8f8",background:"#1b1d1e",cursor:"#fc971f",black:"#1b1d1e",brightBlack:"#505354",red:"#f92672",brightRed:"#ff5995",green:"#4df840",brightGreen:"#b6e354",yellow:"#f4fd22",brightYellow:"#feed6c",blue:"#2757d6",brightBlue:"#3f78ff",magenta:"#8c54fe",brightMagenta:"#9e6ffe",cyan:"#38c8b5",brightCyan:"#23cfd5",white:"#ccccc6",brightWhite:"#f8f8f2"},er={foreground:"#b5b5b5",background:"#1b1d1e",cursor:"#16b61b",black:"#1b1d1e",brightBlack:"#505354",red:"#269d1b",brightRed:"#8dff2a",green:"#13ce30",brightGreen:"#48ff77",yellow:"#63e457",brightYellow:"#3afe16",blue:"#2525f5",brightBlue:"#506b95",magenta:"#641f74",brightMagenta:"#72589d",cyan:"#378ca9",brightCyan:"#4085a6",white:"#d9d8d1",brightWhite:"#e5e6e1"},nr={foreground:"#4d4d4c",background:"#ffffff",cursor:"#4d4d4c",black:"#000000",brightBlack:"#000000",red:"#c82829",brightRed:"#c82829",green:"#718c00",brightGreen:"#718c00",yellow:"#eab700",brightYellow:"#eab700",blue:"#4271ae",brightBlue:"#4271ae",magenta:"#8959a8",brightMagenta:"#8959a8",cyan:"#3e999f",brightCyan:"#3e999f",white:"#ffffff",brightWhite:"#ffffff"},tr={foreground:"#c5c8c6",background:"#1d1f21",cursor:"#c5c8c6",black:"#000000",brightBlack:"#000000",red:"#cc6666",brightRed:"#cc6666",green:"#b5bd68",brightGreen:"#b5bd68",yellow:"#f0c674",brightYellow:"#f0c674",blue:"#81a2be",brightBlue:"#81a2be",magenta:"#b294bb",brightMagenta:"#b294bb",cyan:"#8abeb7",brightCyan:"#8abeb7",white:"#ffffff",brightWhite:"#ffffff"},rr={foreground:"#ffffff",background:"#002451",cursor:"#ffffff",black:"#000000",brightBlack:"#000000",red:"#ff9da4",brightRed:"#ff9da4",green:"#d1f1a9",brightGreen:"#d1f1a9",yellow:"#ffeead",brightYellow:"#ffeead",blue:"#bbdaff",brightBlue:"#bbdaff",magenta:"#ebbbff",brightMagenta:"#ebbbff",cyan:"#99ffff",brightCyan:"#99ffff",white:"#ffffff",brightWhite:"#ffffff"},or={foreground:"#eaeaea",background:"#000000",cursor:"#eaeaea",black:"#000000",brightBlack:"#000000",red:"#d54e53",brightRed:"#d54e53",green:"#b9ca4a",brightGreen:"#b9ca4a",yellow:"#e7c547",brightYellow:"#e7c547",blue:"#7aa6da",brightBlue:"#7aa6da",magenta:"#c397d8",brightMagenta:"#c397d8",cyan:"#70c0b1",brightCyan:"#70c0b1",white:"#ffffff",brightWhite:"#ffffff"},sr={foreground:"#cccccc",background:"#2d2d2d",cursor:"#cccccc",black:"#000000",brightBlack:"#000000",red:"#f2777a",brightRed:"#f2777a",green:"#99cc99",brightGreen:"#99cc99",yellow:"#ffcc66",brightYellow:"#ffcc66",blue:"#6699cc",brightBlue:"#6699cc",magenta:"#cc99cc",brightMagenta:"#cc99cc",cyan:"#66cccc",brightCyan:"#66cccc",white:"#ffffff",brightWhite:"#ffffff"},H={foreground:"#31d07b",background:"#24364b",cursor:"#d5d5d5",black:"#2c3f58",brightBlack:"#336889",red:"#be2d26",brightRed:"#dd5944",green:"#1a9172",brightGreen:"#31d07b",yellow:"#db8e27",brightYellow:"#e7d84b",blue:"#325d96",brightBlue:"#34a6da",magenta:"#8a5edc",brightMagenta:"#ae6bdc",cyan:"#35a08f",brightCyan:"#42c3ae",white:"#23d183",brightWhite:"#d5d5d5"},I={foreground:"#786b53",background:"#191919",cursor:"#fac814",black:"#321300",brightBlack:"#433626",red:"#b2270e",brightRed:"#ed5d20",green:"#44a900",brightGreen:"#55f238",yellow:"#aa820c",brightYellow:"#f2b732",blue:"#58859a",brightBlue:"#85cfed",magenta:"#97363d",brightMagenta:"#e14c5a",cyan:"#b25a1e",brightCyan:"#f07d14",white:"#786b53",brightWhite:"#ffc800"},ce={foreground:"#eeeeec",background:"#300a24",cursor:"#bbbbbb",black:"#2e3436",brightBlack:"#555753",red:"#cc0000",brightRed:"#ef2929",green:"#4e9a06",brightGreen:"#8ae234",yellow:"#c4a000",brightYellow:"#fce94f",blue:"#3465a4",brightBlue:"#729fcf",magenta:"#75507b",brightMagenta:"#ad7fa8",cyan:"#06989a",brightCyan:"#34e2e2",white:"#d3d7cf",brightWhite:"#eeeeec"},pe={foreground:"#ffffff",background:"#011116",cursor:"#4afcd6",black:"#022026",brightBlack:"#384451",red:"#b2302d",brightRed:"#ff4242",green:"#00a941",brightGreen:"#2aea5e",yellow:"#59819c",brightYellow:"#8ed4fd",blue:"#459a86",brightBlue:"#61d5ba",magenta:"#00599d",brightMagenta:"#1298ff",cyan:"#5d7e19",brightCyan:"#98d028",white:"#405555",brightWhite:"#58fbd6"},ve={foreground:"#877a9b",background:"#1b1b23",cursor:"#a063eb",black:"#000000",brightBlack:"#5d3225",red:"#b0425b",brightRed:"#ff6388",green:"#37a415",brightGreen:"#29e620",yellow:"#ad5c42",brightYellow:"#f08161",blue:"#564d9b",brightBlue:"#867aed",magenta:"#6c3ca1",brightMagenta:"#a05eee",cyan:"#808080",brightCyan:"#eaeaea",white:"#87799c",brightWhite:"#bfa3ff"},ee={foreground:"#dcdccc",background:"#25234f",cursor:"#ff5555",black:"#25234f",brightBlack:"#709080",red:"#705050",brightRed:"#dca3a3",green:"#60b48a",brightGreen:"#60b48a",yellow:"#dfaf8f",brightYellow:"#f0dfaf",blue:"#5555ff",brightBlue:"#5555ff",magenta:"#f08cc3",brightMagenta:"#ec93d3",cyan:"#8cd0d3",brightCyan:"#93e0e3",white:"#709080",brightWhite:"#ffffff"},le={foreground:"#ffffff",background:"#000000",cursor:"#ffffff",black:"#878787",brightBlack:"#555555",red:"#ff6600",brightRed:"#ff0000",green:"#ccff04",brightGreen:"#00ff00",yellow:"#ffcc00",brightYellow:"#ffff00",blue:"#44b4cc",brightBlue:"#0000ff",magenta:"#9933cc",brightMagenta:"#ff00ff",cyan:"#44b4cc",brightCyan:"#00ffff",white:"#f5f5f5",brightWhite:"#e5e5e5"},he={foreground:"#708284",background:"#1c1d1f",cursor:"#708284",black:"#56595c",brightBlack:"#45484b",red:"#c94c22",brightRed:"#bd3613",green:"#85981c",brightGreen:"#738a04",yellow:"#b4881d",brightYellow:"#a57705",blue:"#2e8bce",brightBlue:"#2176c7",magenta:"#d13a82",brightMagenta:"#c61c6f",cyan:"#32a198",brightCyan:"#259286",white:"#c9c6bd",brightWhite:"#c9c6bd"},ye={foreground:"#536870",background:"#fcf4dc",cursor:"#536870",black:"#56595c",brightBlack:"#45484b",red:"#c94c22",brightRed:"#bd3613",green:"#85981c",brightGreen:"#738a04",yellow:"#b4881d",brightYellow:"#a57705",blue:"#2e8bce",brightBlue:"#2176c7",magenta:"#d13a82",brightMagenta:"#c61c6f",cyan:"#32a198",brightCyan:"#259286",white:"#d3d0c9",brightWhite:"#c9c6bd"},ie={foreground:"#afdab6",background:"#404040",cursor:"#30ff24",black:"#000000",brightBlack:"#fefcfc",red:"#e24346",brightRed:"#e97071",green:"#39b13a",brightGreen:"#9cc090",yellow:"#dae145",brightYellow:"#ddda7a",blue:"#4261c5",brightBlue:"#7b91d6",magenta:"#f920fb",brightMagenta:"#f674ba",cyan:"#2abbd4",brightCyan:"#5ed1e5",white:"#d0b8a3",brightWhite:"#d8c8bb"},fe={foreground:"#b3b3b3",background:"#000000",cursor:"#53ae71",black:"#000000",brightBlack:"#555555",red:"#cc5555",brightRed:"#ff5555",green:"#55cc55",brightGreen:"#55ff55",yellow:"#cdcd55",brightYellow:"#ffff55",blue:"#5555cc",brightBlue:"#5555ff",magenta:"#cc55cc",brightMagenta:"#ff55ff",cyan:"#7acaca",brightCyan:"#55ffff",white:"#cccccc",brightWhite:"#ffffff"},me={foreground:"#dafaff",background:"#1f1726",cursor:"#dd00ff",black:"#000507",brightBlack:"#009cc9",red:"#d94085",brightRed:"#da6bac",green:"#2ab250",brightGreen:"#f4dca5",yellow:"#ffd16f",brightYellow:"#eac066",blue:"#883cdc",brightBlue:"#308cba",magenta:"#ececec",brightMagenta:"#ae636b",cyan:"#c1b8b7",brightCyan:"#ff919d",white:"#fff8de",brightWhite:"#e4838d"},Ce={foreground:"#dedacf",background:"#171717",cursor:"#bbbbbb",black:"#000000",brightBlack:"#313131",red:"#ff615a",brightRed:"#f58c80",green:"#b1e969",brightGreen:"#ddf88f",yellow:"#ebd99c",brightYellow:"#eee5b2",blue:"#5da9f6",brightBlue:"#a5c7ff",magenta:"#e86aff",brightMagenta:"#ddaaff",cyan:"#82fff7",brightCyan:"#b7fff9",white:"#dedacf",brightWhite:"#ffffff"},be={foreground:"#999993",background:"#101010",cursor:"#9e9ecb",black:"#333333",brightBlack:"#3d3d3d",red:"#8c4665",brightRed:"#bf4d80",green:"#287373",brightGreen:"#53a6a6",yellow:"#7c7c99",brightYellow:"#9e9ecb",blue:"#395573",brightBlue:"#477ab3",magenta:"#5e468c",brightMagenta:"#7e62b3",cyan:"#31658c",brightCyan:"#6096bf",white:"#899ca1",brightWhite:"#c0c0c0"},ge={foreground:"#dcdccc",background:"#3f3f3f",cursor:"#73635a",black:"#4d4d4d",brightBlack:"#709080",red:"#705050",brightRed:"#dca3a3",green:"#60b48a",brightGreen:"#c3bf9f",yellow:"#f0dfaf",brightYellow:"#e0cf9f",blue:"#506070",brightBlue:"#94bff3",magenta:"#dc8cc3",brightMagenta:"#ec93d3",cyan:"#8cd0d3",brightCyan:"#93e0e3",white:"#dcdccc",brightWhite:"#ffffff"},se={foreground:"#e6e1cf",background:"#0f1419",cursor:"#f29718",black:"#000000",brightBlack:"#323232",red:"#ff3333",brightRed:"#ff6565",green:"#b8cc52",brightGreen:"#eafe84",yellow:"#e7c547",brightYellow:"#fff779",blue:"#36a3d9",brightBlue:"#68d5ff",magenta:"#f07178",brightMagenta:"#ffa3aa",cyan:"#95e6cb",brightCyan:"#c7fffd",white:"#ffffff",brightWhite:"#ffffff"},ne={foreground:"#cdcdcd",background:"#000000",cursor:"#d0d0d0",black:"#000000",brightBlack:"#535353",red:"#d11600",brightRed:"#f4152c",green:"#37c32c",brightGreen:"#01ea10",yellow:"#e3c421",brightYellow:"#ffee1d",blue:"#5c6bfd",brightBlue:"#8cb0f8",magenta:"#dd5be5",brightMagenta:"#e056f5",cyan:"#6eb4f2",brightCyan:"#67ecff",white:"#e0e0e0",brightWhite:"#f4f4f4"},$={foreground:"#ffffff",background:"#323232",cursor:"#d6d6d6",black:"#323232",brightBlack:"#535353",red:"#d25252",brightRed:"#f07070",green:"#7fe173",brightGreen:"#9dff91",yellow:"#ffc66d",brightYellow:"#ffe48b",blue:"#4099ff",brightBlue:"#5eb7f7",magenta:"#f680ff",brightMagenta:"#ff9dff",cyan:"#bed6ff",brightCyan:"#dcf4ff",white:"#eeeeec",brightWhite:"#ffffff"},ue={Night_3024:X,AdventureTime:F,Afterglow:a,AlienBlood:p,Argonaut:l,Arthur:u,AtelierSulphurpool:f,Atom:h,Batman:v,Belafonte_Night:b,BirdsOfParadise:n,Blazer:s,Borland:d,Bright_Lights:i,Broadcast:t,Brogrammer:e,C64:r,Chalk:o,Chalkboard:c,Ciapre:_,Cobalt2:g,Cobalt_Neon:S,CrayonPonyFish:C,Dark_Pastel:y,Darkside:m,Desert:E,DimmedMonokai:L,DotGov:T,Dracula:B,Duotone_Dark:w,ENCOM:M,Earthsong:A,Elemental:P,Elementary:j,Espresso:U,Espresso_Libre:z,Fideloper:K,FirefoxDev:V,Firewatch:k,FishTank:R,Flat:x,Flatland:W,Floraverse:O,ForestBlue:q,FrontEndDelight:Y,FunForrest:J,Galaxy:Q,Github:re,Glacier:N,Grape:te,Grass:oe,Gruvbox_Dark:ae,Hardcore:_e,Harper:kt,Highway:Lt,Hipster_Green:Et,Homebrew:Mt,Hurtado:Bt,Hybrid:Rt,IC_Green_PPL:xt,IC_Orange_PPL:At,IR_Black:Ot,Jackie_Brown:Tt,Japanesque:Dt,Jellybeans:Pt,JetBrains_Darcula:It,Kibble:we,Later_This_Evening:ke,Lavandula:Le,LiquidCarbon:Ee,LiquidCarbonTransparent:Me,LiquidCarbonTransparentInverse:Be,Man_Page:Re,Material:xe,MaterialDark:Ae,Mathias:Oe,Medallion:Te,Misterioso:De,Molokai:Pe,MonaLisa:Ie,Monokai_Soda:He,Monokai_Vivid:We,N0tch2k:Fe,Neopolitan:je,Neutron:Ue,NightLion_v1:qe,NightLion_v2:Ne,Novel:Ge,Obsidian:Ye,Ocean:ze,OceanicMaterial:Ke,Ollie:Ve,OneHalfDark:Xe,OneHalfLight:Je,Pandora:Ze,Paraiso_Dark:$e,Parasio_Dark:Qe,PaulMillr:et,PencilDark:tt,PencilLight:rt,Piatto_Light:it,Pnevma:nt,Pro:ot,Red_Alert:st,Red_Sands:at,Rippedcasts:ct,Royal:lt,Ryuuko:ht,SeaShells:ft,Seafoam_Pastel:ut,Seti:dt,Shaman:_t,Slate:bt,Smyck:gt,SoftServer:pt,Solarized_Darcula:vt,Solarized_Dark:Ht,Solarized_Dark_Patched:Wt,Solarized_Dark_Higher_Contrast:Ft,Solarized_Light:jt,SpaceGray:Ut,SpaceGray_Eighties:qt,SpaceGray_Eighties_Dull:Nt,Spacedust:Gt,Spiderman:Yt,Spring:zt,Square:Kt,Sundried:Vt,Symfonic:Xt,Teerb:Jt,Terminal_Basic:Zt,Thayer_Bright:$t,The_Hulk:er,Tomorrow:nr,Tomorrow_Night:tr,Tomorrow_Night_Blue:rr,Tomorrow_Night_Bright:or,Tomorrow_Night_Eighties:sr,ToyChest:H,Treehouse:I,Ubuntu:ce,UnderTheSea:pe,Urple:ve,Vaughn:ee,VibrantInk:le,Violet_Dark:he,Violet_Light:ye,WarmNeon:ie,Wez:fe,WildCherry:me,Wombat:Ce,Wryan:be,Zenburn:ge,ayu:se,deep:ne,idleToes:$};D.AdventureTime=F,D.Afterglow=a,D.AlienBlood=p,D.Argonaut=l,D.Arthur=u,D.AtelierSulphurpool=f,D.Atom=h,D.Batman=v,D.Belafonte_Night=b,D.BirdsOfParadise=n,D.Blazer=s,D.Borland=d,D.Bright_Lights=i,D.Broadcast=t,D.Brogrammer=e,D.C64=r,D.Chalk=o,D.Chalkboard=c,D.Ciapre=_,D.Cobalt2=g,D.Cobalt_Neon=S,D.CrayonPonyFish=C,D.Dark_Pastel=y,D.Darkside=m,D.Desert=E,D.DimmedMonokai=L,D.DotGov=T,D.Dracula=B,D.Duotone_Dark=w,D.ENCOM=M,D.Earthsong=A,D.Elemental=P,D.Elementary=j,D.Espresso=U,D.Espresso_Libre=z,D.Fideloper=K,D.FirefoxDev=V,D.Firewatch=k,D.FishTank=R,D.Flat=x,D.Flatland=W,D.Floraverse=O,D.ForestBlue=q,D.FrontEndDelight=Y,D.FunForrest=J,D.Galaxy=Q,D.Github=re,D.Glacier=N,D.Grape=te,D.Grass=oe,D.Gruvbox_Dark=ae,D.Hardcore=_e,D.Harper=kt,D.Highway=Lt,D.Hipster_Green=Et,D.Homebrew=Mt,D.Hurtado=Bt,D.Hybrid=Rt,D.IC_Green_PPL=xt,D.IC_Orange_PPL=At,D.IR_Black=Ot,D.Jackie_Brown=Tt,D.Japanesque=Dt,D.Jellybeans=Pt,D.JetBrains_Darcula=It,D.Kibble=we,D.Later_This_Evening=ke,D.Lavandula=Le,D.LiquidCarbon=Ee,D.LiquidCarbonTransparent=Me,D.LiquidCarbonTransparentInverse=Be,D.Man_Page=Re,D.Material=xe,D.MaterialDark=Ae,D.Mathias=Oe,D.Medallion=Te,D.Misterioso=De,D.Molokai=Pe,D.MonaLisa=Ie,D.Monokai_Soda=He,D.Monokai_Vivid=We,D.N0tch2k=Fe,D.Neopolitan=je,D.Neutron=Ue,D.NightLion_v1=qe,D.NightLion_v2=Ne,D.Night_3024=X,D.Novel=Ge,D.Obsidian=Ye,D.Ocean=ze,D.OceanicMaterial=Ke,D.Ollie=Ve,D.OneHalfDark=Xe,D.OneHalfLight=Je,D.Pandora=Ze,D.Paraiso_Dark=$e,D.Parasio_Dark=Qe,D.PaulMillr=et,D.PencilDark=tt,D.PencilLight=rt,D.Piatto_Light=it,D.Pnevma=nt,D.Pro=ot,D.Red_Alert=st,D.Red_Sands=at,D.Rippedcasts=ct,D.Royal=lt,D.Ryuuko=ht,D.SeaShells=ft,D.Seafoam_Pastel=ut,D.Seti=dt,D.Shaman=_t,D.Slate=bt,D.Smyck=gt,D.SoftServer=pt,D.Solarized_Darcula=vt,D.Solarized_Dark=Ht,D.Solarized_Dark_Higher_Contrast=Ft,D.Solarized_Dark_Patched=Wt,D.Solarized_Light=jt,D.SpaceGray=Ut,D.SpaceGray_Eighties=qt,D.SpaceGray_Eighties_Dull=Nt,D.Spacedust=Gt,D.Spiderman=Yt,D.Spring=zt,D.Square=Kt,D.Sundried=Vt,D.Symfonic=Xt,D.Teerb=Jt,D.Terminal_Basic=Zt,D.Thayer_Bright=$t,D.The_Hulk=er,D.Tomorrow=nr,D.Tomorrow_Night=tr,D.Tomorrow_Night_Blue=rr,D.Tomorrow_Night_Bright=or,D.Tomorrow_Night_Eighties=sr,D.ToyChest=H,D.Treehouse=I,D.Ubuntu=ce,D.UnderTheSea=pe,D.Urple=ve,D.Vaughn=ee,D.VibrantInk=le,D.Violet_Dark=he,D.Violet_Light=ye,D.WarmNeon=ie,D.Wez=fe,D.WildCherry=me,D.Wombat=Ce,D.Wryan=be,D.Zenburn=ge,D.ayu=se,D.deep=ne,D.default=ue,D.idleToes=$,Object.defineProperty(D,"__esModule",{value:!0})})})(dr,dr.exports);var Cr=typeof global=="object"&&global&&global.Object===Object&&global,Sr=Cr,wr=typeof self=="object"&&self&&self.Object===Object&&self,kr=Sr||wr||Function("return this")(),_r=kr,Lr=_r.Symbol,cr=Lr,br=Object.prototype,Er=br.hasOwnProperty,Mr=br.toString,ir=cr?cr.toStringTag:void 0;function Br(G){var Z=Er.call(G,ir),D=G[ir];try{G[ir]=void 0;var X=!0}catch{}var F=Mr.call(G);return X&&(Z?G[ir]=D:delete G[ir]),F}var Rr=Object.prototype,xr=Rr.toString;function Ar(G){return xr.call(G)}var Or="[object Null]",Tr="[object Undefined]",gr=cr?cr.toStringTag:void 0;function Dr(G){return G==null?G===void 0?Tr:Or:gr&&gr in Object(G)?Br(G):Ar(G)}function Pr(G){return G!=null&&typeof G=="object"}var Ir="[object Symbol]";function Hr(G){return typeof G=="symbol"||Pr(G)&&Dr(G)==Ir}var Wr=/\s/;function Fr(G){for(var Z=G.length;Z--&&Wr.test(G.charAt(Z)););return Z}var jr=/^\s+/;function Ur(G){return G&&G.slice(0,Fr(G)+1).replace(jr,"")}function fr(G){var Z=typeof G;return G!=null&&(Z=="object"||Z=="function")}var pr=0/0,qr=/^[-+]0x[0-9a-f]+$/i,Nr=/^0b[01]+$/i,Gr=/^0o[0-7]+$/i,Yr=parseInt;function vr(G){if(typeof G=="number")return G;if(Hr(G))return pr;if(fr(G)){var Z=typeof G.valueOf=="function"?G.valueOf():G;G=fr(Z)?Z+"":Z}if(typeof G!="string")return G===0?G:+G;G=Ur(G);var D=Nr.test(G);return D||Gr.test(G)?Yr(G.slice(2),D?2:8):qr.test(G)?pr:+G}var zr=function(){return _r.Date.now()},ur=zr,Kr="Expected a function",Vr=Math.max,Xr=Math.min;function Qr(G,Z,D){var X,F,a,p,l,u,f=0,h=!1,v=!1,b=!0;if(typeof G!="function")throw new TypeError(Kr);Z=vr(Z)||0,fr(D)&&(h=!!D.leading,v="maxWait"in D,a=v?Vr(vr(D.maxWait)||0,Z):a,b="trailing"in D?!!D.trailing:b);function n(_){var g=X,S=F;return X=F=void 0,f=_,p=G.apply(S,g),p}function s(_){return f=_,l=setTimeout(t,Z),h?n(_):p}function d(_){var g=_-u,S=_-f,C=Z-g;return v?Xr(C,a-S):C}function i(_){var g=_-u,S=_-f;return u===void 0||g>=Z||g<0||v&&S>=a}function t(){var _=ur();if(i(_))return e(_);l=setTimeout(t,d(_))}function e(_){return l=void 0,b&&X?n(_):(X=F=void 0,p)}function r(){l!==void 0&&clearTimeout(l),f=0,X=u=F=l=void 0}function o(){return l===void 0?p:e(ur())}function c(){var _=ur(),g=i(_);if(X=arguments,F=this,u=_,g){if(l===void 0)return s(u);if(v)return clearTimeout(l),l=setTimeout(t,Z),n(u)}return l===void 0&&(l=setTimeout(t,Z)),p}return c.cancel=r,c.flush=o,c}var Jr={exports:{}};(function(G,Z){(function(D,X){G.exports=X()})(self,function(){return(()=>{var D={4567:function(F,a,p){var l,u=this&&this.__extends||(l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])},l(t,e)},function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}l(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(a,"__esModule",{value:!0}),a.AccessibilityManager=void 0;var f=p(9042),h=p(6114),v=p(9924),b=p(3656),n=p(844),s=p(5596),d=p(9631),i=function(t){function e(r,o){var c=t.call(this)||this;c._terminal=r,c._renderService=o,c._liveRegionLineCount=0,c._charsToConsume=[],c._charsToAnnounce="",c._accessibilityTreeRoot=document.createElement("div"),c._accessibilityTreeRoot.setAttribute("role","document"),c._accessibilityTreeRoot.classList.add("xterm-accessibility"),c._accessibilityTreeRoot.tabIndex=0,c._rowContainer=document.createElement("div"),c._rowContainer.setAttribute("role","list"),c._rowContainer.classList.add("xterm-accessibility-tree"),c._rowElements=[];for(var _=0;_<c._terminal.rows;_++)c._rowElements[_]=c._createAccessibilityTreeNode(),c._rowContainer.appendChild(c._rowElements[_]);if(c._topBoundaryFocusListener=function(g){return c._onBoundaryFocus(g,0)},c._bottomBoundaryFocusListener=function(g){return c._onBoundaryFocus(g,1)},c._rowElements[0].addEventListener("focus",c._topBoundaryFocusListener),c._rowElements[c._rowElements.length-1].addEventListener("focus",c._bottomBoundaryFocusListener),c._refreshRowsDimensions(),c._accessibilityTreeRoot.appendChild(c._rowContainer),c._renderRowsDebouncer=new v.TimeBasedDebouncer(c._renderRows.bind(c)),c._refreshRows(),c._liveRegion=document.createElement("div"),c._liveRegion.classList.add("live-region"),c._liveRegion.setAttribute("aria-live","assertive"),c._accessibilityTreeRoot.appendChild(c._liveRegion),!c._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return c._terminal.element.insertAdjacentElement("afterbegin",c._accessibilityTreeRoot),c.register(c._renderRowsDebouncer),c.register(c._terminal.onResize(function(g){return c._onResize(g.rows)})),c.register(c._terminal.onRender(function(g){return c._refreshRows(g.start,g.end)})),c.register(c._terminal.onScroll(function(){return c._refreshRows()})),c.register(c._terminal.onA11yChar(function(g){return c._onChar(g)})),c.register(c._terminal.onLineFeed(function(){return c._onChar(`
`)})),c.register(c._terminal.onA11yTab(function(g){return c._onTab(g)})),c.register(c._terminal.onKey(function(g){return c._onKey(g.key)})),c.register(c._terminal.onBlur(function(){return c._clearLiveRegion()})),c.register(c._renderService.onDimensionsChange(function(){return c._refreshRowsDimensions()})),c._screenDprMonitor=new s.ScreenDprMonitor,c.register(c._screenDprMonitor),c._screenDprMonitor.setListener(function(){return c._refreshRowsDimensions()}),c.register((0,b.addDisposableDomListener)(window,"resize",function(){return c._refreshRowsDimensions()})),c}return u(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),(0,d.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},e.prototype._onBoundaryFocus=function(r,o){var c=r.target,_=this._rowElements[o===0?1:this._rowElements.length-2];if(c.getAttribute("aria-posinset")!==(o===0?"1":""+this._terminal.buffer.lines.length)&&r.relatedTarget===_){var g,S;if(o===0?(g=c,S=this._rowElements.pop(),this._rowContainer.removeChild(S)):(g=this._rowElements.shift(),S=c,this._rowContainer.removeChild(g)),g.removeEventListener("focus",this._topBoundaryFocusListener),S.removeEventListener("focus",this._bottomBoundaryFocusListener),o===0){var C=this._createAccessibilityTreeNode();this._rowElements.unshift(C),this._rowContainer.insertAdjacentElement("afterbegin",C)}else C=this._createAccessibilityTreeNode(),this._rowElements.push(C),this._rowContainer.appendChild(C);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(o===0?-1:1),this._rowElements[o===0?1:this._rowElements.length-2].focus(),r.preventDefault(),r.stopImmediatePropagation()}},e.prototype._onResize=function(r){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var o=this._rowContainer.children.length;o<this._terminal.rows;o++)this._rowElements[o]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[o]);for(;this._rowElements.length>r;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},e.prototype._createAccessibilityTreeNode=function(){var r=document.createElement("div");return r.setAttribute("role","listitem"),r.tabIndex=-1,this._refreshRowDimensions(r),r},e.prototype._onTab=function(r){for(var o=0;o<r;o++)this._onChar(" ")},e.prototype._onChar=function(r){var o=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==r&&(this._charsToAnnounce+=r):this._charsToAnnounce+=r,r===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),h.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){o._accessibilityTreeRoot.appendChild(o._liveRegion)},0))},e.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,h.isMac&&(0,d.removeElementFromParent)(this._liveRegion)},e.prototype._onKey=function(r){this._clearLiveRegion(),this._charsToConsume.push(r)},e.prototype._refreshRows=function(r,o){this._renderRowsDebouncer.refresh(r,o,this._terminal.rows)},e.prototype._renderRows=function(r,o){for(var c=this._terminal.buffer,_=c.lines.length.toString(),g=r;g<=o;g++){var S=c.translateBufferLineToString(c.ydisp+g,!0),C=(c.ydisp+g+1).toString(),y=this._rowElements[g];y&&(S.length===0?y.innerText="\xA0":y.textContent=S,y.setAttribute("aria-posinset",C),y.setAttribute("aria-setsize",_))}this._announceCharacters()},e.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var r=0;r<this._terminal.rows;r++)this._refreshRowDimensions(this._rowElements[r])}},e.prototype._refreshRowDimensions=function(r){r.style.height=this._renderService.dimensions.actualCellHeight+"px"},e.prototype._announceCharacters=function(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},e}(n.Disposable);a.AccessibilityManager=i},3614:(F,a)=>{function p(h){return h.replace(/\r?\n/g,"\r")}function l(h,v){return v?"[200~"+h+"[201~":h}function u(h,v,b){h=l(h=p(h),b.decPrivateModes.bracketedPasteMode),b.triggerDataEvent(h,!0),v.value=""}function f(h,v,b){var n=b.getBoundingClientRect(),s=h.clientX-n.left-10,d=h.clientY-n.top-10;v.style.width="20px",v.style.height="20px",v.style.left=s+"px",v.style.top=d+"px",v.style.zIndex="1000",v.focus()}Object.defineProperty(a,"__esModule",{value:!0}),a.rightClickHandler=a.moveTextAreaUnderMouseCursor=a.paste=a.handlePasteEvent=a.copyHandler=a.bracketTextForPaste=a.prepareTextForTerminal=void 0,a.prepareTextForTerminal=p,a.bracketTextForPaste=l,a.copyHandler=function(h,v){h.clipboardData&&h.clipboardData.setData("text/plain",v.selectionText),h.preventDefault()},a.handlePasteEvent=function(h,v,b){h.stopPropagation(),h.clipboardData&&u(h.clipboardData.getData("text/plain"),v,b)},a.paste=u,a.moveTextAreaUnderMouseCursor=f,a.rightClickHandler=function(h,v,b,n,s){f(h,v,b),s&&n.rightClickSelect(h),v.value=n.selectionText,v.select()}},4774:(F,a)=>{var p,l,u,f;function h(b){var n=b.toString(16);return n.length<2?"0"+n:n}function v(b,n){return b<n?(n+.05)/(b+.05):(b+.05)/(n+.05)}Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=void 0,function(b){b.toCss=function(n,s,d,i){return i!==void 0?"#"+h(n)+h(s)+h(d)+h(i):"#"+h(n)+h(s)+h(d)},b.toRgba=function(n,s,d,i){return i===void 0&&(i=255),(n<<24|s<<16|d<<8|i)>>>0}}(p=a.channels||(a.channels={})),(l=a.color||(a.color={})).blend=function(b,n){var s=(255&n.rgba)/255;if(s===1)return{css:n.css,rgba:n.rgba};var d=n.rgba>>24&255,i=n.rgba>>16&255,t=n.rgba>>8&255,e=b.rgba>>24&255,r=b.rgba>>16&255,o=b.rgba>>8&255,c=e+Math.round((d-e)*s),_=r+Math.round((i-r)*s),g=o+Math.round((t-o)*s);return{css:p.toCss(c,_,g),rgba:p.toRgba(c,_,g)}},l.isOpaque=function(b){return(255&b.rgba)==255},l.ensureContrastRatio=function(b,n,s){var d=f.ensureContrastRatio(b.rgba,n.rgba,s);if(d)return f.toColor(d>>24&255,d>>16&255,d>>8&255)},l.opaque=function(b){var n=(255|b.rgba)>>>0,s=f.toChannels(n),d=s[0],i=s[1],t=s[2];return{css:p.toCss(d,i,t),rgba:n}},l.opacity=function(b,n){var s=Math.round(255*n),d=f.toChannels(b.rgba),i=d[0],t=d[1],e=d[2];return{css:p.toCss(i,t,e,s),rgba:p.toRgba(i,t,e,s)}},l.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]},(a.css||(a.css={})).toColor=function(b){switch(b.length){case 7:return{css:b,rgba:(parseInt(b.slice(1),16)<<8|255)>>>0};case 9:return{css:b,rgba:parseInt(b.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(b){function n(s,d,i){var t=s/255,e=d/255,r=i/255;return .2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))}b.relativeLuminance=function(s){return n(s>>16&255,s>>8&255,255&s)},b.relativeLuminance2=n}(u=a.rgb||(a.rgb={})),function(b){function n(d,i,t){for(var e=d>>24&255,r=d>>16&255,o=d>>8&255,c=i>>24&255,_=i>>16&255,g=i>>8&255,S=v(u.relativeLuminance2(c,g,_),u.relativeLuminance2(e,r,o));S<t&&(c>0||_>0||g>0);)c-=Math.max(0,Math.ceil(.1*c)),_-=Math.max(0,Math.ceil(.1*_)),g-=Math.max(0,Math.ceil(.1*g)),S=v(u.relativeLuminance2(c,g,_),u.relativeLuminance2(e,r,o));return(c<<24|_<<16|g<<8|255)>>>0}function s(d,i,t){for(var e=d>>24&255,r=d>>16&255,o=d>>8&255,c=i>>24&255,_=i>>16&255,g=i>>8&255,S=v(u.relativeLuminance2(c,g,_),u.relativeLuminance2(e,r,o));S<t&&(c<255||_<255||g<255);)c=Math.min(255,c+Math.ceil(.1*(255-c))),_=Math.min(255,_+Math.ceil(.1*(255-_))),g=Math.min(255,g+Math.ceil(.1*(255-g))),S=v(u.relativeLuminance2(c,g,_),u.relativeLuminance2(e,r,o));return(c<<24|_<<16|g<<8|255)>>>0}b.ensureContrastRatio=function(d,i,t){var e=u.relativeLuminance(d>>8),r=u.relativeLuminance(i>>8);if(v(e,r)<t)return r<e?n(d,i,t):s(d,i,t)},b.reduceLuminance=n,b.increaseLuminance=s,b.toChannels=function(d){return[d>>24&255,d>>16&255,d>>8&255,255&d]},b.toColor=function(d,i,t){return{css:p.toCss(d,i,t),rgba:p.toRgba(d,i,t)}}}(f=a.rgba||(a.rgba={})),a.toPaddedHex=h,a.contrastRatio=v},7239:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorContrastCache=void 0;var p=function(){function l(){this._color={},this._rgba={}}return l.prototype.clear=function(){this._color={},this._rgba={}},l.prototype.setCss=function(u,f,h){this._rgba[u]||(this._rgba[u]={}),this._rgba[u][f]=h},l.prototype.getCss=function(u,f){return this._rgba[u]?this._rgba[u][f]:void 0},l.prototype.setColor=function(u,f,h){this._color[u]||(this._color[u]={}),this._color[u][f]=h},l.prototype.getColor=function(u,f){return this._color[u]?this._color[u][f]:void 0},l}();a.ColorContrastCache=p},5680:function(F,a,p){var l=this&&this.__spreadArray||function(i,t,e){if(e||arguments.length===2)for(var r,o=0,c=t.length;o<c;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return i.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(a,"__esModule",{value:!0}),a.ColorManager=a.DEFAULT_ANSI_COLORS=void 0;var u=p(4774),f=p(7239),h=u.css.toColor("#ffffff"),v=u.css.toColor("#000000"),b=u.css.toColor("#ffffff"),n=u.css.toColor("#000000"),s={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};a.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var i=[u.css.toColor("#2e3436"),u.css.toColor("#cc0000"),u.css.toColor("#4e9a06"),u.css.toColor("#c4a000"),u.css.toColor("#3465a4"),u.css.toColor("#75507b"),u.css.toColor("#06989a"),u.css.toColor("#d3d7cf"),u.css.toColor("#555753"),u.css.toColor("#ef2929"),u.css.toColor("#8ae234"),u.css.toColor("#fce94f"),u.css.toColor("#729fcf"),u.css.toColor("#ad7fa8"),u.css.toColor("#34e2e2"),u.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],e=0;e<216;e++){var r=t[e/36%6|0],o=t[e/6%6|0],c=t[e%6];i.push({css:u.channels.toCss(r,o,c),rgba:u.channels.toRgba(r,o,c)})}for(e=0;e<24;e++){var _=8+10*e;i.push({css:u.channels.toCss(_,_,_),rgba:u.channels.toRgba(_,_,_)})}return i}());var d=function(){function i(t,e){this.allowTransparency=e;var r=t.createElement("canvas");r.width=1,r.height=1;var o=r.getContext("2d");if(!o)throw new Error("Could not get rendering context");this._ctx=o,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new f.ColorContrastCache,this.colors={foreground:h,background:v,cursor:b,cursorAccent:n,selectionTransparent:s,selectionOpaque:u.color.blend(v,s),ansi:a.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return i.prototype.onOptionsChange=function(t){t==="minimumContrastRatio"&&this._contrastCache.clear()},i.prototype.setTheme=function(t){t===void 0&&(t={}),this.colors.foreground=this._parseColor(t.foreground,h),this.colors.background=this._parseColor(t.background,v),this.colors.cursor=this._parseColor(t.cursor,b,!0),this.colors.cursorAccent=this._parseColor(t.cursorAccent,n,!0),this.colors.selectionTransparent=this._parseColor(t.selection,s,!0),this.colors.selectionOpaque=u.color.blend(this.colors.background,this.colors.selectionTransparent),u.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=u.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(t.black,a.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(t.red,a.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(t.green,a.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(t.yellow,a.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(t.blue,a.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(t.magenta,a.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(t.cyan,a.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(t.white,a.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(t.brightBlack,a.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(t.brightRed,a.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(t.brightGreen,a.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(t.brightYellow,a.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(t.brightBlue,a.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(t.brightMagenta,a.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(t.brightCyan,a.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(t.brightWhite,a.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},i.prototype.restoreColor=function(t){if(t!==void 0)switch(t){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[t]=this._restoreColors.ansi[t]}else for(var e=0;e<this._restoreColors.ansi.length;++e)this.colors.ansi[e]=this._restoreColors.ansi[e]},i.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:l([],this.colors.ansi,!0)}},i.prototype._parseColor=function(t,e,r){if(r===void 0&&(r=this.allowTransparency),t===void 0)return e;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=t,typeof this._ctx.fillStyle!="string")return console.warn("Color: "+t+" is invalid using fallback "+e.css),e;this._ctx.fillRect(0,0,1,1);var o=this._ctx.getImageData(0,0,1,1).data;if(o[3]!==255){if(!r)return console.warn("Color: "+t+" is using transparency, but allowTransparency is false. Using fallback "+e.css+"."),e;var c=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(m){return Number(m)}),_=c[0],g=c[1],S=c[2],C=c[3],y=Math.round(255*C);return{rgba:u.channels.toRgba(_,g,S,y),css:t}}return{css:this._ctx.fillStyle,rgba:u.channels.toRgba(o[0],o[1],o[2],o[3])}},i}();a.ColorManager=d},9631:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.removeElementFromParent=void 0,a.removeElementFromParent=function(){for(var p,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];for(var f=0,h=l;f<h.length;f++){var v=h[f];(p=v==null?void 0:v.parentElement)===null||p===void 0||p.removeChild(v)}}},3656:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addDisposableDomListener=void 0,a.addDisposableDomListener=function(p,l,u,f){p.addEventListener(l,u,f);var h=!1;return{dispose:function(){h||(h=!0,p.removeEventListener(l,u,f))}}}},3551:function(F,a,p){var l=this&&this.__decorate||function(n,s,d,i){var t,e=arguments.length,r=e<3?s:i===null?i=Object.getOwnPropertyDescriptor(s,d):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,s,d,i);else for(var o=n.length-1;o>=0;o--)(t=n[o])&&(r=(e<3?t(r):e>3?t(s,d,r):t(s,d))||r);return e>3&&r&&Object.defineProperty(s,d,r),r},u=this&&this.__param||function(n,s){return function(d,i){s(d,i,n)}};Object.defineProperty(a,"__esModule",{value:!0}),a.MouseZone=a.Linkifier=void 0;var f=p(8460),h=p(2585),v=function(){function n(s,d,i){this._bufferService=s,this._logService=d,this._unicodeService=i,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new f.EventEmitter,this._onHideLinkUnderline=new f.EventEmitter,this._onLinkTooltip=new f.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(n.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),n.prototype.attachToDom=function(s,d){this._element=s,this._mouseZoneManager=d},n.prototype.linkifyRows=function(s,d){var i=this;this._mouseZoneManager&&(this._rowsToLinkify.start===void 0||this._rowsToLinkify.end===void 0?(this._rowsToLinkify.start=s,this._rowsToLinkify.end=d):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,s),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,d)),this._mouseZoneManager.clearAll(s,d),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return i._linkifyRows()},n._timeBeforeLatency))},n.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var s=this._bufferService.buffer;if(this._rowsToLinkify.start!==void 0&&this._rowsToLinkify.end!==void 0){var d=s.ydisp+this._rowsToLinkify.start;if(!(d>=s.lines.length)){for(var i=s.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,t=Math.ceil(2e3/this._bufferService.cols),e=this._bufferService.buffer.iterator(!1,d,i,t,t);e.hasNext();)for(var r=e.next(),o=0;o<this._linkMatchers.length;o++)this._doLinkifyRow(r.range.first,r.content,this._linkMatchers[o]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},n.prototype.registerLinkMatcher=function(s,d,i){if(i===void 0&&(i={}),!d)throw new Error("handler must be defined");var t={id:this._nextLinkMatcherId++,regex:s,handler:d,matchIndex:i.matchIndex,validationCallback:i.validationCallback,hoverTooltipCallback:i.tooltipCallback,hoverLeaveCallback:i.leaveCallback,willLinkActivate:i.willLinkActivate,priority:i.priority||0};return this._addLinkMatcherToList(t),t.id},n.prototype._addLinkMatcherToList=function(s){if(this._linkMatchers.length!==0){for(var d=this._linkMatchers.length-1;d>=0;d--)if(s.priority<=this._linkMatchers[d].priority)return void this._linkMatchers.splice(d+1,0,s);this._linkMatchers.splice(0,0,s)}else this._linkMatchers.push(s)},n.prototype.deregisterLinkMatcher=function(s){for(var d=0;d<this._linkMatchers.length;d++)if(this._linkMatchers[d].id===s)return this._linkMatchers.splice(d,1),!0;return!1},n.prototype._doLinkifyRow=function(s,d,i){for(var t,e=this,r=new RegExp(i.regex.source,(i.regex.flags||"")+"g"),o=-1,c=function(){var g=t[typeof i.matchIndex!="number"?0:i.matchIndex];if(!g)return _._logService.debug("match found without corresponding matchIndex",t,i),"break";if(o=d.indexOf(g,o+1),r.lastIndex=o+g.length,o<0)return"break";var S=_._bufferService.buffer.stringIndexToBufferIndex(s,o);if(S[0]<0)return"break";var C=_._bufferService.buffer.lines.get(S[0]);if(!C)return"break";var y=C.getFg(S[1]),m=y?y>>9&511:void 0;i.validationCallback?i.validationCallback(g,function(E){e._rowsTimeoutId||E&&e._addLink(S[1],S[0]-e._bufferService.buffer.ydisp,g,i,m)}):_._addLink(S[1],S[0]-_._bufferService.buffer.ydisp,g,i,m)},_=this;(t=r.exec(d))!==null&&c()!=="break";);},n.prototype._addLink=function(s,d,i,t,e){var r=this;if(this._mouseZoneManager&&this._element){var o=this._unicodeService.getStringCellWidth(i),c=s%this._bufferService.cols,_=d+Math.floor(s/this._bufferService.cols),g=(c+o)%this._bufferService.cols,S=_+Math.floor((c+o)/this._bufferService.cols);g===0&&(g=this._bufferService.cols,S--),this._mouseZoneManager.add(new b(c+1,_+1,g+1,S+1,function(C){if(t.handler)return t.handler(C,i);var y=window.open();y?(y.opener=null,y.location.href=i):console.warn("Opening link blocked as opener could not be cleared")},function(){r._onShowLinkUnderline.fire(r._createLinkHoverEvent(c,_,g,S,e)),r._element.classList.add("xterm-cursor-pointer")},function(C){r._onLinkTooltip.fire(r._createLinkHoverEvent(c,_,g,S,e)),t.hoverTooltipCallback&&t.hoverTooltipCallback(C,i,{start:{x:c,y:_},end:{x:g,y:S}})},function(){r._onHideLinkUnderline.fire(r._createLinkHoverEvent(c,_,g,S,e)),r._element.classList.remove("xterm-cursor-pointer"),t.hoverLeaveCallback&&t.hoverLeaveCallback()},function(C){return!t.willLinkActivate||t.willLinkActivate(C,i)}))}},n.prototype._createLinkHoverEvent=function(s,d,i,t,e){return{x1:s,y1:d,x2:i,y2:t,cols:this._bufferService.cols,fg:e}},n._timeBeforeLatency=200,n=l([u(0,h.IBufferService),u(1,h.ILogService),u(2,h.IUnicodeService)],n)}();a.Linkifier=v;var b=function(n,s,d,i,t,e,r,o,c){this.x1=n,this.y1=s,this.x2=d,this.y2=i,this.clickCallback=t,this.hoverCallback=e,this.tooltipCallback=r,this.leaveCallback=o,this.willLinkActivate=c};a.MouseZone=b},6465:function(F,a,p){var l,u=this&&this.__extends||(l=function(i,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},l(i,t)},function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}l(i,t),i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),f=this&&this.__decorate||function(i,t,e,r){var o,c=arguments.length,_=c<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(i,t,e,r);else for(var g=i.length-1;g>=0;g--)(o=i[g])&&(_=(c<3?o(_):c>3?o(t,e,_):o(t,e))||_);return c>3&&_&&Object.defineProperty(t,e,_),_},h=this&&this.__param||function(i,t){return function(e,r){t(e,r,i)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Linkifier2=void 0;var v=p(2585),b=p(8460),n=p(844),s=p(3656),d=function(i){function t(e){var r=i.call(this)||this;return r._bufferService=e,r._linkProviders=[],r._linkCacheDisposables=[],r._isMouseOut=!0,r._activeLine=-1,r._onShowLinkUnderline=r.register(new b.EventEmitter),r._onHideLinkUnderline=r.register(new b.EventEmitter),r.register((0,n.getDisposeArrayDisposable)(r._linkCacheDisposables)),r}return u(t,i),Object.defineProperty(t.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),t.prototype.registerLinkProvider=function(e){var r=this;return this._linkProviders.push(e),{dispose:function(){var o=r._linkProviders.indexOf(e);o!==-1&&r._linkProviders.splice(o,1)}}},t.prototype.attachToDom=function(e,r,o){var c=this;this._element=e,this._mouseService=r,this._renderService=o,this.register((0,s.addDisposableDomListener)(this._element,"mouseleave",function(){c._isMouseOut=!0,c._clearCurrentLink()})),this.register((0,s.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,s.addDisposableDomListener)(this._element,"click",this._onClick.bind(this)))},t.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var r=this._positionFromMouseEvent(e,this._element,this._mouseService);if(r){this._isMouseOut=!1;for(var o=e.composedPath(),c=0;c<o.length;c++){var _=o[c];if(_.classList.contains("xterm"))break;if(_.classList.contains("xterm-hover"))return}this._lastBufferCell&&r.x===this._lastBufferCell.x&&r.y===this._lastBufferCell.y||(this._onHover(r),this._lastBufferCell=r)}}},t.prototype._onHover=function(e){if(this._activeLine!==e.y)return this._clearCurrentLink(),void this._askForLink(e,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))},t.prototype._askForLink=function(e,r){var o,c=this;this._activeProviderReplies&&r||((o=this._activeProviderReplies)===null||o===void 0||o.forEach(function(g){g==null||g.forEach(function(S){S.link.dispose&&S.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);var _=!1;this._linkProviders.forEach(function(g,S){var C;r?((C=c._activeProviderReplies)===null||C===void 0?void 0:C.get(S))&&(_=c._checkLinkProviderResult(S,e,_)):g.provideLinks(e.y,function(y){var m,E;if(!c._isMouseOut){var L=y==null?void 0:y.map(function(T){return{link:T}});(m=c._activeProviderReplies)===null||m===void 0||m.set(S,L),_=c._checkLinkProviderResult(S,e,_),((E=c._activeProviderReplies)===null||E===void 0?void 0:E.size)===c._linkProviders.length&&c._removeIntersectingLinks(e.y,c._activeProviderReplies)}})})},t.prototype._removeIntersectingLinks=function(e,r){for(var o=new Set,c=0;c<r.size;c++){var _=r.get(c);if(_)for(var g=0;g<_.length;g++)for(var S=_[g],C=S.link.range.start.y<e?0:S.link.range.start.x,y=S.link.range.end.y>e?this._bufferService.cols:S.link.range.end.x,m=C;m<=y;m++){if(o.has(m)){_.splice(g--,1);break}o.add(m)}}},t.prototype._checkLinkProviderResult=function(e,r,o){var c,_=this;if(!this._activeProviderReplies)return o;for(var g=this._activeProviderReplies.get(e),S=!1,C=0;C<e;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(S=!0);if(!S&&g){var y=g.find(function(E){return _._linkAtPosition(E.link,r)});y&&(o=!0,this._handleNewLink(y))}if(this._activeProviderReplies.size===this._linkProviders.length&&!o)for(C=0;C<this._activeProviderReplies.size;C++){var m=(c=this._activeProviderReplies.get(C))===null||c===void 0?void 0:c.find(function(E){return _._linkAtPosition(E.link,r)});if(m){o=!0,this._handleNewLink(m);break}}return o},t.prototype._onClick=function(e){if(this._element&&this._mouseService&&this._currentLink){var r=this._positionFromMouseEvent(e,this._element,this._mouseService);r&&this._linkAtPosition(this._currentLink.link,r)&&this._currentLink.link.activate(e,this._currentLink.link.text)}},t.prototype._clearCurrentLink=function(e,r){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!r||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=r)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,n.disposeArray)(this._linkCacheDisposables))},t.prototype._handleNewLink=function(e){var r=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var o=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);o&&this._linkAtPosition(e.link,o)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:e.link.decorations===void 0||e.link.decorations.underline,pointerCursor:e.link.decorations===void 0||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:function(){var c,_;return(_=(c=r._currentLink)===null||c===void 0?void 0:c.state)===null||_===void 0?void 0:_.decorations.pointerCursor},set:function(c){var _,g;((_=r._currentLink)===null||_===void 0?void 0:_.state)&&r._currentLink.state.decorations.pointerCursor!==c&&(r._currentLink.state.decorations.pointerCursor=c,r._currentLink.state.isHovered&&((g=r._element)===null||g===void 0||g.classList.toggle("xterm-cursor-pointer",c)))}},underline:{get:function(){var c,_;return(_=(c=r._currentLink)===null||c===void 0?void 0:c.state)===null||_===void 0?void 0:_.decorations.underline},set:function(c){var _,g,S;((_=r._currentLink)===null||_===void 0?void 0:_.state)&&((S=(g=r._currentLink)===null||g===void 0?void 0:g.state)===null||S===void 0?void 0:S.decorations.underline)!==c&&(r._currentLink.state.decorations.underline=c,r._currentLink.state.isHovered&&r._fireUnderlineEvent(e.link,c))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(c){var _=c.start===0?0:c.start+1+r._bufferService.buffer.ydisp;r._clearCurrentLink(_,c.end+1+r._bufferService.buffer.ydisp)})))}},t.prototype._linkHover=function(e,r,o){var c;((c=this._currentLink)===null||c===void 0?void 0:c.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(r,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),r.hover&&r.hover(o,r.text)},t.prototype._fireUnderlineEvent=function(e,r){var o=e.range,c=this._bufferService.buffer.ydisp,_=this._createLinkUnderlineEvent(o.start.x-1,o.start.y-c-1,o.end.x,o.end.y-c-1,void 0);(r?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(_)},t.prototype._linkLeave=function(e,r,o){var c;((c=this._currentLink)===null||c===void 0?void 0:c.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(r,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),r.leave&&r.leave(o,r.text)},t.prototype._linkAtPosition=function(e,r){var o=e.range.start.y===e.range.end.y,c=e.range.start.y<r.y,_=e.range.end.y>r.y;return(o&&e.range.start.x<=r.x&&e.range.end.x>=r.x||c&&e.range.end.x>=r.x||_&&e.range.start.x<=r.x||c&&_)&&e.range.start.y<=r.y&&e.range.end.y>=r.y},t.prototype._positionFromMouseEvent=function(e,r,o){var c=o.getCoords(e,r,this._bufferService.cols,this._bufferService.rows);if(c)return{x:c[0],y:c[1]+this._bufferService.buffer.ydisp}},t.prototype._createLinkUnderlineEvent=function(e,r,o,c,_){return{x1:e,y1:r,x2:o,y2:c,cols:this._bufferService.cols,fg:_}},f([h(0,v.IBufferService)],t)}(n.Disposable);a.Linkifier2=d},9042:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.tooMuchOutput=a.promptLabel=void 0,a.promptLabel="Terminal input",a.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(F,a,p){var l,u=this&&this.__extends||(l=function(i,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},l(i,t)},function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}l(i,t),i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),f=this&&this.__decorate||function(i,t,e,r){var o,c=arguments.length,_=c<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(i,t,e,r);else for(var g=i.length-1;g>=0;g--)(o=i[g])&&(_=(c<3?o(_):c>3?o(t,e,_):o(t,e))||_);return c>3&&_&&Object.defineProperty(t,e,_),_},h=this&&this.__param||function(i,t){return function(e,r){t(e,r,i)}};Object.defineProperty(a,"__esModule",{value:!0}),a.MouseZoneManager=void 0;var v=p(844),b=p(3656),n=p(4725),s=p(2585),d=function(i){function t(e,r,o,c,_,g){var S=i.call(this)||this;return S._element=e,S._screenElement=r,S._bufferService=o,S._mouseService=c,S._selectionService=_,S._optionsService=g,S._zones=[],S._areZonesActive=!1,S._lastHoverCoords=[void 0,void 0],S._initialSelectionLength=0,S.register((0,b.addDisposableDomListener)(S._element,"mousedown",function(C){return S._onMouseDown(C)})),S._mouseMoveListener=function(C){return S._onMouseMove(C)},S._mouseLeaveListener=function(C){return S._onMouseLeave(C)},S._clickListener=function(C){return S._onClick(C)},S}return u(t,i),t.prototype.dispose=function(){i.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),this._zones.length===1&&this._activate()},t.prototype.clearAll=function(e,r){if(this._zones.length!==0){e&&r||(e=0,r=this._bufferService.rows-1);for(var o=0;o<this._zones.length;o++){var c=this._zones[o];(c.y1>e&&c.y1<=r+1||c.y2>e&&c.y2<=r+1||c.y1<e&&c.y2>r+1)&&(this._currentZone&&this._currentZone===c&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(o--,1))}this._zones.length===0&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var r=this,o=this._findZoneEventAt(e);o!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),o&&(this._currentZone=o,o.hoverCallback&&o.hoverCallback(e),this._tooltipTimeout=window.setTimeout(function(){return r._onTooltip(e)},this._optionsService.rawOptions.linkTooltipHoverDuration)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var r=this._findZoneEventAt(e);r==null||r.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var r=this._findZoneEventAt(e);(r==null?void 0:r.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var r=this._findZoneEventAt(e),o=this._getSelectionLength();r&&o===this._initialSelectionLength&&(r.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var r=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(r)for(var o=r[0],c=r[1],_=0;_<this._zones.length;_++){var g=this._zones[_];if(g.y1===g.y2){if(c===g.y1&&o>=g.x1&&o<g.x2)return g}else if(c===g.y1&&o>=g.x1||c===g.y2&&o<g.x2||c>g.y1&&c<g.y2)return g}},f([h(2,s.IBufferService),h(3,n.IMouseService),h(4,n.ISelectionService),h(5,s.IOptionsService)],t)}(v.Disposable);a.MouseZoneManager=d},6193:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RenderDebouncer=void 0;var p=function(){function l(u){this._renderCallback=u}return l.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},l.prototype.refresh=function(u,f,h){var v=this;this._rowCount=h,u=u!==void 0?u:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return v._innerRefresh()}))},l.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var u=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(u,f)}},l}();a.RenderDebouncer=p},5596:function(F,a,p){var l,u=this&&this.__extends||(l=function(h,v){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,n){b.__proto__=n}||function(b,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(b[s]=n[s])},l(h,v)},function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function b(){this.constructor=h}l(h,v),h.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)});Object.defineProperty(a,"__esModule",{value:!0}),a.ScreenDprMonitor=void 0;var f=function(h){function v(){var b=h!==null&&h.apply(this,arguments)||this;return b._currentDevicePixelRatio=window.devicePixelRatio,b}return u(v,h),v.prototype.setListener=function(b){var n=this;this._listener&&this.clearListener(),this._listener=b,this._outerListener=function(){n._listener&&(n._listener(window.devicePixelRatio,n._currentDevicePixelRatio),n._updateDpr())},this._updateDpr()},v.prototype.dispose=function(){h.prototype.dispose.call(this),this.clearListener()},v.prototype._updateDpr=function(){var b;this._outerListener&&((b=this._resolutionMediaMatchList)===null||b===void 0||b.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},v.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},v}(p(844).Disposable);a.ScreenDprMonitor=f},3236:function(F,a,p){var l,u=this&&this.__extends||(l=function(V,k){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,x){R.__proto__=x}||function(R,x){for(var W in x)Object.prototype.hasOwnProperty.call(x,W)&&(R[W]=x[W])},l(V,k)},function(V,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function R(){this.constructor=V}l(V,k),V.prototype=k===null?Object.create(k):(R.prototype=k.prototype,new R)});Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;var f=p(2950),h=p(1680),v=p(3614),b=p(2584),n=p(5435),s=p(3525),d=p(3551),i=p(9312),t=p(6114),e=p(3656),r=p(9042),o=p(357),c=p(6954),_=p(4567),g=p(1296),S=p(7399),C=p(8460),y=p(8437),m=p(5680),E=p(3230),L=p(4725),T=p(428),B=p(8934),w=p(6465),M=p(5114),A=p(8969),P=p(4774),j=p(4269),U=p(5941),z=typeof window!="undefined"?window.document:null,K=function(V){function k(R){R===void 0&&(R={});var x=V.call(this,R)||this;return x.browser=t,x._keyDownHandled=!1,x._keyPressHandled=!1,x._unprocessedDeadKey=!1,x._onCursorMove=new C.EventEmitter,x._onKey=new C.EventEmitter,x._onRender=new C.EventEmitter,x._onSelectionChange=new C.EventEmitter,x._onTitleChange=new C.EventEmitter,x._onBell=new C.EventEmitter,x._onFocus=new C.EventEmitter,x._onBlur=new C.EventEmitter,x._onA11yCharEmitter=new C.EventEmitter,x._onA11yTabEmitter=new C.EventEmitter,x._setup(),x.linkifier=x._instantiationService.createInstance(d.Linkifier),x.linkifier2=x.register(x._instantiationService.createInstance(w.Linkifier2)),x.register(x._inputHandler.onRequestBell(function(){return x.bell()})),x.register(x._inputHandler.onRequestRefreshRows(function(W,O){return x.refresh(W,O)})),x.register(x._inputHandler.onRequestSendFocus(function(){return x._reportFocus()})),x.register(x._inputHandler.onRequestReset(function(){return x.reset()})),x.register(x._inputHandler.onRequestWindowsOptionsReport(function(W){return x._reportWindowsOptions(W)})),x.register(x._inputHandler.onColor(function(W){return x._handleColorEvent(W)})),x.register((0,C.forwardEvent)(x._inputHandler.onCursorMove,x._onCursorMove)),x.register((0,C.forwardEvent)(x._inputHandler.onTitleChange,x._onTitleChange)),x.register((0,C.forwardEvent)(x._inputHandler.onA11yChar,x._onA11yCharEmitter)),x.register((0,C.forwardEvent)(x._inputHandler.onA11yTab,x._onA11yTabEmitter)),x.register(x._bufferService.onResize(function(W){return x._afterResize(W.cols,W.rows)})),x}return u(k,V),Object.defineProperty(k.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),k.prototype._handleColorEvent=function(R){var x,W;if(this._colorManager){for(var O=0,q=R;O<q.length;O++){var Y=q[O],J=void 0,Q="";switch(Y.index){case 256:J="foreground",Q="10";break;case 257:J="background",Q="11";break;case 258:J="cursor",Q="12";break;default:J="ansi",Q="4;"+Y.index}if(J)switch(Y.type){case 0:var re=P.color.toColorRGB(J==="ansi"?this._colorManager.colors.ansi[Y.index]:this._colorManager.colors[J]);this.coreService.triggerDataEvent(b.C0.ESC+"]"+Q+";"+(0,U.toRgbString)(re)+b.C0.BEL);break;case 1:J==="ansi"?this._colorManager.colors.ansi[Y.index]=P.rgba.toColor.apply(P.rgba,Y.color):this._colorManager.colors[J]=P.rgba.toColor.apply(P.rgba,Y.color);break;case 2:this._colorManager.restoreColor(Y.index)}}(x=this._renderService)===null||x===void 0||x.setColors(this._colorManager.colors),(W=this.viewport)===null||W===void 0||W.onThemeChange(this._colorManager.colors)}},k.prototype.dispose=function(){var R,x,W;this._isDisposed||(V.prototype.dispose.call(this),(R=this._renderService)===null||R===void 0||R.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},(W=(x=this.element)===null||x===void 0?void 0:x.parentNode)===null||W===void 0||W.removeChild(this.element))},k.prototype._setup=function(){V.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(k.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),k.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},k.prototype._updateOptions=function(R){var x,W,O,q;switch(V.prototype._updateOptions.call(this,R),R){case"fontFamily":case"fontSize":(x=this._renderService)===null||x===void 0||x.clear(),(W=this._charSizeService)===null||W===void 0||W.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":(O=this.viewport)===null||O===void 0||O.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new _.AccessibilityManager(this,this._renderService)):((q=this._accessibilityManager)===null||q===void 0||q.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},k.prototype._onTextAreaFocus=function(R){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(b.C0.ESC+"[I"),this.updateCursorStyle(R),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},k.prototype.blur=function(){var R;return(R=this.textarea)===null||R===void 0?void 0:R.blur()},k.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(b.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},k.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var R=this.buffer.ybase+this.buffer.y,x=this.buffer.lines.get(R);if(x){var W=Math.min(this.buffer.x,this.cols-1),O=this._renderService.dimensions.actualCellHeight,q=x.getWidth(W),Y=this._renderService.dimensions.actualCellWidth*q,J=this.buffer.y*this._renderService.dimensions.actualCellHeight,Q=W*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=Q+"px",this.textarea.style.top=J+"px",this.textarea.style.width=Y+"px",this.textarea.style.height=O+"px",this.textarea.style.lineHeight=O+"px",this.textarea.style.zIndex="-5"}}},k.prototype._initGlobal=function(){var R=this;this._bindKeys(),this.register((0,e.addDisposableDomListener)(this.element,"copy",function(W){R.hasSelection()&&(0,v.copyHandler)(W,R._selectionService)}));var x=function(W){return(0,v.handlePasteEvent)(W,R.textarea,R.coreService)};this.register((0,e.addDisposableDomListener)(this.textarea,"paste",x)),this.register((0,e.addDisposableDomListener)(this.element,"paste",x)),t.isFirefox?this.register((0,e.addDisposableDomListener)(this.element,"mousedown",function(W){W.button===2&&(0,v.rightClickHandler)(W,R.textarea,R.screenElement,R._selectionService,R.options.rightClickSelectsWord)})):this.register((0,e.addDisposableDomListener)(this.element,"contextmenu",function(W){(0,v.rightClickHandler)(W,R.textarea,R.screenElement,R._selectionService,R.options.rightClickSelectsWord)})),t.isLinux&&this.register((0,e.addDisposableDomListener)(this.element,"auxclick",function(W){W.button===1&&(0,v.moveTextAreaUnderMouseCursor)(W,R.textarea,R.screenElement)}))},k.prototype._bindKeys=function(){var R=this;this.register((0,e.addDisposableDomListener)(this.textarea,"keyup",function(x){return R._keyUp(x)},!0)),this.register((0,e.addDisposableDomListener)(this.textarea,"keydown",function(x){return R._keyDown(x)},!0)),this.register((0,e.addDisposableDomListener)(this.textarea,"keypress",function(x){return R._keyPress(x)},!0)),this.register((0,e.addDisposableDomListener)(this.textarea,"compositionstart",function(){return R._compositionHelper.compositionstart()})),this.register((0,e.addDisposableDomListener)(this.textarea,"compositionupdate",function(x){return R._compositionHelper.compositionupdate(x)})),this.register((0,e.addDisposableDomListener)(this.textarea,"compositionend",function(){return R._compositionHelper.compositionend()})),this.register((0,e.addDisposableDomListener)(this.textarea,"input",function(x){return R._inputEvent(x)},!0)),this.register(this.onRender(function(){return R._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(x){return R._queueLinkification(x.start,x.end)}))},k.prototype.open=function(R){var x=this;if(!R)throw new Error("Terminal requires a parent element.");R.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=R.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),R.appendChild(this.element);var W=z.createDocumentFragment();this._viewportElement=z.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),W.appendChild(this._viewportElement),this._viewportScrollArea=z.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=z.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=z.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),W.appendChild(this.screenElement),this.textarea=z.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",r.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,e.addDisposableDomListener)(this.textarea,"focus",function(Y){return x._onTextAreaFocus(Y)})),this.register((0,e.addDisposableDomListener)(this.textarea,"blur",function(){return x._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var O=this._instantiationService.createInstance(M.CoreBrowserService,this.textarea);this._instantiationService.setService(L.ICoreBrowserService,O),this._charSizeService=this._instantiationService.createInstance(T.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(L.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new m.ColorManager(z,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(Y){return x._colorManager.onOptionsChange(Y)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(j.CharacterJoinerService),this._instantiationService.setService(L.ICharacterJoinerService,this._characterJoinerService);var q=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,q,this.rows,this.screenElement)),this._instantiationService.setService(L.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(Y){return x._onRender.fire(Y)})),this.onResize(function(Y){return x._renderService.resize(Y.cols,Y.rows)}),this._compositionView=z.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(W),this._soundService=this._instantiationService.createInstance(o.SoundService),this._instantiationService.setService(L.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(B.MouseService),this._instantiationService.setService(L.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(h.Viewport,function(Y){return x.scrollLines(Y,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return x.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){x._renderService.onCursorMove(),x._syncTextArea()})),this.register(this.onResize(function(){return x._renderService.onResize(x.cols,x.rows)})),this.register(this.onBlur(function(){return x._renderService.onBlur()})),this.register(this.onFocus(function(){return x._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return x.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(i.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(L.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(Y){return x.scrollLines(Y.amount,Y.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return x._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(Y){return x._renderService.onSelectionChanged(Y.start,Y.end,Y.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(Y){x.textarea.value=Y,x.textarea.focus(),x.textarea.select()})),this.register(this._onScroll.event(function(Y){x.viewport.syncScrollArea(),x._selectionService.refresh()})),this.register((0,e.addDisposableDomListener)(this._viewportElement,"scroll",function(){return x._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(c.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return x._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register((0,e.addDisposableDomListener)(this.element,"mousedown",function(Y){return x._selectionService.onMouseDown(Y)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new _.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},k.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(s.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(g.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},k.prototype._setTheme=function(R){var x,W,O;this._theme=R,(x=this._colorManager)===null||x===void 0||x.setTheme(R),(W=this._renderService)===null||W===void 0||W.setColors(this._colorManager.colors),(O=this.viewport)===null||O===void 0||O.onThemeChange(this._colorManager.colors)},k.prototype.bindMouse=function(){var R=this,x=this,W=this.element;function O(N){var te,oe,ae=x._mouseService.getRawByteCoords(N,x.screenElement,x.cols,x.rows);if(!ae)return!1;switch(N.overrideType||N.type){case"mousemove":oe=32,N.buttons===void 0?(te=3,N.button!==void 0&&(te=N.button<3?N.button:3)):te=1&N.buttons?0:4&N.buttons?1:2&N.buttons?2:3;break;case"mouseup":oe=0,te=N.button<3?N.button:3;break;case"mousedown":oe=1,te=N.button<3?N.button:3;break;case"wheel":N.deltaY!==0&&(oe=N.deltaY<0?0:1),te=4;break;default:return!1}return!(oe===void 0||te===void 0||te>4)&&x.coreMouseService.triggerMouseEvent({col:ae.x-33,row:ae.y-33,button:te,action:oe,ctrl:N.ctrlKey,alt:N.altKey,shift:N.shiftKey})}var q={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Y=function(N){return O(N),N.buttons||(R._document.removeEventListener("mouseup",q.mouseup),q.mousedrag&&R._document.removeEventListener("mousemove",q.mousedrag)),R.cancel(N)},J=function(N){return O(N),R.cancel(N,!0)},Q=function(N){N.buttons&&O(N)},re=function(N){N.buttons||O(N)};this.register(this.coreMouseService.onProtocolChange(function(N){N?(R.optionsService.rawOptions.logLevel==="debug"&&R._logService.debug("Binding to mouse events:",R.coreMouseService.explainEvents(N)),R.element.classList.add("enable-mouse-events"),R._selectionService.disable()):(R._logService.debug("Unbinding from mouse events."),R.element.classList.remove("enable-mouse-events"),R._selectionService.enable()),8&N?q.mousemove||(W.addEventListener("mousemove",re),q.mousemove=re):(W.removeEventListener("mousemove",q.mousemove),q.mousemove=null),16&N?q.wheel||(W.addEventListener("wheel",J,{passive:!1}),q.wheel=J):(W.removeEventListener("wheel",q.wheel),q.wheel=null),2&N?q.mouseup||(q.mouseup=Y):(R._document.removeEventListener("mouseup",q.mouseup),q.mouseup=null),4&N?q.mousedrag||(q.mousedrag=Q):(R._document.removeEventListener("mousemove",q.mousedrag),q.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,e.addDisposableDomListener)(W,"mousedown",function(N){if(N.preventDefault(),R.focus(),R.coreMouseService.areMouseEventsActive&&!R._selectionService.shouldForceSelection(N))return O(N),q.mouseup&&R._document.addEventListener("mouseup",q.mouseup),q.mousedrag&&R._document.addEventListener("mousemove",q.mousedrag),R.cancel(N)})),this.register((0,e.addDisposableDomListener)(W,"wheel",function(N){if(!q.wheel){if(!R.buffer.hasScrollback){var te=R.viewport.getLinesScrolled(N);if(te===0)return;for(var oe=b.C0.ESC+(R.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(N.deltaY<0?"A":"B"),ae="",_e=0;_e<Math.abs(te);_e++)ae+=oe;return R.coreService.triggerDataEvent(ae,!0),R.cancel(N,!0)}return R.viewport.onWheel(N)?R.cancel(N):void 0}},{passive:!1})),this.register((0,e.addDisposableDomListener)(W,"touchstart",function(N){if(!R.coreMouseService.areMouseEventsActive)return R.viewport.onTouchStart(N),R.cancel(N)},{passive:!0})),this.register((0,e.addDisposableDomListener)(W,"touchmove",function(N){if(!R.coreMouseService.areMouseEventsActive)return R.viewport.onTouchMove(N)?void 0:R.cancel(N)},{passive:!1}))},k.prototype.refresh=function(R,x){var W;(W=this._renderService)===null||W===void 0||W.refreshRows(R,x)},k.prototype._queueLinkification=function(R,x){var W;(W=this.linkifier)===null||W===void 0||W.linkifyRows(R,x)},k.prototype.updateCursorStyle=function(R){var x;((x=this._selectionService)===null||x===void 0?void 0:x.shouldColumnSelect(R))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},k.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},k.prototype.scrollLines=function(R,x,W){W===void 0&&(W=0),V.prototype.scrollLines.call(this,R,x,W),this.refresh(0,this.rows-1)},k.prototype.paste=function(R){(0,v.paste)(R,this.textarea,this.coreService)},k.prototype.attachCustomKeyEventHandler=function(R){this._customKeyEventHandler=R},k.prototype.registerLinkMatcher=function(R,x,W){var O=this.linkifier.registerLinkMatcher(R,x,W);return this.refresh(0,this.rows-1),O},k.prototype.deregisterLinkMatcher=function(R){this.linkifier.deregisterLinkMatcher(R)&&this.refresh(0,this.rows-1)},k.prototype.registerLinkProvider=function(R){return this.linkifier2.registerLinkProvider(R)},k.prototype.registerCharacterJoiner=function(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var x=this._characterJoinerService.register(R);return this.refresh(0,this.rows-1),x},k.prototype.deregisterCharacterJoiner=function(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(R)&&this.refresh(0,this.rows-1)},Object.defineProperty(k.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),k.prototype.addMarker=function(R){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+R)},k.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},k.prototype.select=function(R,x,W){this._selectionService.setSelection(R,x,W)},k.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},k.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},k.prototype.clearSelection=function(){var R;(R=this._selectionService)===null||R===void 0||R.clearSelection()},k.prototype.selectAll=function(){var R;(R=this._selectionService)===null||R===void 0||R.selectAll()},k.prototype.selectLines=function(R,x){var W;(W=this._selectionService)===null||W===void 0||W.selectLines(R,x)},k.prototype._keyDown=function(R){if(this._keyDownHandled=!1,this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;if(!this._compositionHelper.keydown(R))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;R.key!=="Dead"&&R.key!=="AltGraph"||(this._unprocessedDeadKey=!0);var x=(0,S.evaluateKeyboardEvent)(R,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(R),x.type===3||x.type===2){var W=this.rows-1;return this.scrollLines(x.type===2?-W:W),this.cancel(R,!0)}return x.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,R)||(x.cancel&&this.cancel(R,!0),!x.key||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(x.key!==b.C0.ETX&&x.key!==b.C0.CR||(this.textarea.value=""),this._onKey.fire({key:x.key,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(x.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(R,!0))))},k.prototype._isThirdLevelShift=function(R,x){var W=R.isMac&&!this.options.macOptionIsMeta&&x.altKey&&!x.ctrlKey&&!x.metaKey||R.isWindows&&x.altKey&&x.ctrlKey&&!x.metaKey||R.isWindows&&x.getModifierState("AltGraph");return x.type==="keypress"?W:W&&(!x.keyCode||x.keyCode>47)},k.prototype._keyUp=function(R){this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1||(function(x){return x.keyCode===16||x.keyCode===17||x.keyCode===18}(R)||this.focus(),this.updateCursorStyle(R),this._keyPressHandled=!1)},k.prototype._keyPress=function(R){var x;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;if(this.cancel(R),R.charCode)x=R.charCode;else if(R.which===null||R.which===void 0)x=R.keyCode;else{if(R.which===0||R.charCode===0)return!1;x=R.which}return!(!x||(R.altKey||R.ctrlKey||R.metaKey)&&!this._isThirdLevelShift(this.browser,R)||(x=String.fromCharCode(x),this._onKey.fire({key:x,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(x,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},k.prototype._inputEvent=function(R){if(R.data&&R.inputType==="insertText"&&!R.composed&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var x=R.data;return this.coreService.triggerDataEvent(x,!0),this.cancel(R),!0}return!1},k.prototype.bell=function(){var R;this._soundBell()&&((R=this._soundService)===null||R===void 0||R.playBellSound()),this._onBell.fire()},k.prototype.resize=function(R,x){R!==this.cols||x!==this.rows?V.prototype.resize.call(this,R,x):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},k.prototype._afterResize=function(R,x){var W,O;(W=this._charSizeService)===null||W===void 0||W.measure(),(O=this.viewport)===null||O===void 0||O.syncScrollArea(!0)},k.prototype.clear=function(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var R=1;R<this.rows;R++)this.buffer.lines.push(this.buffer.getBlankLine(y.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},k.prototype.reset=function(){var R,x;this.options.rows=this.rows,this.options.cols=this.cols;var W=this._customKeyEventHandler;this._setup(),V.prototype.reset.call(this),(R=this._selectionService)===null||R===void 0||R.reset(),this._customKeyEventHandler=W,this.refresh(0,this.rows-1),(x=this.viewport)===null||x===void 0||x.syncScrollArea()},k.prototype.clearTextureAtlas=function(){var R;(R=this._renderService)===null||R===void 0||R.clearTextureAtlas()},k.prototype._reportFocus=function(){var R;((R=this.element)===null||R===void 0?void 0:R.classList.contains("focus"))?this.coreService.triggerDataEvent(b.C0.ESC+"[I"):this.coreService.triggerDataEvent(b.C0.ESC+"[O")},k.prototype._reportWindowsOptions=function(R){if(this._renderService)switch(R){case n.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var x=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),W=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(b.C0.ESC+"[4;"+W+";"+x+"t");break;case n.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var O=this._renderService.dimensions.scaledCellWidth.toFixed(0),q=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(b.C0.ESC+"[6;"+q+";"+O+"t")}},k.prototype.cancel=function(R,x){if(this.options.cancelEvents||x)return R.preventDefault(),R.stopPropagation(),!1},k.prototype._visualBell=function(){return!1},k.prototype._soundBell=function(){return this.options.bellStyle==="sound"},k}(A.CoreTerminal);a.Terminal=K},9924:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TimeBasedDebouncer=void 0;var p=function(){function l(u,f){f===void 0&&(f=1e3),this._renderCallback=u,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return l.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},l.prototype.refresh=function(u,f,h){var v=this;this._rowCount=h,u=u!==void 0?u:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;var b=Date.now();if(b-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=b,this._innerRefresh();else if(!this._additionalRefreshRequested){var n=b-this._lastRefreshMs,s=this._debounceThresholdMS-n;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){v._lastRefreshMs=Date.now(),v._innerRefresh(),v._additionalRefreshRequested=!1,v._refreshTimeoutID=void 0},s)}},l.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var u=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,f)}},l}();a.TimeBasedDebouncer=p},1680:function(F,a,p){var l,u=this&&this.__extends||(l=function(i,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},l(i,t)},function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}l(i,t),i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),f=this&&this.__decorate||function(i,t,e,r){var o,c=arguments.length,_=c<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(i,t,e,r);else for(var g=i.length-1;g>=0;g--)(o=i[g])&&(_=(c<3?o(_):c>3?o(t,e,_):o(t,e))||_);return c>3&&_&&Object.defineProperty(t,e,_),_},h=this&&this.__param||function(i,t){return function(e,r){t(e,r,i)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Viewport=void 0;var v=p(844),b=p(3656),n=p(4725),s=p(2585),d=function(i){function t(e,r,o,c,_,g,S,C){var y=i.call(this)||this;return y._scrollLines=e,y._viewportElement=r,y._scrollArea=o,y._element=c,y._bufferService=_,y._optionsService=g,y._charSizeService=S,y._renderService=C,y.scrollBarWidth=0,y._currentRowHeight=0,y._currentScaledCellHeight=0,y._lastRecordedBufferLength=0,y._lastRecordedViewportHeight=0,y._lastRecordedBufferHeight=0,y._lastTouchY=0,y._lastScrollTop=0,y._lastHadScrollBar=!1,y._wheelPartialScroll=0,y._refreshAnimationFrame=null,y._ignoreNextScrollEvent=!1,y.scrollBarWidth=y._viewportElement.offsetWidth-y._scrollArea.offsetWidth||15,y._lastHadScrollBar=!0,y.register((0,b.addDisposableDomListener)(y._viewportElement,"scroll",y._onScroll.bind(y))),y._activeBuffer=y._bufferService.buffer,y.register(y._bufferService.buffers.onBufferActivate(function(m){return y._activeBuffer=m.activeBuffer})),y._renderDimensions=y._renderService.dimensions,y.register(y._renderService.onDimensionsChange(function(m){return y._renderDimensions=m})),setTimeout(function(){return y.syncScrollArea()},0),y}return u(t,i),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var r=this;if(e)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return r._innerRefresh()}))},t.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var r=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==r&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=r),this._optionsService.rawOptions.scrollback===0?this.scrollBarWidth=0:this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this._lastHadScrollBar=this.scrollBarWidth>0;var o=window.getComputedStyle(this._element),c=parseInt(o.paddingLeft)+parseInt(o.paddingRight);this._viewportElement.style.width=(this._renderService.dimensions.actualCellWidth*this._bufferService.cols+this.scrollBarWidth+(this._lastHadScrollBar?c:0)).toString()+"px",this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(e===void 0&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight?this._lastHadScrollBar!==this._optionsService.rawOptions.scrollback>0&&this._refresh(e):this._refresh(e)},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var r=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(r)}},t.prototype._bubbleScroll=function(e,r){var o=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(r<0&&this._viewportElement.scrollTop!==0||r>0&&o<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var r=this._getPixelsScrolled(e);return r!==0&&(this._viewportElement.scrollTop+=r,this._bubbleScroll(e,r))},t.prototype._getPixelsScrolled=function(e){if(e.deltaY===0||e.shiftKey)return 0;var r=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?r*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=this._currentRowHeight*this._bufferService.rows),r},t.prototype.getLinesScrolled=function(e){if(e.deltaY===0||e.shiftKey)return 0;var r=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(r/=this._currentRowHeight+0,this._wheelPartialScroll+=r,r=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=this._bufferService.rows),r},t.prototype._applyScrollModifier=function(e,r){var o=this._optionsService.rawOptions.fastScrollModifier;return o==="alt"&&r.altKey||o==="ctrl"&&r.ctrlKey||o==="shift"&&r.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var r=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,r!==0&&(this._viewportElement.scrollTop+=r,this._bubbleScroll(e,r))},f([h(4,s.IBufferService),h(5,s.IOptionsService),h(6,n.ICharSizeService),h(7,n.IRenderService)],t)}(v.Disposable);a.Viewport=d},2950:function(F,a,p){var l=this&&this.__decorate||function(b,n,s,d){var i,t=arguments.length,e=t<3?n:d===null?d=Object.getOwnPropertyDescriptor(n,s):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(b,n,s,d);else for(var r=b.length-1;r>=0;r--)(i=b[r])&&(e=(t<3?i(e):t>3?i(n,s,e):i(n,s))||e);return t>3&&e&&Object.defineProperty(n,s,e),e},u=this&&this.__param||function(b,n){return function(s,d){n(s,d,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CompositionHelper=void 0;var f=p(4725),h=p(2585),v=function(){function b(n,s,d,i,t,e){this._textarea=n,this._compositionView=s,this._bufferService=d,this._optionsService=i,this._coreService=t,this._renderService=e,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(b.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),b.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},b.prototype.compositionupdate=function(n){var s=this;this._compositionView.textContent=n.data,this.updateCompositionElements(),setTimeout(function(){s._compositionPosition.end=s._textarea.value.length},0)},b.prototype.compositionend=function(){this._finalizeComposition(!0)},b.prototype.keydown=function(n){if(this._isComposing||this._isSendingComposition){if(n.keyCode===229||n.keyCode===16||n.keyCode===17||n.keyCode===18)return!1;this._finalizeComposition(!1)}return n.keyCode!==229||(this._handleAnyTextareaChanges(),!1)},b.prototype._finalizeComposition=function(n){var s=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,n){var d={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(s._isSendingComposition){s._isSendingComposition=!1;var t;d.start+=s._dataAlreadySent.length,(t=s._isComposing?s._textarea.value.substring(d.start,d.end):s._textarea.value.substring(d.start)).length>0&&s._coreService.triggerDataEvent(t,!0)}},0)}else{this._isSendingComposition=!1;var i=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(i,!0)}},b.prototype._handleAnyTextareaChanges=function(){var n=this,s=this._textarea.value;setTimeout(function(){if(!n._isComposing){var d=n._textarea.value.replace(s,"");d.length>0&&(n._dataAlreadySent=d,n._coreService.triggerDataEvent(d,!0))}},0)},b.prototype.updateCompositionElements=function(n){var s=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var d=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),i=this._renderService.dimensions.actualCellHeight,t=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,e=d*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=e+"px",this._compositionView.style.top=t+"px",this._compositionView.style.height=i+"px",this._compositionView.style.lineHeight=i+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var r=this._compositionView.getBoundingClientRect();this._textarea.style.left=e+"px",this._textarea.style.top=t+"px",this._textarea.style.width=Math.max(r.width,1)+"px",this._textarea.style.height=Math.max(r.height,1)+"px",this._textarea.style.lineHeight=r.height+"px"}n||setTimeout(function(){return s.updateCompositionElements(!0)},0)}},l([u(2,h.IBufferService),u(3,h.IOptionsService),u(4,h.ICoreService),u(5,f.IRenderService)],b)}();a.CompositionHelper=v},9806:(F,a)=>{function p(l,u){var f=u.getBoundingClientRect();return[l.clientX-f.left,l.clientY-f.top]}Object.defineProperty(a,"__esModule",{value:!0}),a.getRawByteCoords=a.getCoords=a.getCoordsRelativeToElement=void 0,a.getCoordsRelativeToElement=p,a.getCoords=function(l,u,f,h,v,b,n,s){if(v){var d=p(l,u);if(d)return d[0]=Math.ceil((d[0]+(s?b/2:0))/b),d[1]=Math.ceil(d[1]/n),d[0]=Math.min(Math.max(d[0],1),f+(s?1:0)),d[1]=Math.min(Math.max(d[1],1),h),d}},a.getRawByteCoords=function(l){if(l)return{x:l[0]+32,y:l[1]+32}}},9504:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.moveToCellSequence=void 0;var l=p(2584);function u(s,d,i,t){var e=s-f(i,s),r=d-f(i,d),o=Math.abs(e-r)-function(c,_,g){for(var S=0,C=c-f(g,c),y=_-f(g,_),m=0;m<Math.abs(C-y);m++){var E=h(c,_)==="A"?-1:1,L=g.buffer.lines.get(C+E*m);(L==null?void 0:L.isWrapped)&&S++}return S}(s,d,i);return n(o,b(h(s,d),t))}function f(s,d){for(var i=0,t=s.buffer.lines.get(d),e=t==null?void 0:t.isWrapped;e&&d>=0&&d<s.rows;)i++,e=(t=s.buffer.lines.get(--d))==null?void 0:t.isWrapped;return i}function h(s,d){return s>d?"A":"B"}function v(s,d,i,t,e,r){for(var o=s,c=d,_="";o!==i||c!==t;)o+=e?1:-1,e&&o>r.cols-1?(_+=r.buffer.translateBufferLineToString(c,!1,s,o),o=0,s=0,c++):!e&&o<0&&(_+=r.buffer.translateBufferLineToString(c,!1,0,s+1),s=o=r.cols-1,c--);return _+r.buffer.translateBufferLineToString(c,!1,s,o)}function b(s,d){var i=d?"O":"[";return l.C0.ESC+i+s}function n(s,d){s=Math.floor(s);for(var i="",t=0;t<s;t++)i+=d;return i}a.moveToCellSequence=function(s,d,i,t){var e,r=i.buffer.x,o=i.buffer.y;if(!i.buffer.hasScrollback)return function(_,g,S,C,y,m){return u(g,C,y,m).length===0?"":n(v(_,g,_,g-f(y,g),!1,y).length,b("D",m))}(r,o,0,d,i,t)+u(o,d,i,t)+function(_,g,S,C,y,m){var E;E=u(g,C,y,m).length>0?C-f(y,C):g;var L=C,T=function(B,w,M,A,P,j){var U;return U=u(M,A,P,j).length>0?A-f(P,A):w,B<M&&U<=A||B>=M&&U<A?"C":"D"}(_,g,S,C,y,m);return n(v(_,E,S,L,T==="C",y).length,b(T,m))}(r,o,s,d,i,t);if(o===d)return e=r>s?"D":"C",n(Math.abs(r-s),b(e,t));e=o>d?"D":"C";var c=Math.abs(o-d);return n(function(_,g){return g.cols-_}(o>d?s:r,i)+(c-1)*i.cols+1+((o>d?r:s)-1),b(e,t))}},4389:function(F,a,p){var l=this&&this.__assign||function(){return l=Object.assign||function(i){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o]);return i},l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;var u=p(3236),f=p(9042),h=p(7975),v=p(7090),b=p(5741),n=p(8285),s=["cols","rows"],d=function(){function i(t){var e=this;this._core=new u.Terminal(t),this._addonManager=new b.AddonManager,this._publicOptions=l({},this._core.options);var r=function(g){return e._core.options[g]},o=function(g,S){e._checkReadonlyOptions(g),e._core.options[g]=S};for(var c in this._core.options){var _={get:r.bind(this,c),set:o.bind(this,c)};Object.defineProperty(this._publicOptions,c,_)}}return i.prototype._checkReadonlyOptions=function(t){if(s.includes(t))throw new Error('Option "'+t+'" can only be set in the constructor')},i.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(i.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new h.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"unicode",{get:function(){return this._checkProposedApi(),new v.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new n.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"modes",{get:function(){var t=this._core.coreService.decPrivateModes,e="none";switch(this._core.coreMouseService.activeProtocol){case"X10":e="x10";break;case"VT200":e="vt200";break;case"DRAG":e="drag";break;case"ANY":e="any"}return{applicationCursorKeysMode:t.applicationCursorKeys,applicationKeypadMode:t.applicationKeypad,bracketedPasteMode:t.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:e,originMode:t.origin,reverseWraparoundMode:t.reverseWraparound,sendFocusMode:t.sendFocus,wraparoundMode:t.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._publicOptions},set:function(t){for(var e in t)this._publicOptions[e]=t[e]},enumerable:!1,configurable:!0}),i.prototype.blur=function(){this._core.blur()},i.prototype.focus=function(){this._core.focus()},i.prototype.resize=function(t,e){this._verifyIntegers(t,e),this._core.resize(t,e)},i.prototype.open=function(t){this._core.open(t)},i.prototype.attachCustomKeyEventHandler=function(t){this._core.attachCustomKeyEventHandler(t)},i.prototype.registerLinkMatcher=function(t,e,r){return this._checkProposedApi(),this._core.registerLinkMatcher(t,e,r)},i.prototype.deregisterLinkMatcher=function(t){this._checkProposedApi(),this._core.deregisterLinkMatcher(t)},i.prototype.registerLinkProvider=function(t){return this._checkProposedApi(),this._core.registerLinkProvider(t)},i.prototype.registerCharacterJoiner=function(t){return this._checkProposedApi(),this._core.registerCharacterJoiner(t)},i.prototype.deregisterCharacterJoiner=function(t){this._checkProposedApi(),this._core.deregisterCharacterJoiner(t)},i.prototype.registerMarker=function(t){return this._checkProposedApi(),this._verifyIntegers(t),this._core.addMarker(t)},i.prototype.addMarker=function(t){return this.registerMarker(t)},i.prototype.hasSelection=function(){return this._core.hasSelection()},i.prototype.select=function(t,e,r){this._verifyIntegers(t,e,r),this._core.select(t,e,r)},i.prototype.getSelection=function(){return this._core.getSelection()},i.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},i.prototype.clearSelection=function(){this._core.clearSelection()},i.prototype.selectAll=function(){this._core.selectAll()},i.prototype.selectLines=function(t,e){this._verifyIntegers(t,e),this._core.selectLines(t,e)},i.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},i.prototype.scrollLines=function(t){this._verifyIntegers(t),this._core.scrollLines(t)},i.prototype.scrollPages=function(t){this._verifyIntegers(t),this._core.scrollPages(t)},i.prototype.scrollToTop=function(){this._core.scrollToTop()},i.prototype.scrollToBottom=function(){this._core.scrollToBottom()},i.prototype.scrollToLine=function(t){this._verifyIntegers(t),this._core.scrollToLine(t)},i.prototype.clear=function(){this._core.clear()},i.prototype.write=function(t,e){this._core.write(t,e)},i.prototype.writeUtf8=function(t,e){this._core.write(t,e)},i.prototype.writeln=function(t,e){this._core.write(t),this._core.write(`\r
`,e)},i.prototype.paste=function(t){this._core.paste(t)},i.prototype.getOption=function(t){return this._core.optionsService.getOption(t)},i.prototype.setOption=function(t,e){this._checkReadonlyOptions(t),this._core.optionsService.setOption(t,e)},i.prototype.refresh=function(t,e){this._verifyIntegers(t,e),this._core.refresh(t,e)},i.prototype.reset=function(){this._core.reset()},i.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},i.prototype.loadAddon=function(t){return this._addonManager.loadAddon(this,t)},Object.defineProperty(i,"strings",{get:function(){return f},enumerable:!1,configurable:!0}),i.prototype._verifyIntegers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,o=t;r<o.length;r++){var c=o[r];if(c===1/0||isNaN(c)||c%1!=0)throw new Error("This API only accepts integers")}},i}();a.Terminal=d},1546:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseRenderLayer=void 0;var l=p(643),u=p(8803),f=p(1420),h=p(3734),v=p(1752),b=p(4774),n=p(9631),s=p(8978),d=function(){function i(t,e,r,o,c,_,g,S){this._container=t,this._alpha=o,this._colors=c,this._rendererId=_,this._bufferService=g,this._optionsService=S,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+e+"-layer"),this._canvas.style.zIndex=r.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return i.prototype.dispose=function(){var t;(0,n.removeElementFromParent)(this._canvas),(t=this._charAtlas)===null||t===void 0||t.dispose()},i.prototype._initCanvas=function(){this._ctx=(0,v.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},i.prototype.onOptionsChanged=function(){},i.prototype.onBlur=function(){},i.prototype.onFocus=function(){},i.prototype.onCursorMove=function(){},i.prototype.onGridChanged=function(t,e){},i.prototype.onSelectionChanged=function(t,e,r){},i.prototype.setColors=function(t){this._refreshCharAtlas(t)},i.prototype._setTransparency=function(t){if(t!==this._alpha){var e=this._canvas;this._alpha=t,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,e),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},i.prototype._refreshCharAtlas=function(t){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,f.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,t,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},i.prototype.resize=function(t){this._scaledCellWidth=t.scaledCellWidth,this._scaledCellHeight=t.scaledCellHeight,this._scaledCharWidth=t.scaledCharWidth,this._scaledCharHeight=t.scaledCharHeight,this._scaledCharLeft=t.scaledCharLeft,this._scaledCharTop=t.scaledCharTop,this._canvas.width=t.scaledCanvasWidth,this._canvas.height=t.scaledCanvasHeight,this._canvas.style.width=t.canvasWidth+"px",this._canvas.style.height=t.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},i.prototype.clearTextureAtlas=function(){var t;(t=this._charAtlas)===null||t===void 0||t.clear()},i.prototype._fillCells=function(t,e,r,o){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,o*this._scaledCellHeight)},i.prototype._fillMiddleLineAtCells=function(t,e,r){r===void 0&&(r=1);var o=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(t*this._scaledCellWidth,(e+1)*this._scaledCellHeight-o-window.devicePixelRatio,r*this._scaledCellWidth,window.devicePixelRatio)},i.prototype._fillBottomLineAtCells=function(t,e,r){r===void 0&&(r=1),this._ctx.fillRect(t*this._scaledCellWidth,(e+1)*this._scaledCellHeight-window.devicePixelRatio-1,r*this._scaledCellWidth,window.devicePixelRatio)},i.prototype._fillLeftLineAtCell=function(t,e,r){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,window.devicePixelRatio*r,this._scaledCellHeight)},i.prototype._strokeRectAtCell=function(t,e,r,o){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(t*this._scaledCellWidth+window.devicePixelRatio/2,e*this._scaledCellHeight+window.devicePixelRatio/2,r*this._scaledCellWidth-window.devicePixelRatio,o*this._scaledCellHeight-window.devicePixelRatio)},i.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},i.prototype._clearCells=function(t,e,r,o){this._alpha?this._ctx.clearRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,o*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,o*this._scaledCellHeight))},i.prototype._fillCharTrueColor=function(t,e,r){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=u.TEXT_BASELINE,this._clipRow(r);var o=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(o=(0,s.tryDrawCustomChar)(this._ctx,t.getChars(),e*this._scaledCellWidth,r*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),o||this._ctx.fillText(t.getChars(),e*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},i.prototype._drawChars=function(t,e,r){var o,c,_,g=this._getContrastColor(t);g||t.isFgRGB()||t.isBgRGB()?this._drawUncachedChars(t,e,r,g):(t.isInverse()?(c=t.isBgDefault()?u.INVERTED_DEFAULT_COLOR:t.getBgColor(),_=t.isFgDefault()?u.INVERTED_DEFAULT_COLOR:t.getFgColor()):(_=t.isBgDefault()?l.DEFAULT_COLOR:t.getBgColor(),c=t.isFgDefault()?l.DEFAULT_COLOR:t.getFgColor()),c+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&t.isBold()&&c<8?8:0,this._currentGlyphIdentifier.chars=t.getChars()||l.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=t.getCode()||l.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=_,this._currentGlyphIdentifier.fg=c,this._currentGlyphIdentifier.bold=!!t.isBold(),this._currentGlyphIdentifier.dim=!!t.isDim(),this._currentGlyphIdentifier.italic=!!t.isItalic(),((o=this._charAtlas)===null||o===void 0?void 0:o.draw(this._ctx,this._currentGlyphIdentifier,e*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(t,e,r))},i.prototype._drawUncachedChars=function(t,e,r,o){if(this._ctx.save(),this._ctx.font=this._getFont(!!t.isBold(),!!t.isItalic()),this._ctx.textBaseline=u.TEXT_BASELINE,t.isInverse())if(o)this._ctx.fillStyle=o.css;else if(t.isBgDefault())this._ctx.fillStyle=b.color.opaque(this._colors.background).css;else if(t.isBgRGB())this._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(t.getBgColor()).join(",")+")";else{var c=t.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&t.isBold()&&c<8&&(c+=8),this._ctx.fillStyle=this._colors.ansi[c].css}else if(o)this._ctx.fillStyle=o.css;else if(t.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(t.isFgRGB())this._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(t.getFgColor()).join(",")+")";else{var _=t.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&t.isBold()&&_<8&&(_+=8),this._ctx.fillStyle=this._colors.ansi[_].css}this._clipRow(r),t.isDim()&&(this._ctx.globalAlpha=u.DIM_OPACITY);var g=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(g=(0,s.tryDrawCustomChar)(this._ctx,t.getChars(),e*this._scaledCellWidth,r*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),g||this._ctx.fillText(t.getChars(),e*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},i.prototype._clipRow=function(t){this._ctx.beginPath(),this._ctx.rect(0,t*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},i.prototype._getFont=function(t,e){return(e?"italic":"")+" "+(t?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},i.prototype._getContrastColor=function(t){if(this._optionsService.rawOptions.minimumContrastRatio!==1){var e=this._colors.contrastCache.getColor(t.bg,t.fg);if(e!==void 0)return e||void 0;var r=t.getFgColor(),o=t.getFgColorMode(),c=t.getBgColor(),_=t.getBgColorMode(),g=!!t.isInverse(),S=!!t.isInverse();if(g){var C=r;r=c,c=C;var y=o;o=_,_=y}var m=this._resolveBackgroundRgba(_,c,g),E=this._resolveForegroundRgba(o,r,g,S),L=b.rgba.ensureContrastRatio(m,E,this._optionsService.rawOptions.minimumContrastRatio);if(L){var T={css:b.channels.toCss(L>>24&255,L>>16&255,L>>8&255),rgba:L};return this._colors.contrastCache.setColor(t.bg,t.fg,T),T}this._colors.contrastCache.setColor(t.bg,t.fg,null)}},i.prototype._resolveBackgroundRgba=function(t,e,r){switch(t){case 16777216:case 33554432:return this._colors.ansi[e].rgba;case 50331648:return e<<8;default:return r?this._colors.foreground.rgba:this._colors.background.rgba}},i.prototype._resolveForegroundRgba=function(t,e,r,o){switch(t){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&o&&e<8&&(e+=8),this._colors.ansi[e].rgba;case 50331648:return e<<8;default:return r?this._colors.background.rgba:this._colors.foreground.rgba}},i}();a.BaseRenderLayer=d},2512:function(F,a,p){var l,u=this&&this.__extends||(l=function(e,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(o[_]=c[_])},l(e,r)},function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}l(e,r),e.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}),f=this&&this.__decorate||function(e,r,o,c){var _,g=arguments.length,S=g<3?r:c===null?c=Object.getOwnPropertyDescriptor(r,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(e,r,o,c);else for(var C=e.length-1;C>=0;C--)(_=e[C])&&(S=(g<3?_(S):g>3?_(r,o,S):_(r,o))||S);return g>3&&S&&Object.defineProperty(r,o,S),S},h=this&&this.__param||function(e,r){return function(o,c){r(o,c,e)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CursorRenderLayer=void 0;var v=p(1546),b=p(511),n=p(2585),s=p(4725),d=600,i=function(e){function r(o,c,_,g,S,C,y,m,E){var L=e.call(this,o,"cursor",c,!0,_,g,C,y)||this;return L._onRequestRedraw=S,L._coreService=m,L._coreBrowserService=E,L._cell=new b.CellData,L._state={x:0,y:0,isFocused:!1,style:"",width:0},L._cursorRenderers={bar:L._renderBarCursor.bind(L),block:L._renderBlockCursor.bind(L),underline:L._renderUnderlineCursor.bind(L)},L}return u(r,e),r.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),e.prototype.dispose.call(this)},r.prototype.resize=function(o){e.prototype.resize.call(this,o),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},r.prototype.reset=function(){var o;this._clearCursor(),(o=this._cursorBlinkStateManager)===null||o===void 0||o.restartBlinkAnimation(),this.onOptionsChanged()},r.prototype.onBlur=function(){var o;(o=this._cursorBlinkStateManager)===null||o===void 0||o.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},r.prototype.onFocus=function(){var o;(o=this._cursorBlinkStateManager)===null||o===void 0||o.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},r.prototype.onOptionsChanged=function(){var o,c=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new t(this._coreBrowserService.isFocused,function(){c._render(!0)})):((o=this._cursorBlinkStateManager)===null||o===void 0||o.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},r.prototype.onCursorMove=function(){var o;(o=this._cursorBlinkStateManager)===null||o===void 0||o.restartBlinkAnimation()},r.prototype.onGridChanged=function(o,c){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},r.prototype._render=function(o){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var c=this._bufferService.buffer.ybase+this._bufferService.buffer.y,_=c-this._bufferService.buffer.ydisp;if(_<0||_>=this._bufferService.rows)this._clearCursor();else{var g=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(c).loadCell(g,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var S=this._optionsService.rawOptions.cursorStyle;return S&&S!=="block"?this._cursorRenderers[S](g,_,this._cell):this._renderBlurCursor(g,_,this._cell),this._ctx.restore(),this._state.x=g,this._state.y=_,this._state.isFocused=!1,this._state.style=S,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===g&&this._state.y===_&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](g,_,this._cell),this._ctx.restore(),this._state.x=g,this._state.y=_,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},r.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},r.prototype._renderBarCursor=function(o,c,_){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(o,c,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},r.prototype._renderBlockCursor=function(o,c,_){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(o,c,_.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(_,o,c),this._ctx.restore()},r.prototype._renderUnderlineCursor=function(o,c,_){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(o,c),this._ctx.restore()},r.prototype._renderBlurCursor=function(o,c,_){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(o,c,_.getWidth(),1),this._ctx.restore()},f([h(5,n.IBufferService),h(6,n.IOptionsService),h(7,n.ICoreService),h(8,s.ICoreBrowserService)],r)}(v.BaseRenderLayer);a.CursorRenderLayer=i;var t=function(){function e(r,o){this._renderCallback=o,this.isCursorVisible=!0,r&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var r=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){r._renderCallback(),r._animationFrame=void 0})))},e.prototype._restartInterval=function(r){var o=this;r===void 0&&(r=d),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(o._animationTimeRestarted){var c=d-(Date.now()-o._animationTimeRestarted);if(o._animationTimeRestarted=void 0,c>0)return void o._restartInterval(c)}o.isCursorVisible=!1,o._animationFrame=window.requestAnimationFrame(function(){o._renderCallback(),o._animationFrame=void 0}),o._blinkInterval=window.setInterval(function(){if(o._animationTimeRestarted){var _=d-(Date.now()-o._animationTimeRestarted);return o._animationTimeRestarted=void 0,void o._restartInterval(_)}o.isCursorVisible=!o.isCursorVisible,o._animationFrame=window.requestAnimationFrame(function(){o._renderCallback(),o._animationFrame=void 0})},d)},r)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},8978:(F,a,p)=>{var l,u,f,h,v,b,n,s,d,i,t,e,r,o,c,_,g,S,C,y,m,E,L,T,B,w,M,A,P,j,U,z,K,V,k,R,x,W,O,q,Y,J,Q,re,N,te,oe,ae,_e,kt,Lt,Et,Mt,Bt,Rt,xt,At,Ot,Tt,Dt,Pt,It,we,ke,Le,Ee,Me,Be,Re,xe,Ae,Oe,Te,De,Pe,Ie,He,We,Fe,je,Ue,qe,Ne,Ge,Ye,ze,Ke,Ve,Xe,Je,Ze,$e,Qe,et,tt,rt,it,nt,ot,st,at,ct,lt,ht,ft,ut,dt,_t,bt,gt,pt,vt,Ht,Wt,Ft,jt,Ut,qt,Nt,Gt,Yt,zt,Kt,Vt,Xt,Jt,Zt,$t;Object.defineProperty(a,"__esModule",{value:!0}),a.tryDrawCustomChar=a.boxDrawingDefinitions=a.blockElementDefinitions=void 0;var er=p(1752);a.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258A":[{x:0,y:0,w:6,h:8}],"\u258B":[{x:0,y:0,w:5,h:8}],"\u258C":[{x:0,y:0,w:4,h:8}],"\u258D":[{x:0,y:0,w:3,h:8}],"\u258E":[{x:0,y:0,w:2,h:8}],"\u258F":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259A":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259B":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259C":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259D":[{x:4,y:0,w:4,h:4}],"\u259E":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259F":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1FB70}":[{x:1,y:0,w:1,h:8}],"\u{1FB71}":[{x:2,y:0,w:1,h:8}],"\u{1FB72}":[{x:3,y:0,w:1,h:8}],"\u{1FB73}":[{x:4,y:0,w:1,h:8}],"\u{1FB74}":[{x:5,y:0,w:1,h:8}],"\u{1FB75}":[{x:6,y:0,w:1,h:8}],"\u{1FB76}":[{x:0,y:1,w:8,h:1}],"\u{1FB77}":[{x:0,y:2,w:8,h:1}],"\u{1FB78}":[{x:0,y:3,w:8,h:1}],"\u{1FB79}":[{x:0,y:4,w:8,h:1}],"\u{1FB7A}":[{x:0,y:5,w:8,h:1}],"\u{1FB7B}":[{x:0,y:6,w:8,h:1}],"\u{1FB7C}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB7D}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7E}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7F}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB82}":[{x:0,y:0,w:8,h:2}],"\u{1FB83}":[{x:0,y:0,w:8,h:3}],"\u{1FB84}":[{x:0,y:0,w:8,h:5}],"\u{1FB85}":[{x:0,y:0,w:8,h:6}],"\u{1FB86}":[{x:0,y:0,w:8,h:7}],"\u{1FB87}":[{x:6,y:0,w:2,h:8}],"\u{1FB88}":[{x:5,y:0,w:3,h:8}],"\u{1FB89}":[{x:3,y:0,w:5,h:8}],"\u{1FB8A}":[{x:2,y:0,w:6,h:8}],"\u{1FB8B}":[{x:1,y:0,w:7,h:8}],"\u{1FB95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1FB96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1FB97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var nr={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};a.boxDrawingDefinitions={"\u2500":(l={},l[1]="M0,.5 L1,.5",l),"\u2501":(u={},u[3]="M0,.5 L1,.5",u),"\u2502":(f={},f[1]="M.5,0 L.5,1",f),"\u2503":(h={},h[3]="M.5,0 L.5,1",h),"\u250C":(v={},v[1]="M0.5,1 L.5,.5 L1,.5",v),"\u250F":(b={},b[3]="M0.5,1 L.5,.5 L1,.5",b),"\u2510":(n={},n[1]="M0,.5 L.5,.5 L.5,1",n),"\u2513":(s={},s[3]="M0,.5 L.5,.5 L.5,1",s),"\u2514":(d={},d[1]="M.5,0 L.5,.5 L1,.5",d),"\u2517":(i={},i[3]="M.5,0 L.5,.5 L1,.5",i),"\u2518":(t={},t[1]="M.5,0 L.5,.5 L0,.5",t),"\u251B":(e={},e[3]="M.5,0 L.5,.5 L0,.5",e),"\u251C":(r={},r[1]="M.5,0 L.5,1 M.5,.5 L1,.5",r),"\u2523":(o={},o[3]="M.5,0 L.5,1 M.5,.5 L1,.5",o),"\u2524":(c={},c[1]="M.5,0 L.5,1 M.5,.5 L0,.5",c),"\u252B":(_={},_[3]="M.5,0 L.5,1 M.5,.5 L0,.5",_),"\u252C":(g={},g[1]="M0,.5 L1,.5 M.5,.5 L.5,1",g),"\u2533":(S={},S[3]="M0,.5 L1,.5 M.5,.5 L.5,1",S),"\u2534":(C={},C[1]="M0,.5 L1,.5 M.5,.5 L.5,0",C),"\u253B":(y={},y[3]="M0,.5 L1,.5 M.5,.5 L.5,0",y),"\u253C":(m={},m[1]="M0,.5 L1,.5 M.5,0 L.5,1",m),"\u254B":(E={},E[3]="M0,.5 L1,.5 M.5,0 L.5,1",E),"\u2574":(L={},L[1]="M.5,.5 L0,.5",L),"\u2578":(T={},T[3]="M.5,.5 L0,.5",T),"\u2575":(B={},B[1]="M.5,.5 L.5,0",B),"\u2579":(w={},w[3]="M.5,.5 L.5,0",w),"\u2576":(M={},M[1]="M.5,.5 L1,.5",M),"\u257A":(A={},A[3]="M.5,.5 L1,.5",A),"\u2577":(P={},P[1]="M.5,.5 L.5,1",P),"\u257B":(j={},j[3]="M.5,.5 L.5,1",j),"\u2550":(U={},U[1]=function(H,I){return"M0,"+(.5-I)+" L1,"+(.5-I)+" M0,"+(.5+I)+" L1,"+(.5+I)},U),"\u2551":(z={},z[1]=function(H,I){return"M"+(.5-H)+",0 L"+(.5-H)+",1 M"+(.5+H)+",0 L"+(.5+H)+",1"},z),"\u2552":(K={},K[1]=function(H,I){return"M.5,1 L.5,"+(.5-I)+" L1,"+(.5-I)+" M.5,"+(.5+I)+" L1,"+(.5+I)},K),"\u2553":(V={},V[1]=function(H,I){return"M"+(.5-H)+",1 L"+(.5-H)+",.5 L1,.5 M"+(.5+H)+",.5 L"+(.5+H)+",1"},V),"\u2554":(k={},k[1]=function(H,I){return"M1,"+(.5-I)+" L"+(.5-H)+","+(.5-I)+" L"+(.5-H)+",1 M1,"+(.5+I)+" L"+(.5+H)+","+(.5+I)+" L"+(.5+H)+",1"},k),"\u2555":(R={},R[1]=function(H,I){return"M0,"+(.5-I)+" L.5,"+(.5-I)+" L.5,1 M0,"+(.5+I)+" L.5,"+(.5+I)},R),"\u2556":(x={},x[1]=function(H,I){return"M"+(.5+H)+",1 L"+(.5+H)+",.5 L0,.5 M"+(.5-H)+",.5 L"+(.5-H)+",1"},x),"\u2557":(W={},W[1]=function(H,I){return"M0,"+(.5+I)+" L"+(.5-H)+","+(.5+I)+" L"+(.5-H)+",1 M0,"+(.5-I)+" L"+(.5+H)+","+(.5-I)+" L"+(.5+H)+",1"},W),"\u2558":(O={},O[1]=function(H,I){return"M.5,0 L.5,"+(.5+I)+" L1,"+(.5+I)+" M.5,"+(.5-I)+" L1,"+(.5-I)},O),"\u2559":(q={},q[1]=function(H,I){return"M1,.5 L"+(.5-H)+",.5 L"+(.5-H)+",0 M"+(.5+H)+",.5 L"+(.5+H)+",0"},q),"\u255A":(Y={},Y[1]=function(H,I){return"M1,"+(.5-I)+" L"+(.5+H)+","+(.5-I)+" L"+(.5+H)+",0 M1,"+(.5+I)+" L"+(.5-H)+","+(.5+I)+" L"+(.5-H)+",0"},Y),"\u255B":(J={},J[1]=function(H,I){return"M0,"+(.5+I)+" L.5,"+(.5+I)+" L.5,0 M0,"+(.5-I)+" L.5,"+(.5-I)},J),"\u255C":(Q={},Q[1]=function(H,I){return"M0,.5 L"+(.5+H)+",.5 L"+(.5+H)+",0 M"+(.5-H)+",.5 L"+(.5-H)+",0"},Q),"\u255D":(re={},re[1]=function(H,I){return"M0,"+(.5-I)+" L"+(.5-H)+","+(.5-I)+" L"+(.5-H)+",0 M0,"+(.5+I)+" L"+(.5+H)+","+(.5+I)+" L"+(.5+H)+",0"},re),"\u255E":(N={},N[1]=function(H,I){return"M.5,0 L.5,1 M.5,"+(.5-I)+" L1,"+(.5-I)+" M.5,"+(.5+I)+" L1,"+(.5+I)},N),"\u255F":(te={},te[1]=function(H,I){return"M"+(.5-H)+",0 L"+(.5-H)+",1 M"+(.5+H)+",0 L"+(.5+H)+",1 M"+(.5+H)+",.5 L1,.5"},te),"\u2560":(oe={},oe[1]=function(H,I){return"M"+(.5-H)+",0 L"+(.5-H)+",1 M1,"+(.5+I)+" L"+(.5+H)+","+(.5+I)+" L"+(.5+H)+",1 M1,"+(.5-I)+" L"+(.5+H)+","+(.5-I)+" L"+(.5+H)+",0"},oe),"\u2561":(ae={},ae[1]=function(H,I){return"M.5,0 L.5,1 M0,"+(.5-I)+" L.5,"+(.5-I)+" M0,"+(.5+I)+" L.5,"+(.5+I)},ae),"\u2562":(_e={},_e[1]=function(H,I){return"M0,.5 L"+(.5-H)+",.5 M"+(.5-H)+",0 L"+(.5-H)+",1 M"+(.5+H)+",0 L"+(.5+H)+",1"},_e),"\u2563":(kt={},kt[1]=function(H,I){return"M"+(.5+H)+",0 L"+(.5+H)+",1 M0,"+(.5+I)+" L"+(.5-H)+","+(.5+I)+" L"+(.5-H)+",1 M0,"+(.5-I)+" L"+(.5-H)+","+(.5-I)+" L"+(.5-H)+",0"},kt),"\u2564":(Lt={},Lt[1]=function(H,I){return"M0,"+(.5-I)+" L1,"+(.5-I)+" M0,"+(.5+I)+" L1,"+(.5+I)+" M.5,"+(.5+I)+" L.5,1"},Lt),"\u2565":(Et={},Et[1]=function(H,I){return"M0,.5 L1,.5 M"+(.5-H)+",.5 L"+(.5-H)+",1 M"+(.5+H)+",.5 L"+(.5+H)+",1"},Et),"\u2566":(Mt={},Mt[1]=function(H,I){return"M0,"+(.5-I)+" L1,"+(.5-I)+" M0,"+(.5+I)+" L"+(.5-H)+","+(.5+I)+" L"+(.5-H)+",1 M1,"+(.5+I)+" L"+(.5+H)+","+(.5+I)+" L"+(.5+H)+",1"},Mt),"\u2567":(Bt={},Bt[1]=function(H,I){return"M.5,0 L.5,"+(.5-I)+" M0,"+(.5-I)+" L1,"+(.5-I)+" M0,"+(.5+I)+" L1,"+(.5+I)},Bt),"\u2568":(Rt={},Rt[1]=function(H,I){return"M0,.5 L1,.5 M"+(.5-H)+",.5 L"+(.5-H)+",0 M"+(.5+H)+",.5 L"+(.5+H)+",0"},Rt),"\u2569":(xt={},xt[1]=function(H,I){return"M0,"+(.5+I)+" L1,"+(.5+I)+" M0,"+(.5-I)+" L"+(.5-H)+","+(.5-I)+" L"+(.5-H)+",0 M1,"+(.5-I)+" L"+(.5+H)+","+(.5-I)+" L"+(.5+H)+",0"},xt),"\u256A":(At={},At[1]=function(H,I){return"M.5,0 L.5,1 M0,"+(.5-I)+" L1,"+(.5-I)+" M0,"+(.5+I)+" L1,"+(.5+I)},At),"\u256B":(Ot={},Ot[1]=function(H,I){return"M0,.5 L1,.5 M"+(.5-H)+",0 L"+(.5-H)+",1 M"+(.5+H)+",0 L"+(.5+H)+",1"},Ot),"\u256C":(Tt={},Tt[1]=function(H,I){return"M0,"+(.5+I)+" L"+(.5-H)+","+(.5+I)+" L"+(.5-H)+",1 M1,"+(.5+I)+" L"+(.5+H)+","+(.5+I)+" L"+(.5+H)+",1 M0,"+(.5-I)+" L"+(.5-H)+","+(.5-I)+" L"+(.5-H)+",0 M1,"+(.5-I)+" L"+(.5+H)+","+(.5-I)+" L"+(.5+H)+",0"},Tt),"\u2571":(Dt={},Dt[1]="M1,0 L0,1",Dt),"\u2572":(Pt={},Pt[1]="M0,0 L1,1",Pt),"\u2573":(It={},It[1]="M1,0 L0,1 M0,0 L1,1",It),"\u257C":(we={},we[1]="M.5,.5 L0,.5",we[3]="M.5,.5 L1,.5",we),"\u257D":(ke={},ke[1]="M.5,.5 L.5,0",ke[3]="M.5,.5 L.5,1",ke),"\u257E":(Le={},Le[1]="M.5,.5 L1,.5",Le[3]="M.5,.5 L0,.5",Le),"\u257F":(Ee={},Ee[1]="M.5,.5 L.5,1",Ee[3]="M.5,.5 L.5,0",Ee),"\u250D":(Me={},Me[1]="M.5,.5 L.5,1",Me[3]="M.5,.5 L1,.5",Me),"\u250E":(Be={},Be[1]="M.5,.5 L1,.5",Be[3]="M.5,.5 L.5,1",Be),"\u2511":(Re={},Re[1]="M.5,.5 L.5,1",Re[3]="M.5,.5 L0,.5",Re),"\u2512":(xe={},xe[1]="M.5,.5 L0,.5",xe[3]="M.5,.5 L.5,1",xe),"\u2515":(Ae={},Ae[1]="M.5,.5 L.5,0",Ae[3]="M.5,.5 L1,.5",Ae),"\u2516":(Oe={},Oe[1]="M.5,.5 L1,.5",Oe[3]="M.5,.5 L.5,0",Oe),"\u2519":(Te={},Te[1]="M.5,.5 L.5,0",Te[3]="M.5,.5 L0,.5",Te),"\u251A":(De={},De[1]="M.5,.5 L0,.5",De[3]="M.5,.5 L.5,0",De),"\u251D":(Pe={},Pe[1]="M.5,0 L.5,1",Pe[3]="M.5,.5 L1,.5",Pe),"\u251E":(Ie={},Ie[1]="M0.5,1 L.5,.5 L1,.5",Ie[3]="M.5,.5 L.5,0",Ie),"\u251F":(He={},He[1]="M.5,0 L.5,.5 L1,.5",He[3]="M.5,.5 L.5,1",He),"\u2520":(We={},We[1]="M.5,.5 L1,.5",We[3]="M.5,0 L.5,1",We),"\u2521":(Fe={},Fe[1]="M.5,.5 L.5,1",Fe[3]="M.5,0 L.5,.5 L1,.5",Fe),"\u2522":(je={},je[1]="M.5,.5 L.5,0",je[3]="M0.5,1 L.5,.5 L1,.5",je),"\u2525":(Ue={},Ue[1]="M.5,0 L.5,1",Ue[3]="M.5,.5 L0,.5",Ue),"\u2526":(qe={},qe[1]="M0,.5 L.5,.5 L.5,1",qe[3]="M.5,.5 L.5,0",qe),"\u2527":(Ne={},Ne[1]="M.5,0 L.5,.5 L0,.5",Ne[3]="M.5,.5 L.5,1",Ne),"\u2528":(Ge={},Ge[1]="M.5,.5 L0,.5",Ge[3]="M.5,0 L.5,1",Ge),"\u2529":(Ye={},Ye[1]="M.5,.5 L.5,1",Ye[3]="M.5,0 L.5,.5 L0,.5",Ye),"\u252A":(ze={},ze[1]="M.5,.5 L.5,0",ze[3]="M0,.5 L.5,.5 L.5,1",ze),"\u252D":(Ke={},Ke[1]="M0.5,1 L.5,.5 L1,.5",Ke[3]="M.5,.5 L0,.5",Ke),"\u252E":(Ve={},Ve[1]="M0,.5 L.5,.5 L.5,1",Ve[3]="M.5,.5 L1,.5",Ve),"\u252F":(Xe={},Xe[1]="M.5,.5 L.5,1",Xe[3]="M0,.5 L1,.5",Xe),"\u2530":(Je={},Je[1]="M0,.5 L1,.5",Je[3]="M.5,.5 L.5,1",Je),"\u2531":(Ze={},Ze[1]="M.5,.5 L1,.5",Ze[3]="M0,.5 L.5,.5 L.5,1",Ze),"\u2532":($e={},$e[1]="M.5,.5 L0,.5",$e[3]="M0.5,1 L.5,.5 L1,.5",$e),"\u2535":(Qe={},Qe[1]="M.5,0 L.5,.5 L1,.5",Qe[3]="M.5,.5 L0,.5",Qe),"\u2536":(et={},et[1]="M.5,0 L.5,.5 L0,.5",et[3]="M.5,.5 L1,.5",et),"\u2537":(tt={},tt[1]="M.5,.5 L.5,0",tt[3]="M0,.5 L1,.5",tt),"\u2538":(rt={},rt[1]="M0,.5 L1,.5",rt[3]="M.5,.5 L.5,0",rt),"\u2539":(it={},it[1]="M.5,.5 L1,.5",it[3]="M.5,0 L.5,.5 L0,.5",it),"\u253A":(nt={},nt[1]="M.5,.5 L0,.5",nt[3]="M.5,0 L.5,.5 L1,.5",nt),"\u253D":(ot={},ot[1]="M.5,0 L.5,1 M.5,.5 L1,.5",ot[3]="M.5,.5 L0,.5",ot),"\u253E":(st={},st[1]="M.5,0 L.5,1 M.5,.5 L0,.5",st[3]="M.5,.5 L1,.5",st),"\u253F":(at={},at[1]="M.5,0 L.5,1",at[3]="M0,.5 L1,.5",at),"\u2540":(ct={},ct[1]="M0,.5 L1,.5 M.5,.5 L.5,1",ct[3]="M.5,.5 L.5,0",ct),"\u2541":(lt={},lt[1]="M.5,.5 L.5,0 M0,.5 L1,.5",lt[3]="M.5,.5 L.5,1",lt),"\u2542":(ht={},ht[1]="M0,.5 L1,.5",ht[3]="M.5,0 L.5,1",ht),"\u2543":(ft={},ft[1]="M0.5,1 L.5,.5 L1,.5",ft[3]="M.5,0 L.5,.5 L0,.5",ft),"\u2544":(ut={},ut[1]="M0,.5 L.5,.5 L.5,1",ut[3]="M.5,0 L.5,.5 L1,.5",ut),"\u2545":(dt={},dt[1]="M.5,0 L.5,.5 L1,.5",dt[3]="M0,.5 L.5,.5 L.5,1",dt),"\u2546":(_t={},_t[1]="M.5,0 L.5,.5 L0,.5",_t[3]="M0.5,1 L.5,.5 L1,.5",_t),"\u2547":(bt={},bt[1]="M.5,.5 L.5,1",bt[3]="M.5,.5 L.5,0 M0,.5 L1,.5",bt),"\u2548":(gt={},gt[1]="M.5,.5 L.5,0",gt[3]="M0,.5 L1,.5 M.5,.5 L.5,1",gt),"\u2549":(pt={},pt[1]="M.5,.5 L1,.5",pt[3]="M.5,0 L.5,1 M.5,.5 L0,.5",pt),"\u254A":(vt={},vt[1]="M.5,.5 L0,.5",vt[3]="M.5,0 L.5,1 M.5,.5 L1,.5",vt),"\u254C":(Ht={},Ht[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Ht),"\u254D":(Wt={},Wt[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Wt),"\u2504":(Ft={},Ft[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Ft),"\u2505":(jt={},jt[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",jt),"\u2508":(Ut={},Ut[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Ut),"\u2509":(qt={},qt[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",qt),"\u254E":(Nt={},Nt[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Nt),"\u254F":(Gt={},Gt[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Gt),"\u2506":(Yt={},Yt[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Yt),"\u2507":(zt={},zt[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",zt),"\u250A":(Kt={},Kt[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Kt),"\u250B":(Vt={},Vt[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Vt),"\u256D":(Xt={},Xt[1]="C.5,1,.5,.5,1,.5",Xt),"\u256E":(Jt={},Jt[1]="C.5,1,.5,.5,0,.5",Jt),"\u256F":(Zt={},Zt[1]="C.5,0,.5,.5,0,.5",Zt),"\u2570":($t={},$t[1]="C.5,0,.5,.5,1,.5",$t)},a.tryDrawCustomChar=function(H,I,ce,pe,ve,ee){var le=a.blockElementDefinitions[I];if(le)return function(ie,fe,me,Ce,be,ge){for(var se=0;se<fe.length;se++){var ne=fe[se],$=be/8,ue=ge/8;ie.fillRect(me+ne.x*$,Ce+ne.y*ue,ne.w*$,ne.h*ue)}}(H,le,ce,pe,ve,ee),!0;var he=nr[I];if(he)return function(ie,fe,me,Ce,be,ge){var se,ne=tr.get(fe);ne||(ne=new Map,tr.set(fe,ne));var $=ie.fillStyle;if(typeof $!="string")throw new Error('Unexpected fillStyle type "'+$+'"');var ue=ne.get($);if(!ue){var de=fe[0].length,yt=fe.length,mt=document.createElement("canvas");mt.width=de,mt.height=yt;var ar=(0,er.throwIfFalsy)(mt.getContext("2d")),Se=new ImageData(de,yt),Qt=void 0,Ct=void 0,lr=void 0,hr=void 0;if($.startsWith("#"))Qt=parseInt($.substr(1,2),16),Ct=parseInt($.substr(3,2),16),lr=parseInt($.substr(5,2),16),hr=$.length>7&&parseInt($.substr(7,2),16)||1;else{if(!$.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+$+'" when drawing pattern glyph');Qt=(se=$.substring(5,$.length-1).split(",").map(function(yr){return parseFloat(yr)}))[0],Ct=se[1],lr=se[2],hr=se[3]}for(var St=0;St<yt;St++)for(var wt=0;wt<de;wt++)Se.data[4*(St*de+wt)]=Qt,Se.data[4*(St*de+wt)+1]=Ct,Se.data[4*(St*de+wt)+2]=lr,Se.data[4*(St*de+wt)+3]=fe[St][wt]*(255*hr);ar.putImageData(Se,0,0),ue=(0,er.throwIfFalsy)(ie.createPattern(mt,null)),ne.set($,ue)}ie.fillStyle=ue,ie.fillRect(me,Ce,be,ge)}(H,he,ce,pe,ve,ee),!0;var ye=a.boxDrawingDefinitions[I];return!!ye&&(function(ie,fe,me,Ce,be,ge){ie.strokeStyle=ie.fillStyle;for(var se=0,ne=Object.entries(fe);se<ne.length;se++){var $=ne[se],ue=$[0],de=$[1];ie.beginPath(),ie.lineWidth=window.devicePixelRatio*Number.parseInt(ue);for(var yt=0,mt=(typeof de=="function"?de(.15,.15/ge*be):de).split(" ");yt<mt.length;yt++){var ar=mt[yt],Se=ar[0],Qt=or[Se];if(Qt){var Ct=ar.substring(1).split(",");Ct[0]&&Ct[1]&&Qt(ie,sr(Ct,be,ge,me,Ce))}else console.error('Could not find drawing instructions for "'+Se+'"')}ie.stroke(),ie.closePath()}}(H,ye,ce,pe,ve,ee),!0)};var tr=new Map;function rr(H,I,ce){return ce===void 0&&(ce=0),Math.max(Math.min(H,I),ce)}var or={C:function(H,I){return H.bezierCurveTo(I[0],I[1],I[2],I[3],I[4],I[5])},L:function(H,I){return H.lineTo(I[0],I[1])},M:function(H,I){return H.moveTo(I[0],I[1])}};function sr(H,I,ce,pe,ve){var ee=H.map(function(ye){return parseFloat(ye)||parseInt(ye)});if(ee.length<2)throw new Error("Too few arguments for instruction");for(var le=0;le<ee.length;le+=2)ee[le]*=I,ee[le]!==0&&(ee[le]=rr(Math.round(ee[le]+.5)-.5,I,0)),ee[le]+=pe;for(var he=1;he<ee.length;he+=2)ee[he]*=ce,ee[he]!==0&&(ee[he]=rr(Math.round(ee[he]+.5)-.5,ce,0)),ee[he]+=ve;return ee}},3700:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GridCache=void 0;var p=function(){function l(){this.cache=[]}return l.prototype.resize=function(u,f){for(var h=0;h<u;h++){this.cache.length<=h&&this.cache.push([]);for(var v=this.cache[h].length;v<f;v++)this.cache[h].push(void 0);this.cache[h].length=f}this.cache.length=u},l.prototype.clear=function(){for(var u=0;u<this.cache.length;u++)for(var f=0;f<this.cache[u].length;f++)this.cache[u][f]=void 0},l}();a.GridCache=p},5098:function(F,a,p){var l,u=this&&this.__extends||(l=function(i,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},l(i,t)},function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}l(i,t),i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),f=this&&this.__decorate||function(i,t,e,r){var o,c=arguments.length,_=c<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(i,t,e,r);else for(var g=i.length-1;g>=0;g--)(o=i[g])&&(_=(c<3?o(_):c>3?o(t,e,_):o(t,e))||_);return c>3&&_&&Object.defineProperty(t,e,_),_},h=this&&this.__param||function(i,t){return function(e,r){t(e,r,i)}};Object.defineProperty(a,"__esModule",{value:!0}),a.LinkRenderLayer=void 0;var v=p(1546),b=p(8803),n=p(2040),s=p(2585),d=function(i){function t(e,r,o,c,_,g,S,C){var y=i.call(this,e,"link",r,!0,o,c,S,C)||this;return _.onShowLinkUnderline(function(m){return y._onShowLinkUnderline(m)}),_.onHideLinkUnderline(function(m){return y._onHideLinkUnderline(m)}),g.onShowLinkUnderline(function(m){return y._onShowLinkUnderline(m)}),g.onHideLinkUnderline(function(m){return y._onHideLinkUnderline(m)}),y}return u(t,i),t.prototype.resize=function(e){i.prototype.resize.call(this,e),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onShowLinkUnderline=function(e){if(e.fg===b.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&(0,n.is256Color)(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var r=e.y1+1;r<e.y2;r++)this._fillBottomLineAtCells(0,r,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onHideLinkUnderline=function(e){this._clearCurrentLink()},f([h(6,s.IBufferService),h(7,s.IOptionsService)],t)}(v.BaseRenderLayer);a.LinkRenderLayer=d},3525:function(F,a,p){var l,u=this&&this.__extends||(l=function(_,g){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(S[y]=C[y])},l(_,g)},function(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function S(){this.constructor=_}l(_,g),_.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}),f=this&&this.__decorate||function(_,g,S,C){var y,m=arguments.length,E=m<3?g:C===null?C=Object.getOwnPropertyDescriptor(g,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(_,g,S,C);else for(var L=_.length-1;L>=0;L--)(y=_[L])&&(E=(m<3?y(E):m>3?y(g,S,E):y(g,S))||E);return m>3&&E&&Object.defineProperty(g,S,E),E},h=this&&this.__param||function(_,g){return function(S,C){g(S,C,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Renderer=void 0;var v=p(9596),b=p(4149),n=p(2512),s=p(5098),d=p(844),i=p(4725),t=p(2585),e=p(1420),r=p(8460),o=1,c=function(_){function g(S,C,y,m,E,L,T,B){var w=_.call(this)||this;w._colors=S,w._screenElement=C,w._bufferService=L,w._charSizeService=T,w._optionsService=B,w._id=o++,w._onRequestRedraw=new r.EventEmitter;var M=w._optionsService.rawOptions.allowTransparency;return w._renderLayers=[E.createInstance(v.TextRenderLayer,w._screenElement,0,w._colors,M,w._id),E.createInstance(b.SelectionRenderLayer,w._screenElement,1,w._colors,w._id),E.createInstance(s.LinkRenderLayer,w._screenElement,2,w._colors,w._id,y,m),E.createInstance(n.CursorRenderLayer,w._screenElement,3,w._colors,w._id,w._onRequestRedraw)],w.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},w._devicePixelRatio=window.devicePixelRatio,w._updateDimensions(),w.onOptionsChanged(),w}return u(g,_),Object.defineProperty(g.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),g.prototype.dispose=function(){for(var S=0,C=this._renderLayers;S<C.length;S++)C[S].dispose();_.prototype.dispose.call(this),(0,e.removeTerminalFromCache)(this._id)},g.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},g.prototype.setColors=function(S){this._colors=S;for(var C=0,y=this._renderLayers;C<y.length;C++){var m=y[C];m.setColors(this._colors),m.reset()}},g.prototype.onResize=function(S,C){this._updateDimensions();for(var y=0,m=this._renderLayers;y<m.length;y++)m[y].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},g.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},g.prototype.onBlur=function(){this._runOperation(function(S){return S.onBlur()})},g.prototype.onFocus=function(){this._runOperation(function(S){return S.onFocus()})},g.prototype.onSelectionChanged=function(S,C,y){y===void 0&&(y=!1),this._runOperation(function(m){return m.onSelectionChanged(S,C,y)})},g.prototype.onCursorMove=function(){this._runOperation(function(S){return S.onCursorMove()})},g.prototype.onOptionsChanged=function(){this._runOperation(function(S){return S.onOptionsChanged()})},g.prototype.clear=function(){this._runOperation(function(S){return S.reset()})},g.prototype._runOperation=function(S){for(var C=0,y=this._renderLayers;C<y.length;C++)S(y[C])},g.prototype.renderRows=function(S,C){for(var y=0,m=this._renderLayers;y<m.length;y++)m[y].onGridChanged(S,C)},g.prototype.clearTextureAtlas=function(){for(var S=0,C=this._renderLayers;S<C.length;S++)C[S].clearTextureAtlas()},g.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},f([h(4,t.IInstantiationService),h(5,t.IBufferService),h(6,i.ICharSizeService),h(7,t.IOptionsService)],g)}(d.Disposable);a.Renderer=c},1752:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.throwIfFalsy=void 0,a.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p}},4149:function(F,a,p){var l,u=this&&this.__extends||(l=function(s,d){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,t){i.__proto__=t}||function(i,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])},l(s,d)},function(s,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function i(){this.constructor=s}l(s,d),s.prototype=d===null?Object.create(d):(i.prototype=d.prototype,new i)}),f=this&&this.__decorate||function(s,d,i,t){var e,r=arguments.length,o=r<3?d:t===null?t=Object.getOwnPropertyDescriptor(d,i):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,d,i,t);else for(var c=s.length-1;c>=0;c--)(e=s[c])&&(o=(r<3?e(o):r>3?e(d,i,o):e(d,i))||o);return r>3&&o&&Object.defineProperty(d,i,o),o},h=this&&this.__param||function(s,d){return function(i,t){d(i,t,s)}};Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionRenderLayer=void 0;var v=p(1546),b=p(2585),n=function(s){function d(i,t,e,r,o,c){var _=s.call(this,i,"selection",t,!0,e,r,o,c)||this;return _._clearState(),_}return u(d,s),d.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},d.prototype.resize=function(i){s.prototype.resize.call(this,i),this._clearState()},d.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},d.prototype.onSelectionChanged=function(i,t,e){if(this._didStateChange(i,t,e,this._bufferService.buffer.ydisp))if(this._clearAll(),i&&t){var r=i[1]-this._bufferService.buffer.ydisp,o=t[1]-this._bufferService.buffer.ydisp,c=Math.max(r,0),_=Math.min(o,this._bufferService.rows-1);if(c>=this._bufferService.rows||_<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,e){var g=i[0],S=t[0]-g,C=_-c+1;this._fillCells(g,c,S,C)}else{g=r===c?i[0]:0;var y=c===o?t[0]:this._bufferService.cols;this._fillCells(g,c,y-g,1);var m=Math.max(_-c-1,0);if(this._fillCells(0,c+1,this._bufferService.cols,m),c!==_){var E=o===_?t[0]:this._bufferService.cols;this._fillCells(0,_,E,1)}}this._state.start=[i[0],i[1]],this._state.end=[t[0],t[1]],this._state.columnSelectMode=e,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},d.prototype._didStateChange=function(i,t,e,r){return!this._areCoordinatesEqual(i,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||e!==this._state.columnSelectMode||r!==this._state.ydisp},d.prototype._areCoordinatesEqual=function(i,t){return!(!i||!t)&&i[0]===t[0]&&i[1]===t[1]},f([h(4,b.IBufferService),h(5,b.IOptionsService)],d)}(v.BaseRenderLayer);a.SelectionRenderLayer=n},9596:function(F,a,p){var l,u=this&&this.__extends||(l=function(o,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,g){_.__proto__=g}||function(_,g){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(_[S]=g[S])},l(o,c)},function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function _(){this.constructor=o}l(o,c),o.prototype=c===null?Object.create(c):(_.prototype=c.prototype,new _)}),f=this&&this.__decorate||function(o,c,_,g){var S,C=arguments.length,y=C<3?c:g===null?g=Object.getOwnPropertyDescriptor(c,_):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(o,c,_,g);else for(var m=o.length-1;m>=0;m--)(S=o[m])&&(y=(C<3?S(y):C>3?S(c,_,y):S(c,_))||y);return C>3&&y&&Object.defineProperty(c,_,y),y},h=this&&this.__param||function(o,c){return function(_,g){c(_,g,o)}};Object.defineProperty(a,"__esModule",{value:!0}),a.TextRenderLayer=void 0;var v=p(3700),b=p(1546),n=p(3734),s=p(643),d=p(511),i=p(2585),t=p(4725),e=p(4269),r=function(o){function c(_,g,S,C,y,m,E,L){var T=o.call(this,_,"text",g,C,S,y,m,E)||this;return T._characterJoinerService=L,T._characterWidth=0,T._characterFont="",T._characterOverlapCache={},T._workCell=new d.CellData,T._state=new v.GridCache,T}return u(c,o),c.prototype.resize=function(_){o.prototype.resize.call(this,_);var g=this._getFont(!1,!1);this._characterWidth===_.scaledCharWidth&&this._characterFont===g||(this._characterWidth=_.scaledCharWidth,this._characterFont=g,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},c.prototype.reset=function(){this._state.clear(),this._clearAll()},c.prototype._forEachCell=function(_,g,S){for(var C=_;C<=g;C++)for(var y=C+this._bufferService.buffer.ydisp,m=this._bufferService.buffer.lines.get(y),E=this._characterJoinerService.getJoinedCharacters(y),L=0;L<this._bufferService.cols;L++){m.loadCell(L,this._workCell);var T=this._workCell,B=!1,w=L;if(T.getWidth()!==0){if(E.length>0&&L===E[0][0]){B=!0;var M=E.shift();T=new e.JoinedCellData(this._workCell,m.translateToString(!0,M[0],M[1]),M[1]-M[0]),w=M[1]-1}!B&&this._isOverlapping(T)&&w<m.length-1&&m.getCodePoint(w+1)===s.NULL_CELL_CODE&&(T.content&=-12582913,T.content|=2<<22),S(T,L,C),L=w}}},c.prototype._drawBackground=function(_,g){var S=this,C=this._ctx,y=this._bufferService.cols,m=0,E=0,L=null;C.save(),this._forEachCell(_,g,function(T,B,w){var M=null;T.isInverse()?M=T.isFgDefault()?S._colors.foreground.css:T.isFgRGB()?"rgb("+n.AttributeData.toColorRGB(T.getFgColor()).join(",")+")":S._colors.ansi[T.getFgColor()].css:T.isBgRGB()?M="rgb("+n.AttributeData.toColorRGB(T.getBgColor()).join(",")+")":T.isBgPalette()&&(M=S._colors.ansi[T.getBgColor()].css),L===null&&(m=B,E=w),w!==E?(C.fillStyle=L||"",S._fillCells(m,E,y-m,1),m=B,E=w):L!==M&&(C.fillStyle=L||"",S._fillCells(m,E,B-m,1),m=B,E=w),L=M}),L!==null&&(C.fillStyle=L,this._fillCells(m,E,y-m,1)),C.restore()},c.prototype._drawForeground=function(_,g){var S=this;this._forEachCell(_,g,function(C,y,m){if(!C.isInvisible()&&(S._drawChars(C,y,m),C.isUnderline()||C.isStrikethrough())){if(S._ctx.save(),C.isInverse())if(C.isBgDefault())S._ctx.fillStyle=S._colors.background.css;else if(C.isBgRGB())S._ctx.fillStyle="rgb("+n.AttributeData.toColorRGB(C.getBgColor()).join(",")+")";else{var E=C.getBgColor();S._optionsService.rawOptions.drawBoldTextInBrightColors&&C.isBold()&&E<8&&(E+=8),S._ctx.fillStyle=S._colors.ansi[E].css}else if(C.isFgDefault())S._ctx.fillStyle=S._colors.foreground.css;else if(C.isFgRGB())S._ctx.fillStyle="rgb("+n.AttributeData.toColorRGB(C.getFgColor()).join(",")+")";else{var L=C.getFgColor();S._optionsService.rawOptions.drawBoldTextInBrightColors&&C.isBold()&&L<8&&(L+=8),S._ctx.fillStyle=S._colors.ansi[L].css}C.isStrikethrough()&&S._fillMiddleLineAtCells(y,m,C.getWidth()),C.isUnderline()&&S._fillBottomLineAtCells(y,m,C.getWidth()),S._ctx.restore()}})},c.prototype.onGridChanged=function(_,g){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,_,this._bufferService.cols,g-_+1),this._drawBackground(_,g),this._drawForeground(_,g))},c.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},c.prototype._isOverlapping=function(_){if(_.getWidth()!==1||_.getCode()<256)return!1;var g=_.getChars();if(this._characterOverlapCache.hasOwnProperty(g))return this._characterOverlapCache[g];this._ctx.save(),this._ctx.font=this._characterFont;var S=Math.floor(this._ctx.measureText(g).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[g]=S,S},f([h(5,i.IBufferService),h(6,i.IOptionsService),h(7,t.ICharacterJoinerService)],c)}(b.BaseRenderLayer);a.TextRenderLayer=r},9616:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseCharAtlas=void 0;var p=function(){function l(){this._didWarmUp=!1}return l.prototype.dispose=function(){},l.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},l.prototype._doWarmUp=function(){},l.prototype.clear=function(){},l.prototype.beginFrame=function(){},l}();a.BaseCharAtlas=p},1420:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.removeTerminalFromCache=a.acquireCharAtlas=void 0;var l=p(2040),u=p(1906),f=[];a.acquireCharAtlas=function(h,v,b,n,s){for(var d=(0,l.generateConfig)(n,s,h,b),i=0;i<f.length;i++){var t=(e=f[i]).ownedBy.indexOf(v);if(t>=0){if((0,l.configEquals)(e.config,d))return e.atlas;e.ownedBy.length===1?(e.atlas.dispose(),f.splice(i,1)):e.ownedBy.splice(t,1);break}}for(i=0;i<f.length;i++){var e=f[i];if((0,l.configEquals)(e.config,d))return e.ownedBy.push(v),e.atlas}var r={atlas:new u.DynamicCharAtlas(document,d),config:d,ownedBy:[v]};return f.push(r),r.atlas},a.removeTerminalFromCache=function(h){for(var v=0;v<f.length;v++){var b=f[v].ownedBy.indexOf(h);if(b!==-1){f[v].ownedBy.length===1?(f[v].atlas.dispose(),f.splice(v,1)):f[v].ownedBy.splice(b,1);break}}}},2040:function(F,a,p){var l=this&&this.__spreadArray||function(f,h,v){if(v||arguments.length===2)for(var b,n=0,s=h.length;n<s;n++)!b&&n in h||(b||(b=Array.prototype.slice.call(h,0,n)),b[n]=h[n]);return f.concat(b||Array.prototype.slice.call(h))};Object.defineProperty(a,"__esModule",{value:!0}),a.is256Color=a.configEquals=a.generateConfig=void 0;var u=p(643);a.generateConfig=function(f,h,v,b){var n={foreground:b.foreground,background:b.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:l([],b.ansi,!0)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:f,scaledCharHeight:h,fontFamily:v.fontFamily,fontSize:v.fontSize,fontWeight:v.fontWeight,fontWeightBold:v.fontWeightBold,allowTransparency:v.allowTransparency,colors:n}},a.configEquals=function(f,h){for(var v=0;v<f.colors.ansi.length;v++)if(f.colors.ansi[v].rgba!==h.colors.ansi[v].rgba)return!1;return f.devicePixelRatio===h.devicePixelRatio&&f.fontFamily===h.fontFamily&&f.fontSize===h.fontSize&&f.fontWeight===h.fontWeight&&f.fontWeightBold===h.fontWeightBold&&f.allowTransparency===h.allowTransparency&&f.scaledCharWidth===h.scaledCharWidth&&f.scaledCharHeight===h.scaledCharHeight&&f.colors.foreground===h.colors.foreground&&f.colors.background===h.colors.background},a.is256Color=function(f){return f<u.DEFAULT_COLOR}},8803:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR_ATLAS_CELL_SPACING=a.TEXT_BASELINE=a.DIM_OPACITY=a.INVERTED_DEFAULT_COLOR=void 0;var l=p(6114);a.INVERTED_DEFAULT_COLOR=257,a.DIM_OPACITY=.5,a.TEXT_BASELINE=l.isFirefox||l.isLegacyEdge?"bottom":"ideographic",a.CHAR_ATLAS_CELL_SPACING=1},1906:function(F,a,p){var l,u=this&&this.__extends||(l=function(g,S){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(C[m]=y[m])},l(g,S)},function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function C(){this.constructor=g}l(g,S),g.prototype=S===null?Object.create(S):(C.prototype=S.prototype,new C)});Object.defineProperty(a,"__esModule",{value:!0}),a.NoneCharAtlas=a.DynamicCharAtlas=a.getGlyphCacheKey=void 0;var f=p(8803),h=p(9616),v=p(5680),b=p(7001),n=p(6114),s=p(1752),d=p(4774),i=1024,t=1024,e={css:"rgba(0, 0, 0, 0)",rgba:0};function r(g){return g.code<<21|g.bg<<12|g.fg<<3|(g.bold?0:4)+(g.dim?0:2)+(g.italic?0:1)}a.getGlyphCacheKey=r;var o=function(g){function S(C,y){var m=g.call(this)||this;m._config=y,m._drawToCacheCount=0,m._glyphsWaitingOnBitmap=[],m._bitmapCommitTimeout=null,m._bitmap=null,m._cacheCanvas=C.createElement("canvas"),m._cacheCanvas.width=i,m._cacheCanvas.height=t,m._cacheCtx=(0,s.throwIfFalsy)(m._cacheCanvas.getContext("2d",{alpha:!0}));var E=C.createElement("canvas");E.width=m._config.scaledCharWidth,E.height=m._config.scaledCharHeight,m._tmpCtx=(0,s.throwIfFalsy)(E.getContext("2d",{alpha:m._config.allowTransparency})),m._width=Math.floor(i/m._config.scaledCharWidth),m._height=Math.floor(t/m._config.scaledCharHeight);var L=m._width*m._height;return m._cacheMap=new b.LRUMap(L),m._cacheMap.prealloc(L),m}return u(S,g),S.prototype.dispose=function(){this._bitmapCommitTimeout!==null&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},S.prototype.beginFrame=function(){this._drawToCacheCount=0},S.prototype.clear=function(){if(this._cacheMap.size>0){var C=this._width*this._height;this._cacheMap=new b.LRUMap(C),this._cacheMap.prealloc(C)}this._cacheCtx.clearRect(0,0,i,t),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},S.prototype.draw=function(C,y,m,E){if(y.code===32)return!0;if(!this._canCache(y))return!1;var L=r(y),T=this._cacheMap.get(L);if(T!=null)return this._drawFromCache(C,T,m,E),!0;if(this._drawToCacheCount<100){var B;B=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var w=this._drawToCache(y,B);return this._cacheMap.set(L,w),this._drawFromCache(C,w,m,E),!0}return!1},S.prototype._canCache=function(C){return C.code<256},S.prototype._toCoordinateX=function(C){return C%this._width*this._config.scaledCharWidth},S.prototype._toCoordinateY=function(C){return Math.floor(C/this._width)*this._config.scaledCharHeight},S.prototype._drawFromCache=function(C,y,m,E){if(!y.isEmpty){var L=this._toCoordinateX(y.index),T=this._toCoordinateY(y.index);C.drawImage(y.inBitmap?this._bitmap:this._cacheCanvas,L,T,this._config.scaledCharWidth,this._config.scaledCharHeight,m,E,this._config.scaledCharWidth,this._config.scaledCharHeight)}},S.prototype._getColorFromAnsiIndex=function(C){return C<this._config.colors.ansi.length?this._config.colors.ansi[C]:v.DEFAULT_ANSI_COLORS[C]},S.prototype._getBackgroundColor=function(C){return this._config.allowTransparency?e:C.bg===f.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:C.bg<256?this._getColorFromAnsiIndex(C.bg):this._config.colors.background},S.prototype._getForegroundColor=function(C){return C.fg===f.INVERTED_DEFAULT_COLOR?d.color.opaque(this._config.colors.background):C.fg<256?this._getColorFromAnsiIndex(C.fg):this._config.colors.foreground},S.prototype._drawToCache=function(C,y){this._drawToCacheCount++,this._tmpCtx.save();var m=this._getBackgroundColor(C);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=m.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var E=C.bold?this._config.fontWeightBold:this._config.fontWeight,L=C.italic?"italic":"";this._tmpCtx.font=L+" "+E+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=f.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(C).css,C.dim&&(this._tmpCtx.globalAlpha=f.DIM_OPACITY),this._tmpCtx.fillText(C.chars,0,this._config.scaledCharHeight);var T=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),B=!1;if(this._config.allowTransparency||(B=_(T,m)),B&&C.chars==="_"&&!this._config.allowTransparency)for(var w=1;w<=5&&(this._tmpCtx.fillText(C.chars,0,this._config.scaledCharHeight-w),B=_(T=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),m));w++);this._tmpCtx.restore();var M=this._toCoordinateX(y),A=this._toCoordinateY(y);this._cacheCtx.putImageData(T,M,A);var P={index:y,isEmpty:B,inBitmap:!1};return this._addGlyphToBitmap(P),P},S.prototype._addGlyphToBitmap=function(C){var y=this;!("createImageBitmap"in window)||n.isFirefox||n.isSafari||(this._glyphsWaitingOnBitmap.push(C),this._bitmapCommitTimeout===null&&(this._bitmapCommitTimeout=window.setTimeout(function(){return y._generateBitmap()},100)))},S.prototype._generateBitmap=function(){var C=this,y=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(m){C._bitmap=m;for(var E=0;E<y.length;E++)y[E].inBitmap=!0}),this._bitmapCommitTimeout=null},S}(h.BaseCharAtlas);a.DynamicCharAtlas=o;var c=function(g){function S(C,y){return g.call(this)||this}return u(S,g),S.prototype.draw=function(C,y,m,E){return!1},S}(h.BaseCharAtlas);function _(g,S){for(var C=!0,y=S.rgba>>>24,m=S.rgba>>>16&255,E=S.rgba>>>8&255,L=0;L<g.data.length;L+=4)g.data[L]===y&&g.data[L+1]===m&&g.data[L+2]===E?g.data[L+3]=0:C=!1;return C}a.NoneCharAtlas=c},7001:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LRUMap=void 0;var p=function(){function l(u){this.capacity=u,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return l.prototype._unlinkNode=function(u){var f=u.prev,h=u.next;u===this._head&&(this._head=h),u===this._tail&&(this._tail=f),f!==null&&(f.next=h),h!==null&&(h.prev=f)},l.prototype._appendNode=function(u){var f=this._tail;f!==null&&(f.next=u),u.prev=f,u.next=null,this._tail=u,this._head===null&&(this._head=u)},l.prototype.prealloc=function(u){for(var f=this._nodePool,h=0;h<u;h++)f.push({prev:null,next:null,key:null,value:null})},l.prototype.get=function(u){var f=this._map[u];return f!==void 0?(this._unlinkNode(f),this._appendNode(f),f.value):null},l.prototype.peekValue=function(u){var f=this._map[u];return f!==void 0?f.value:null},l.prototype.peek=function(){var u=this._head;return u===null?null:u.value},l.prototype.set=function(u,f){var h=this._map[u];if(h!==void 0)h=this._map[u],this._unlinkNode(h),h.value=f;else if(this.size>=this.capacity)h=this._head,this._unlinkNode(h),delete this._map[h.key],h.key=u,h.value=f,this._map[u]=h;else{var v=this._nodePool;v.length>0?((h=v.pop()).key=u,h.value=f):h={prev:null,next:null,key:u,value:f},this._map[u]=h,this.size++}this._appendNode(h)},l}();a.LRUMap=p},1296:function(F,a,p){var l,u=this&&this.__extends||(l=function(C,y){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,E){m.__proto__=E}||function(m,E){for(var L in E)Object.prototype.hasOwnProperty.call(E,L)&&(m[L]=E[L])},l(C,y)},function(C,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function m(){this.constructor=C}l(C,y),C.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}),f=this&&this.__decorate||function(C,y,m,E){var L,T=arguments.length,B=T<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,m):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(C,y,m,E);else for(var w=C.length-1;w>=0;w--)(L=C[w])&&(B=(T<3?L(B):T>3?L(y,m,B):L(y,m))||B);return T>3&&B&&Object.defineProperty(y,m,B),B},h=this&&this.__param||function(C,y){return function(m,E){y(m,E,C)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRenderer=void 0;var v=p(3787),b=p(8803),n=p(844),s=p(4725),d=p(2585),i=p(8460),t=p(4774),e=p(9631),r="xterm-dom-renderer-owner-",o="xterm-fg-",c="xterm-bg-",_="xterm-focus",g=1,S=function(C){function y(m,E,L,T,B,w,M,A,P,j){var U=C.call(this)||this;return U._colors=m,U._element=E,U._screenElement=L,U._viewportElement=T,U._linkifier=B,U._linkifier2=w,U._charSizeService=A,U._optionsService=P,U._bufferService=j,U._terminalClass=g++,U._rowElements=[],U._rowContainer=document.createElement("div"),U._rowContainer.classList.add("xterm-rows"),U._rowContainer.style.lineHeight="normal",U._rowContainer.setAttribute("aria-hidden","true"),U._refreshRowElements(U._bufferService.cols,U._bufferService.rows),U._selectionContainer=document.createElement("div"),U._selectionContainer.classList.add("xterm-selection"),U._selectionContainer.setAttribute("aria-hidden","true"),U.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},U._updateDimensions(),U._injectCss(),U._rowFactory=M.createInstance(v.DomRendererRowFactory,document,U._colors),U._element.classList.add(r+U._terminalClass),U._screenElement.appendChild(U._rowContainer),U._screenElement.appendChild(U._selectionContainer),U._linkifier.onShowLinkUnderline(function(z){return U._onLinkHover(z)}),U._linkifier.onHideLinkUnderline(function(z){return U._onLinkLeave(z)}),U._linkifier2.onShowLinkUnderline(function(z){return U._onLinkHover(z)}),U._linkifier2.onHideLinkUnderline(function(z){return U._onLinkLeave(z)}),U}return u(y,C),Object.defineProperty(y.prototype,"onRequestRedraw",{get:function(){return new i.EventEmitter().event},enumerable:!1,configurable:!0}),y.prototype.dispose=function(){this._element.classList.remove(r+this._terminalClass),(0,e.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),C.prototype.dispose.call(this)},y.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var m=0,E=this._rowElements;m<E.length;m++){var L=E[m];L.style.width=this.dimensions.canvasWidth+"px",L.style.height=this.dimensions.actualCellHeight+"px",L.style.lineHeight=this.dimensions.actualCellHeight+"px",L.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var T=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=T,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},y.prototype.setColors=function(m){this._colors=m,this._injectCss()},y.prototype._injectCss=function(){var m=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var E=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";E+=this._terminalSelector+" span:not(."+v.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+v.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+v.ITALIC_CLASS+" { font-style: italic;}",E+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",E+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",E+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+v.CURSOR_CLASS+"."+v.CURSOR_BLINK_CLASS+":not(."+v.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+v.CURSOR_CLASS+"."+v.CURSOR_BLINK_CLASS+"."+v.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+v.CURSOR_CLASS+"."+v.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",E+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function(L,T){E+=m._terminalSelector+" ."+o+T+" { color: "+L.css+"; }"+m._terminalSelector+" ."+c+T+" { background-color: "+L.css+"; }"}),E+=this._terminalSelector+" ."+o+b.INVERTED_DEFAULT_COLOR+" { color: "+t.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+c+b.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=E},y.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},y.prototype._refreshRowElements=function(m,E){for(var L=this._rowElements.length;L<=E;L++){var T=document.createElement("div");this._rowContainer.appendChild(T),this._rowElements.push(T)}for(;this._rowElements.length>E;)this._rowContainer.removeChild(this._rowElements.pop())},y.prototype.onResize=function(m,E){this._refreshRowElements(m,E),this._updateDimensions()},y.prototype.onCharSizeChanged=function(){this._updateDimensions()},y.prototype.onBlur=function(){this._rowContainer.classList.remove(_)},y.prototype.onFocus=function(){this._rowContainer.classList.add(_)},y.prototype.onSelectionChanged=function(m,E,L){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(m&&E){var T=m[1]-this._bufferService.buffer.ydisp,B=E[1]-this._bufferService.buffer.ydisp,w=Math.max(T,0),M=Math.min(B,this._bufferService.rows-1);if(!(w>=this._bufferService.rows||M<0)){var A=document.createDocumentFragment();if(L)A.appendChild(this._createSelectionElement(w,m[0],E[0],M-w+1));else{var P=T===w?m[0]:0,j=w===B?E[0]:this._bufferService.cols;A.appendChild(this._createSelectionElement(w,P,j));var U=M-w-1;if(A.appendChild(this._createSelectionElement(w+1,0,this._bufferService.cols,U)),w!==M){var z=B===M?E[0]:this._bufferService.cols;A.appendChild(this._createSelectionElement(M,0,z))}}this._selectionContainer.appendChild(A)}}},y.prototype._createSelectionElement=function(m,E,L,T){T===void 0&&(T=1);var B=document.createElement("div");return B.style.height=T*this.dimensions.actualCellHeight+"px",B.style.top=m*this.dimensions.actualCellHeight+"px",B.style.left=E*this.dimensions.actualCellWidth+"px",B.style.width=this.dimensions.actualCellWidth*(L-E)+"px",B},y.prototype.onCursorMove=function(){},y.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},y.prototype.clear=function(){for(var m=0,E=this._rowElements;m<E.length;m++)E[m].innerText=""},y.prototype.renderRows=function(m,E){for(var L=this._bufferService.buffer.ybase+this._bufferService.buffer.y,T=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),B=this._optionsService.rawOptions.cursorBlink,w=m;w<=E;w++){var M=this._rowElements[w];M.innerText="";var A=w+this._bufferService.buffer.ydisp,P=this._bufferService.buffer.lines.get(A),j=this._optionsService.rawOptions.cursorStyle;M.appendChild(this._rowFactory.createRow(P,A,A===L,j,T,B,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(y.prototype,"_terminalSelector",{get:function(){return"."+r+this._terminalClass},enumerable:!1,configurable:!0}),y.prototype._onLinkHover=function(m){this._setCellUnderline(m.x1,m.x2,m.y1,m.y2,m.cols,!0)},y.prototype._onLinkLeave=function(m){this._setCellUnderline(m.x1,m.x2,m.y1,m.y2,m.cols,!1)},y.prototype._setCellUnderline=function(m,E,L,T,B,w){for(;m!==E||L!==T;){var M=this._rowElements[L];if(!M)return;var A=M.children[m];A&&(A.style.textDecoration=w?"underline":"none"),++m>=B&&(m=0,L++)}},f([h(6,d.IInstantiationService),h(7,s.ICharSizeService),h(8,d.IOptionsService),h(9,d.IBufferService)],y)}(n.Disposable);a.DomRenderer=S},3787:function(F,a,p){var l=this&&this.__decorate||function(e,r,o,c){var _,g=arguments.length,S=g<3?r:c===null?c=Object.getOwnPropertyDescriptor(r,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(e,r,o,c);else for(var C=e.length-1;C>=0;C--)(_=e[C])&&(S=(g<3?_(S):g>3?_(r,o,S):_(r,o))||S);return g>3&&S&&Object.defineProperty(r,o,S),S},u=this&&this.__param||function(e,r){return function(o,c){r(o,c,e)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRendererRowFactory=a.CURSOR_STYLE_UNDERLINE_CLASS=a.CURSOR_STYLE_BAR_CLASS=a.CURSOR_STYLE_BLOCK_CLASS=a.CURSOR_BLINK_CLASS=a.CURSOR_CLASS=a.STRIKETHROUGH_CLASS=a.UNDERLINE_CLASS=a.ITALIC_CLASS=a.DIM_CLASS=a.BOLD_CLASS=void 0;var f=p(8803),h=p(643),v=p(511),b=p(2585),n=p(4774),s=p(4725),d=p(4269);a.BOLD_CLASS="xterm-bold",a.DIM_CLASS="xterm-dim",a.ITALIC_CLASS="xterm-italic",a.UNDERLINE_CLASS="xterm-underline",a.STRIKETHROUGH_CLASS="xterm-strikethrough",a.CURSOR_CLASS="xterm-cursor",a.CURSOR_BLINK_CLASS="xterm-cursor-blink",a.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",a.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",a.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var i=function(){function e(r,o,c,_,g){this._document=r,this._colors=o,this._characterJoinerService=c,this._optionsService=_,this._coreService=g,this._workCell=new v.CellData}return e.prototype.setColors=function(r){this._colors=r},e.prototype.createRow=function(r,o,c,_,g,S,C,y){for(var m=this._document.createDocumentFragment(),E=this._characterJoinerService.getJoinedCharacters(o),L=0,T=Math.min(r.length,y)-1;T>=0;T--)if(r.loadCell(T,this._workCell).getCode()!==h.NULL_CELL_CODE||c&&T===g){L=T+1;break}for(T=0;T<L;T++){r.loadCell(T,this._workCell);var B=this._workCell.getWidth();if(B!==0){var w=!1,M=T,A=this._workCell;if(E.length>0&&T===E[0][0]){w=!0;var P=E.shift();A=new d.JoinedCellData(this._workCell,r.translateToString(!0,P[0],P[1]),P[1]-P[0]),M=P[1]-1,B=A.getWidth()}var j=this._document.createElement("span");if(B>1&&(j.style.width=C*B+"px"),w&&(j.style.display="inline",g>=T&&g<=M&&(g=T)),!this._coreService.isCursorHidden&&c&&T===g)switch(j.classList.add(a.CURSOR_CLASS),S&&j.classList.add(a.CURSOR_BLINK_CLASS),_){case"bar":j.classList.add(a.CURSOR_STYLE_BAR_CLASS);break;case"underline":j.classList.add(a.CURSOR_STYLE_UNDERLINE_CLASS);break;default:j.classList.add(a.CURSOR_STYLE_BLOCK_CLASS)}A.isBold()&&j.classList.add(a.BOLD_CLASS),A.isItalic()&&j.classList.add(a.ITALIC_CLASS),A.isDim()&&j.classList.add(a.DIM_CLASS),A.isUnderline()&&j.classList.add(a.UNDERLINE_CLASS),A.isInvisible()?j.textContent=h.WHITESPACE_CELL_CHAR:j.textContent=A.getChars()||h.WHITESPACE_CELL_CHAR,A.isStrikethrough()&&j.classList.add(a.STRIKETHROUGH_CLASS);var U=A.getFgColor(),z=A.getFgColorMode(),K=A.getBgColor(),V=A.getBgColorMode(),k=!!A.isInverse();if(k){var R=U;U=K,K=R;var x=z;z=V,V=x}switch(z){case 16777216:case 33554432:A.isBold()&&U<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(U+=8),this._applyMinimumContrast(j,this._colors.background,this._colors.ansi[U])||j.classList.add("xterm-fg-"+U);break;case 50331648:var W=n.rgba.toColor(U>>16&255,U>>8&255,255&U);this._applyMinimumContrast(j,this._colors.background,W)||this._addStyle(j,"color:#"+t(U.toString(16),"0",6));break;default:this._applyMinimumContrast(j,this._colors.background,this._colors.foreground)||k&&j.classList.add("xterm-fg-"+f.INVERTED_DEFAULT_COLOR)}switch(V){case 16777216:case 33554432:j.classList.add("xterm-bg-"+K);break;case 50331648:this._addStyle(j,"background-color:#"+t(K.toString(16),"0",6));break;default:k&&j.classList.add("xterm-bg-"+f.INVERTED_DEFAULT_COLOR)}m.appendChild(j),T=M}}return m},e.prototype._applyMinimumContrast=function(r,o,c){if(this._optionsService.rawOptions.minimumContrastRatio===1)return!1;var _=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return _===void 0&&(_=n.color.ensureContrastRatio(o,c,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,_!=null?_:null)),!!_&&(this._addStyle(r,"color:"+_.css),!0)},e.prototype._addStyle=function(r,o){r.setAttribute("style",""+(r.getAttribute("style")||"")+o+";")},l([u(2,s.ICharacterJoinerService),u(3,b.IOptionsService),u(4,b.ICoreService)],e)}();function t(e,r,o){for(;e.length<o;)e=r+e;return e}a.DomRendererRowFactory=i},456:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionModel=void 0;var p=function(){function l(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}return l.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(l.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),l.prototype.areSelectionValuesReversed=function(){var u=this.selectionStart,f=this.selectionEnd;return!(!u||!f)&&(u[1]>f[1]||u[1]===f[1]&&u[0]>f[0])},l.prototype.onTrim=function(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},l}();a.SelectionModel=p},428:function(F,a,p){var l=this&&this.__decorate||function(n,s,d,i){var t,e=arguments.length,r=e<3?s:i===null?i=Object.getOwnPropertyDescriptor(s,d):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,s,d,i);else for(var o=n.length-1;o>=0;o--)(t=n[o])&&(r=(e<3?t(r):e>3?t(s,d,r):t(s,d))||r);return e>3&&r&&Object.defineProperty(s,d,r),r},u=this&&this.__param||function(n,s){return function(d,i){s(d,i,n)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharSizeService=void 0;var f=p(2585),h=p(8460),v=function(){function n(s,d,i){this._optionsService=i,this.width=0,this.height=0,this._onCharSizeChange=new h.EventEmitter,this._measureStrategy=new b(s,d,this._optionsService)}return Object.defineProperty(n.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),n.prototype.measure=function(){var s=this._measureStrategy.measure();s.width===this.width&&s.height===this.height||(this.width=s.width,this.height=s.height,this._onCharSizeChange.fire())},l([u(2,f.IOptionsService)],n)}();a.CharSizeService=v;var b=function(){function n(s,d,i){this._document=s,this._parentElement=d,this._optionsService=i,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return n.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var s=this._measureElement.getBoundingClientRect();return s.width!==0&&s.height!==0&&(this._result.width=s.width,this._result.height=Math.ceil(s.height)),this._result},n}()},4269:function(F,a,p){var l,u=this&&this.__extends||(l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])},l(t,e)},function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}l(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}),f=this&&this.__decorate||function(t,e,r,o){var c,_=arguments.length,g=_<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,r):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(t,e,r,o);else for(var S=t.length-1;S>=0;S--)(c=t[S])&&(g=(_<3?c(g):_>3?c(e,r,g):c(e,r))||g);return _>3&&g&&Object.defineProperty(e,r,g),g},h=this&&this.__param||function(t,e){return function(r,o){e(r,o,t)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharacterJoinerService=a.JoinedCellData=void 0;var v=p(3734),b=p(643),n=p(511),s=p(2585),d=function(t){function e(r,o,c){var _=t.call(this)||this;return _.content=0,_.combinedData="",_.fg=r.fg,_.bg=r.bg,_.combinedData=o,_._width=c,_}return u(e,t),e.prototype.isCombined=function(){return 2097152},e.prototype.getWidth=function(){return this._width},e.prototype.getChars=function(){return this.combinedData},e.prototype.getCode=function(){return 2097151},e.prototype.setFromCharData=function(r){throw new Error("not implemented")},e.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},e}(v.AttributeData);a.JoinedCellData=d;var i=function(){function t(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new n.CellData}return t.prototype.register=function(e){var r={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(r),r.id},t.prototype.deregister=function(e){for(var r=0;r<this._characterJoiners.length;r++)if(this._characterJoiners[r].id===e)return this._characterJoiners.splice(r,1),!0;return!1},t.prototype.getJoinedCharacters=function(e){if(this._characterJoiners.length===0)return[];var r=this._bufferService.buffer.lines.get(e);if(!r||r.length===0)return[];for(var o=[],c=r.translateToString(!0),_=0,g=0,S=0,C=r.getFg(0),y=r.getBg(0),m=0;m<r.getTrimmedLength();m++)if(r.loadCell(m,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==C||this._workCell.bg!==y){if(m-_>1)for(var E=this._getJoinedRanges(c,S,g,r,_),L=0;L<E.length;L++)o.push(E[L]);_=m,S=g,C=this._workCell.fg,y=this._workCell.bg}g+=this._workCell.getChars().length||b.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-_>1)for(E=this._getJoinedRanges(c,S,g,r,_),L=0;L<E.length;L++)o.push(E[L]);return o},t.prototype._getJoinedRanges=function(e,r,o,c,_){var g=e.substring(r,o),S=[];try{S=this._characterJoiners[0].handler(g)}catch(E){console.error(E)}for(var C=1;C<this._characterJoiners.length;C++)try{for(var y=this._characterJoiners[C].handler(g),m=0;m<y.length;m++)t._mergeRanges(S,y[m])}catch(E){console.error(E)}return this._stringRangesToCellRanges(S,c,_),S},t.prototype._stringRangesToCellRanges=function(e,r,o){var c=0,_=!1,g=0,S=e[c];if(S){for(var C=o;C<this._bufferService.cols;C++){var y=r.getWidth(C),m=r.getString(C).length||b.WHITESPACE_CELL_CHAR.length;if(y!==0){if(!_&&S[0]<=g&&(S[0]=C,_=!0),S[1]<=g){if(S[1]=C,!(S=e[++c]))break;S[0]<=g?(S[0]=C,_=!0):_=!1}g+=m}}S&&(S[1]=this._bufferService.cols)}},t._mergeRanges=function(e,r){for(var o=!1,c=0;c<e.length;c++){var _=e[c];if(o){if(r[1]<=_[0])return e[c-1][1]=r[1],e;if(r[1]<=_[1])return e[c-1][1]=Math.max(r[1],_[1]),e.splice(c,1),e;e.splice(c,1),c--}else{if(r[1]<=_[0])return e.splice(c,0,r),e;if(r[1]<=_[1])return _[0]=Math.min(r[0],_[0]),e;r[0]<_[1]&&(_[0]=Math.min(r[0],_[0]),o=!0)}}return o?e[e.length-1][1]=r[1]:e.push(r),e},t=f([h(0,s.IBufferService)],t)}();a.CharacterJoinerService=i},5114:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreBrowserService=void 0;var p=function(){function l(u){this._textarea=u}return Object.defineProperty(l.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),l}();a.CoreBrowserService=p},8934:function(F,a,p){var l=this&&this.__decorate||function(b,n,s,d){var i,t=arguments.length,e=t<3?n:d===null?d=Object.getOwnPropertyDescriptor(n,s):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(b,n,s,d);else for(var r=b.length-1;r>=0;r--)(i=b[r])&&(e=(t<3?i(e):t>3?i(n,s,e):i(n,s))||e);return t>3&&e&&Object.defineProperty(n,s,e),e},u=this&&this.__param||function(b,n){return function(s,d){n(s,d,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.MouseService=void 0;var f=p(4725),h=p(9806),v=function(){function b(n,s){this._renderService=n,this._charSizeService=s}return b.prototype.getCoords=function(n,s,d,i,t){return(0,h.getCoords)(n,s,d,i,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,t)},b.prototype.getRawByteCoords=function(n,s,d,i){var t=this.getCoords(n,s,d,i);return(0,h.getRawByteCoords)(t)},l([u(0,f.IRenderService),u(1,f.ICharSizeService)],b)}();a.MouseService=v},3230:function(F,a,p){var l,u=this&&this.__extends||(l=function(r,o){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,_){c.__proto__=_}||function(c,_){for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(c[g]=_[g])},l(r,o)},function(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function c(){this.constructor=r}l(r,o),r.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}),f=this&&this.__decorate||function(r,o,c,_){var g,S=arguments.length,C=S<3?o:_===null?_=Object.getOwnPropertyDescriptor(o,c):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(r,o,c,_);else for(var y=r.length-1;y>=0;y--)(g=r[y])&&(C=(S<3?g(C):S>3?g(o,c,C):g(o,c))||C);return S>3&&C&&Object.defineProperty(o,c,C),C},h=this&&this.__param||function(r,o){return function(c,_){o(c,_,r)}};Object.defineProperty(a,"__esModule",{value:!0}),a.RenderService=void 0;var v=p(6193),b=p(8460),n=p(844),s=p(5596),d=p(3656),i=p(2585),t=p(4725),e=function(r){function o(c,_,g,S,C,y){var m=r.call(this)||this;if(m._renderer=c,m._rowCount=_,m._charSizeService=C,m._isPaused=!1,m._needsFullRefresh=!1,m._isNextRenderRedrawOnly=!0,m._needsSelectionRefresh=!1,m._canvasWidth=0,m._canvasHeight=0,m._selectionState={start:void 0,end:void 0,columnSelectMode:!1},m._onDimensionsChange=new b.EventEmitter,m._onRender=new b.EventEmitter,m._onRefreshRequest=new b.EventEmitter,m.register({dispose:function(){return m._renderer.dispose()}}),m._renderDebouncer=new v.RenderDebouncer(function(L,T){return m._renderRows(L,T)}),m.register(m._renderDebouncer),m._screenDprMonitor=new s.ScreenDprMonitor,m._screenDprMonitor.setListener(function(){return m.onDevicePixelRatioChange()}),m.register(m._screenDprMonitor),m.register(y.onResize(function(L){return m._fullRefresh()})),m.register(S.onOptionChange(function(){return m._renderer.onOptionsChanged()})),m.register(m._charSizeService.onCharSizeChange(function(){return m.onCharSizeChanged()})),m._renderer.onRequestRedraw(function(L){return m.refreshRows(L.start,L.end,!0)}),m.register((0,d.addDisposableDomListener)(window,"resize",function(){return m.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var E=new IntersectionObserver(function(L){return m._onIntersectionChange(L[L.length-1])},{threshold:0});E.observe(g),m.register({dispose:function(){return E.disconnect()}})}return m}return u(o,r),Object.defineProperty(o.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),o.prototype._onIntersectionChange=function(c){this._isPaused=c.isIntersecting===void 0?c.intersectionRatio===0:!c.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},o.prototype.refreshRows=function(c,_,g){g===void 0&&(g=!1),this._isPaused?this._needsFullRefresh=!0:(g||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(c,_,this._rowCount))},o.prototype._renderRows=function(c,_){this._renderer.renderRows(c,_),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:c,end:_}),this._isNextRenderRedrawOnly=!0},o.prototype.resize=function(c,_){this._rowCount=_,this._fireOnCanvasResize()},o.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},o.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},o.prototype.dispose=function(){r.prototype.dispose.call(this)},o.prototype.setRenderer=function(c){var _=this;this._renderer.dispose(),this._renderer=c,this._renderer.onRequestRedraw(function(g){return _.refreshRows(g.start,g.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},o.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},o.prototype.clearTextureAtlas=function(){var c,_;(_=(c=this._renderer)===null||c===void 0?void 0:c.clearTextureAtlas)===null||_===void 0||_.call(c),this._fullRefresh()},o.prototype.setColors=function(c){this._renderer.setColors(c),this._fullRefresh()},o.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},o.prototype.onResize=function(c,_){this._renderer.onResize(c,_),this._fullRefresh()},o.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},o.prototype.onBlur=function(){this._renderer.onBlur()},o.prototype.onFocus=function(){this._renderer.onFocus()},o.prototype.onSelectionChanged=function(c,_,g){this._selectionState.start=c,this._selectionState.end=_,this._selectionState.columnSelectMode=g,this._renderer.onSelectionChanged(c,_,g)},o.prototype.onCursorMove=function(){this._renderer.onCursorMove()},o.prototype.clear=function(){this._renderer.clear()},f([h(3,i.IOptionsService),h(4,t.ICharSizeService),h(5,i.IBufferService)],o)}(n.Disposable);a.RenderService=e},9312:function(F,a,p){var l,u=this&&this.__extends||(l=function(S,C){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var E in m)Object.prototype.hasOwnProperty.call(m,E)&&(y[E]=m[E])},l(S,C)},function(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=S}l(S,C),S.prototype=C===null?Object.create(C):(y.prototype=C.prototype,new y)}),f=this&&this.__decorate||function(S,C,y,m){var E,L=arguments.length,T=L<3?C:m===null?m=Object.getOwnPropertyDescriptor(C,y):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(S,C,y,m);else for(var B=S.length-1;B>=0;B--)(E=S[B])&&(T=(L<3?E(T):L>3?E(C,y,T):E(C,y))||T);return L>3&&T&&Object.defineProperty(C,y,T),T},h=this&&this.__param||function(S,C){return function(y,m){C(y,m,S)}};Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionService=void 0;var v=p(6114),b=p(456),n=p(511),s=p(8460),d=p(4725),i=p(2585),t=p(9806),e=p(9504),r=p(844),o=p(4841),c=String.fromCharCode(160),_=new RegExp(c,"g"),g=function(S){function C(y,m,E,L,T,B,w,M){var A=S.call(this)||this;return A._element=y,A._screenElement=m,A._linkifier=E,A._bufferService=L,A._coreService=T,A._mouseService=B,A._optionsService=w,A._renderService=M,A._dragScrollAmount=0,A._enabled=!0,A._workCell=new n.CellData,A._mouseDownTimeStamp=0,A._oldHasSelection=!1,A._oldSelectionStart=void 0,A._oldSelectionEnd=void 0,A._onLinuxMouseSelection=A.register(new s.EventEmitter),A._onRedrawRequest=A.register(new s.EventEmitter),A._onSelectionChange=A.register(new s.EventEmitter),A._onRequestScrollLines=A.register(new s.EventEmitter),A._mouseMoveListener=function(P){return A._onMouseMove(P)},A._mouseUpListener=function(P){return A._onMouseUp(P)},A._coreService.onUserInput(function(){A.hasSelection&&A.clearSelection()}),A._trimListener=A._bufferService.buffer.lines.onTrim(function(P){return A._onTrim(P)}),A.register(A._bufferService.buffers.onBufferActivate(function(P){return A._onBufferActivate(P)})),A.enable(),A._model=new b.SelectionModel(A._bufferService),A._activeSelectionMode=0,A}return u(C,S),Object.defineProperty(C.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),C.prototype.dispose=function(){this._removeMouseDownListeners()},C.prototype.reset=function(){this.clearSelection()},C.prototype.disable=function(){this.clearSelection(),this._enabled=!1},C.prototype.enable=function(){this._enabled=!0},Object.defineProperty(C.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"hasSelection",{get:function(){var y=this._model.finalSelectionStart,m=this._model.finalSelectionEnd;return!(!y||!m||y[0]===m[0]&&y[1]===m[1])},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"selectionText",{get:function(){var y=this._model.finalSelectionStart,m=this._model.finalSelectionEnd;if(!y||!m)return"";var E=this._bufferService.buffer,L=[];if(this._activeSelectionMode===3){if(y[0]===m[0])return"";for(var T=y[1];T<=m[1];T++){var B=E.translateBufferLineToString(T,!0,y[0],m[0]);L.push(B)}}else{var w=y[1]===m[1]?m[0]:void 0;for(L.push(E.translateBufferLineToString(y[1],!0,y[0],w)),T=y[1]+1;T<=m[1]-1;T++){var M=E.lines.get(T);B=E.translateBufferLineToString(T,!0),(M==null?void 0:M.isWrapped)?L[L.length-1]+=B:L.push(B)}y[1]!==m[1]&&(M=E.lines.get(m[1]),B=E.translateBufferLineToString(m[1],!0,0,m[0]),M&&M.isWrapped?L[L.length-1]+=B:L.push(B))}return L.map(function(A){return A.replace(_," ")}).join(v.isWindows?`\r
`:`
`)},enumerable:!1,configurable:!0}),C.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},C.prototype.refresh=function(y){var m=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return m._refresh()})),v.isLinux&&y&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},C.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})},C.prototype._isClickInSelection=function(y){var m=this._getMouseBufferCoords(y),E=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!!(E&&L&&m)&&this._areCoordsInSelection(m,E,L)},C.prototype._areCoordsInSelection=function(y,m,E){return y[1]>m[1]&&y[1]<E[1]||m[1]===E[1]&&y[1]===m[1]&&y[0]>=m[0]&&y[0]<E[0]||m[1]<E[1]&&y[1]===E[1]&&y[0]<E[0]||m[1]<E[1]&&y[1]===m[1]&&y[0]>=m[0]},C.prototype._selectWordAtCursor=function(y,m){var E,L,T=(L=(E=this._linkifier.currentLink)===null||E===void 0?void 0:E.link)===null||L===void 0?void 0:L.range;if(T)return this._model.selectionStart=[T.start.x-1,T.start.y-1],this._model.selectionStartLength=(0,o.getRangeLength)(T,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var B=this._getMouseBufferCoords(y);return!!B&&(this._selectWordAt(B,m),this._model.selectionEnd=void 0,!0)},C.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},C.prototype.selectLines=function(y,m){this._model.clearSelection(),y=Math.max(y,0),m=Math.min(m,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,y],this._model.selectionEnd=[this._bufferService.cols,m],this.refresh(),this._onSelectionChange.fire()},C.prototype._onTrim=function(y){this._model.onTrim(y)&&this.refresh()},C.prototype._getMouseBufferCoords=function(y){var m=this._mouseService.getCoords(y,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(m)return m[0]--,m[1]--,m[1]+=this._bufferService.buffer.ydisp,m},C.prototype._getMouseEventScrollAmount=function(y){var m=(0,t.getCoordsRelativeToElement)(y,this._screenElement)[1],E=this._renderService.dimensions.canvasHeight;return m>=0&&m<=E?0:(m>E&&(m-=E),m=Math.min(Math.max(m,-50),50),(m/=50)/Math.abs(m)+Math.round(14*m))},C.prototype.shouldForceSelection=function(y){return v.isMac?y.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:y.shiftKey},C.prototype.onMouseDown=function(y){if(this._mouseDownTimeStamp=y.timeStamp,(y.button!==2||!this.hasSelection)&&y.button===0){if(!this._enabled){if(!this.shouldForceSelection(y))return;y.stopPropagation()}y.preventDefault(),this._dragScrollAmount=0,this._enabled&&y.shiftKey?this._onIncrementalClick(y):y.detail===1?this._onSingleClick(y):y.detail===2?this._onDoubleClick(y):y.detail===3&&this._onTripleClick(y),this._addMouseDownListeners(),this.refresh(!0)}},C.prototype._addMouseDownListeners=function(){var y=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return y._dragScroll()},50)},C.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},C.prototype._onIncrementalClick=function(y){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(y))},C.prototype._onSingleClick=function(y){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(y)?3:0,this._model.selectionStart=this._getMouseBufferCoords(y),this._model.selectionStart){this._model.selectionEnd=void 0;var m=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);m&&m.length!==this._model.selectionStart[0]&&m.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}},C.prototype._onDoubleClick=function(y){this._selectWordAtCursor(y,!0)&&(this._activeSelectionMode=1)},C.prototype._onTripleClick=function(y){var m=this._getMouseBufferCoords(y);m&&(this._activeSelectionMode=2,this._selectLineAt(m[1]))},C.prototype.shouldColumnSelect=function(y){return y.altKey&&!(v.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},C.prototype._onMouseMove=function(y){if(y.stopImmediatePropagation(),this._model.selectionStart){var m=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(y),this._model.selectionEnd){this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(y),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var E=this._bufferService.buffer;if(this._model.selectionEnd[1]<E.lines.length){var L=E.lines.get(this._model.selectionEnd[1]);L&&L.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}m&&m[0]===this._model.selectionEnd[0]&&m[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},C.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var y=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(y.ydisp+this._bufferService.rows,y.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=y.ydisp),this.refresh()}},C.prototype._onMouseUp=function(y){var m=y.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&m<500&&y.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var E=this._mouseService.getCoords(y,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(E&&E[0]!==void 0&&E[1]!==void 0){var L=(0,e.moveToCellSequence)(E[0]-1,E[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(L,!0)}}}else this._fireEventIfSelectionChanged()},C.prototype._fireEventIfSelectionChanged=function(){var y=this._model.finalSelectionStart,m=this._model.finalSelectionEnd,E=!(!y||!m||y[0]===m[0]&&y[1]===m[1]);E?y&&m&&(this._oldSelectionStart&&this._oldSelectionEnd&&y[0]===this._oldSelectionStart[0]&&y[1]===this._oldSelectionStart[1]&&m[0]===this._oldSelectionEnd[0]&&m[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(y,m,E)):this._oldHasSelection&&this._fireOnSelectionChange(y,m,E)},C.prototype._fireOnSelectionChange=function(y,m,E){this._oldSelectionStart=y,this._oldSelectionEnd=m,this._oldHasSelection=E,this._onSelectionChange.fire()},C.prototype._onBufferActivate=function(y){var m=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=y.activeBuffer.lines.onTrim(function(E){return m._onTrim(E)})},C.prototype._convertViewportColToCharacterIndex=function(y,m){for(var E=m[0],L=0;m[0]>=L;L++){var T=y.loadCell(L,this._workCell).getChars().length;this._workCell.getWidth()===0?E--:T>1&&m[0]!==L&&(E+=T-1)}return E},C.prototype.setSelection=function(y,m,E){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[y,m],this._model.selectionStartLength=E,this.refresh()},C.prototype.rightClickSelect=function(y){this._isClickInSelection(y)||(this._selectWordAtCursor(y,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},C.prototype._getWordAt=function(y,m,E,L){if(E===void 0&&(E=!0),L===void 0&&(L=!0),!(y[0]>=this._bufferService.cols)){var T=this._bufferService.buffer,B=T.lines.get(y[1]);if(B){var w=T.translateBufferLineToString(y[1],!1),M=this._convertViewportColToCharacterIndex(B,y),A=M,P=y[0]-M,j=0,U=0,z=0,K=0;if(w.charAt(M)===" "){for(;M>0&&w.charAt(M-1)===" ";)M--;for(;A<w.length&&w.charAt(A+1)===" ";)A++}else{var V=y[0],k=y[0];B.getWidth(V)===0&&(j++,V--),B.getWidth(k)===2&&(U++,k++);var R=B.getString(k).length;for(R>1&&(K+=R-1,A+=R-1);V>0&&M>0&&!this._isCharWordSeparator(B.loadCell(V-1,this._workCell));){B.loadCell(V-1,this._workCell);var x=this._workCell.getChars().length;this._workCell.getWidth()===0?(j++,V--):x>1&&(z+=x-1,M-=x-1),M--,V--}for(;k<B.length&&A+1<w.length&&!this._isCharWordSeparator(B.loadCell(k+1,this._workCell));){B.loadCell(k+1,this._workCell);var W=this._workCell.getChars().length;this._workCell.getWidth()===2?(U++,k++):W>1&&(K+=W-1,A+=W-1),A++,k++}}A++;var O=M+P-j+z,q=Math.min(this._bufferService.cols,A-M+j+U-z-K);if(m||w.slice(M,A).trim()!==""){if(E&&O===0&&B.getCodePoint(0)!==32){var Y=T.lines.get(y[1]-1);if(Y&&B.isWrapped&&Y.getCodePoint(this._bufferService.cols-1)!==32){var J=this._getWordAt([this._bufferService.cols-1,y[1]-1],!1,!0,!1);if(J){var Q=this._bufferService.cols-J.start;O-=Q,q+=Q}}}if(L&&O+q===this._bufferService.cols&&B.getCodePoint(this._bufferService.cols-1)!==32){var re=T.lines.get(y[1]+1);if((re==null?void 0:re.isWrapped)&&re.getCodePoint(0)!==32){var N=this._getWordAt([0,y[1]+1],!1,!1,!0);N&&(q+=N.length)}}return{start:O,length:q}}}}},C.prototype._selectWordAt=function(y,m){var E=this._getWordAt(y,m);if(E){for(;E.start<0;)E.start+=this._bufferService.cols,y[1]--;this._model.selectionStart=[E.start,y[1]],this._model.selectionStartLength=E.length}},C.prototype._selectToWordAt=function(y){var m=this._getWordAt(y,!0);if(m){for(var E=y[1];m.start<0;)m.start+=this._bufferService.cols,E--;if(!this._model.areSelectionValuesReversed())for(;m.start+m.length>this._bufferService.cols;)m.length-=this._bufferService.cols,E++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?m.start:m.start+m.length,E]}},C.prototype._isCharWordSeparator=function(y){return y.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(y.getChars())>=0},C.prototype._selectLineAt=function(y){var m=this._bufferService.buffer.getWrappedRangeForLine(y);this._model.selectionStart=[0,m.first],this._model.selectionEnd=[this._bufferService.cols,m.last],this._model.selectionStartLength=0},f([h(3,i.IBufferService),h(4,i.ICoreService),h(5,d.IMouseService),h(6,i.IOptionsService),h(7,d.IRenderService)],C)}(r.Disposable);a.SelectionService=g},4725:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ICharacterJoinerService=a.ISoundService=a.ISelectionService=a.IRenderService=a.IMouseService=a.ICoreBrowserService=a.ICharSizeService=void 0;var l=p(8343);a.ICharSizeService=(0,l.createDecorator)("CharSizeService"),a.ICoreBrowserService=(0,l.createDecorator)("CoreBrowserService"),a.IMouseService=(0,l.createDecorator)("MouseService"),a.IRenderService=(0,l.createDecorator)("RenderService"),a.ISelectionService=(0,l.createDecorator)("SelectionService"),a.ISoundService=(0,l.createDecorator)("SoundService"),a.ICharacterJoinerService=(0,l.createDecorator)("CharacterJoinerService")},357:function(F,a,p){var l=this&&this.__decorate||function(v,b,n,s){var d,i=arguments.length,t=i<3?b:s===null?s=Object.getOwnPropertyDescriptor(b,n):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(v,b,n,s);else for(var e=v.length-1;e>=0;e--)(d=v[e])&&(t=(i<3?d(t):i>3?d(b,n,t):d(b,n))||t);return i>3&&t&&Object.defineProperty(b,n,t),t},u=this&&this.__param||function(v,b){return function(n,s){b(n,s,v)}};Object.defineProperty(a,"__esModule",{value:!0}),a.SoundService=void 0;var f=p(2585),h=function(){function v(b){this._optionsService=b}return Object.defineProperty(v,"audioContext",{get:function(){if(!v._audioContext){var b=window.AudioContext||window.webkitAudioContext;if(!b)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;v._audioContext=new b}return v._audioContext},enumerable:!1,configurable:!0}),v.prototype.playBellSound=function(){var b=v.audioContext;if(b){var n=b.createBufferSource();b.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),function(s){n.buffer=s,n.connect(b.destination),n.start(0)})}},v.prototype._base64ToArrayBuffer=function(b){for(var n=window.atob(b),s=n.length,d=new Uint8Array(s),i=0;i<s;i++)d[i]=n.charCodeAt(i);return d.buffer},v.prototype._removeMimeType=function(b){return b.split(",")[1]},v=l([u(0,f.IOptionsService)],v)}();a.SoundService=h},6349:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CircularList=void 0;var l=p(8460),u=function(){function f(h){this._maxLength=h,this.onDeleteEmitter=new l.EventEmitter,this.onInsertEmitter=new l.EventEmitter,this.onTrimEmitter=new l.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(f.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"maxLength",{get:function(){return this._maxLength},set:function(h){if(this._maxLength!==h){for(var v=new Array(h),b=0;b<Math.min(h,this.length);b++)v[b]=this._array[this._getCyclicIndex(b)];this._array=v,this._maxLength=h,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"length",{get:function(){return this._length},set:function(h){if(h>this._length)for(var v=this._length;v<h;v++)this._array[v]=void 0;this._length=h},enumerable:!1,configurable:!0}),f.prototype.get=function(h){return this._array[this._getCyclicIndex(h)]},f.prototype.set=function(h,v){this._array[this._getCyclicIndex(h)]=v},f.prototype.push=function(h){this._array[this._getCyclicIndex(this._length)]=h,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},f.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(f.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),f.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},f.prototype.splice=function(h,v){for(var b=[],n=2;n<arguments.length;n++)b[n-2]=arguments[n];if(v){for(var s=h;s<this._length-v;s++)this._array[this._getCyclicIndex(s)]=this._array[this._getCyclicIndex(s+v)];this._length-=v,this.onDeleteEmitter.fire({index:h,amount:v})}for(s=this._length-1;s>=h;s--)this._array[this._getCyclicIndex(s+b.length)]=this._array[this._getCyclicIndex(s)];for(s=0;s<b.length;s++)this._array[this._getCyclicIndex(h+s)]=b[s];if(b.length&&this.onInsertEmitter.fire({index:h,amount:b.length}),this._length+b.length>this._maxLength){var d=this._length+b.length-this._maxLength;this._startIndex+=d,this._length=this._maxLength,this.onTrimEmitter.fire(d)}else this._length+=b.length},f.prototype.trimStart=function(h){h>this._length&&(h=this._length),this._startIndex+=h,this._length-=h,this.onTrimEmitter.fire(h)},f.prototype.shiftElements=function(h,v,b){if(!(v<=0)){if(h<0||h>=this._length)throw new Error("start argument out of range");if(h+b<0)throw new Error("Cannot shift elements in list beyond index 0");if(b>0){for(var n=v-1;n>=0;n--)this.set(h+n+b,this.get(h+n));var s=h+v+b-this._length;if(s>0)for(this._length+=s;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(n=0;n<v;n++)this.set(h+n+b,this.get(h+n))}},f.prototype._getCyclicIndex=function(h){return(this._startIndex+h)%this._maxLength},f}();a.CircularList=u},1439:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.clone=void 0,a.clone=function p(l,u){if(u===void 0&&(u=5),typeof l!="object")return l;var f=Array.isArray(l)?[]:{};for(var h in l)f[h]=u<=1?l[h]:l[h]&&p(l[h],u-1);return f}},8969:function(F,a,p){var l,u=this&&this.__extends||(l=function(y,m){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,L){E.__proto__=L}||function(E,L){for(var T in L)Object.prototype.hasOwnProperty.call(L,T)&&(E[T]=L[T])},l(y,m)},function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function E(){this.constructor=y}l(y,m),y.prototype=m===null?Object.create(m):(E.prototype=m.prototype,new E)});Object.defineProperty(a,"__esModule",{value:!0}),a.CoreTerminal=void 0;var f=p(844),h=p(2585),v=p(4348),b=p(7866),n=p(744),s=p(7302),d=p(6975),i=p(8460),t=p(1753),e=p(3730),r=p(1480),o=p(7994),c=p(9282),_=p(5435),g=p(5981),S=!1,C=function(y){function m(E){var L=y.call(this)||this;return L._onBinary=new i.EventEmitter,L._onData=new i.EventEmitter,L._onLineFeed=new i.EventEmitter,L._onResize=new i.EventEmitter,L._onScroll=new i.EventEmitter,L._instantiationService=new v.InstantiationService,L.optionsService=new s.OptionsService(E),L._instantiationService.setService(h.IOptionsService,L.optionsService),L._bufferService=L.register(L._instantiationService.createInstance(n.BufferService)),L._instantiationService.setService(h.IBufferService,L._bufferService),L._logService=L._instantiationService.createInstance(b.LogService),L._instantiationService.setService(h.ILogService,L._logService),L.coreService=L.register(L._instantiationService.createInstance(d.CoreService,function(){return L.scrollToBottom()})),L._instantiationService.setService(h.ICoreService,L.coreService),L.coreMouseService=L._instantiationService.createInstance(t.CoreMouseService),L._instantiationService.setService(h.ICoreMouseService,L.coreMouseService),L._dirtyRowService=L._instantiationService.createInstance(e.DirtyRowService),L._instantiationService.setService(h.IDirtyRowService,L._dirtyRowService),L.unicodeService=L._instantiationService.createInstance(r.UnicodeService),L._instantiationService.setService(h.IUnicodeService,L.unicodeService),L._charsetService=L._instantiationService.createInstance(o.CharsetService),L._instantiationService.setService(h.ICharsetService,L._charsetService),L._inputHandler=new _.InputHandler(L._bufferService,L._charsetService,L.coreService,L._dirtyRowService,L._logService,L.optionsService,L.coreMouseService,L.unicodeService),L.register((0,i.forwardEvent)(L._inputHandler.onLineFeed,L._onLineFeed)),L.register(L._inputHandler),L.register((0,i.forwardEvent)(L._bufferService.onResize,L._onResize)),L.register((0,i.forwardEvent)(L.coreService.onData,L._onData)),L.register((0,i.forwardEvent)(L.coreService.onBinary,L._onBinary)),L.register(L.optionsService.onOptionChange(function(T){return L._updateOptions(T)})),L.register(L._bufferService.onScroll(function(T){L._onScroll.fire({position:L._bufferService.buffer.ydisp,source:0}),L._dirtyRowService.markRangeDirty(L._bufferService.buffer.scrollTop,L._bufferService.buffer.scrollBottom)})),L.register(L._inputHandler.onScroll(function(T){L._onScroll.fire({position:L._bufferService.buffer.ydisp,source:0}),L._dirtyRowService.markRangeDirty(L._bufferService.buffer.scrollTop,L._bufferService.buffer.scrollBottom)})),L._writeBuffer=new g.WriteBuffer(function(T,B){return L._inputHandler.parse(T,B)}),L}return u(m,y),Object.defineProperty(m.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onScroll",{get:function(){var E=this;return this._onScrollApi||(this._onScrollApi=new i.EventEmitter,this.register(this._onScroll.event(function(L){var T;(T=E._onScrollApi)===null||T===void 0||T.fire(L.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"options",{get:function(){return this.optionsService.options},set:function(E){for(var L in E)this.optionsService.options[L]=E[L]},enumerable:!1,configurable:!0}),m.prototype.dispose=function(){var E;this._isDisposed||(y.prototype.dispose.call(this),(E=this._windowsMode)===null||E===void 0||E.dispose(),this._windowsMode=void 0)},m.prototype.write=function(E,L){this._writeBuffer.write(E,L)},m.prototype.writeSync=function(E,L){this._logService.logLevel<=h.LogLevelEnum.WARN&&!S&&(this._logService.warn("writeSync is unreliable and will be removed soon."),S=!0),this._writeBuffer.writeSync(E,L)},m.prototype.resize=function(E,L){isNaN(E)||isNaN(L)||(E=Math.max(E,n.MINIMUM_COLS),L=Math.max(L,n.MINIMUM_ROWS),this._bufferService.resize(E,L))},m.prototype.scroll=function(E,L){L===void 0&&(L=!1),this._bufferService.scroll(E,L)},m.prototype.scrollLines=function(E,L,T){this._bufferService.scrollLines(E,L,T)},m.prototype.scrollPages=function(E){this._bufferService.scrollPages(E)},m.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},m.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},m.prototype.scrollToLine=function(E){this._bufferService.scrollToLine(E)},m.prototype.registerEscHandler=function(E,L){return this._inputHandler.registerEscHandler(E,L)},m.prototype.registerDcsHandler=function(E,L){return this._inputHandler.registerDcsHandler(E,L)},m.prototype.registerCsiHandler=function(E,L){return this._inputHandler.registerCsiHandler(E,L)},m.prototype.registerOscHandler=function(E,L){return this._inputHandler.registerOscHandler(E,L)},m.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},m.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},m.prototype._updateOptions=function(E){var L;switch(E){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():((L=this._windowsMode)===null||L===void 0||L.dispose(),this._windowsMode=void 0)}},m.prototype._enableWindowsMode=function(){var E=this;if(!this._windowsMode){var L=[];L.push(this.onLineFeed(c.updateWindowsModeWrappedState.bind(null,this._bufferService))),L.push(this.registerCsiHandler({final:"H"},function(){return(0,c.updateWindowsModeWrappedState)(E._bufferService),!1})),this._windowsMode={dispose:function(){for(var T=0,B=L;T<B.length;T++)B[T].dispose()}}}},m}(f.Disposable);a.CoreTerminal=C},8460:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.forwardEvent=a.EventEmitter=void 0;var p=function(){function l(){this._listeners=[],this._disposed=!1}return Object.defineProperty(l.prototype,"event",{get:function(){var u=this;return this._event||(this._event=function(f){return u._listeners.push(f),{dispose:function(){if(!u._disposed){for(var h=0;h<u._listeners.length;h++)if(u._listeners[h]===f)return void u._listeners.splice(h,1)}}}}),this._event},enumerable:!1,configurable:!0}),l.prototype.fire=function(u,f){for(var h=[],v=0;v<this._listeners.length;v++)h.push(this._listeners[v]);for(v=0;v<h.length;v++)h[v].call(void 0,u,f)},l.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},l}();a.EventEmitter=p,a.forwardEvent=function(l,u){return l(function(f){return u.fire(f)})}},5435:function(F,a,p){var l,u=this&&this.__extends||(l=function(T,B){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,M){w.__proto__=M}||function(w,M){for(var A in M)Object.prototype.hasOwnProperty.call(M,A)&&(w[A]=M[A])},l(T,B)},function(T,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function w(){this.constructor=T}l(T,B),T.prototype=B===null?Object.create(B):(w.prototype=B.prototype,new w)});Object.defineProperty(a,"__esModule",{value:!0}),a.InputHandler=a.WindowsOptionsReportType=void 0;var f,h=p(2584),v=p(7116),b=p(2015),n=p(844),s=p(8273),d=p(482),i=p(8437),t=p(8460),e=p(643),r=p(511),o=p(3734),c=p(2585),_=p(6242),g=p(6351),S=p(5941),C={"(":0,")":1,"*":2,"+":3,"-":1,".":2},y=131072;function m(T,B){if(T>24)return B.setWinLines||!1;switch(T){case 1:return!!B.restoreWin;case 2:return!!B.minimizeWin;case 3:return!!B.setWinPosition;case 4:return!!B.setWinSizePixels;case 5:return!!B.raiseWin;case 6:return!!B.lowerWin;case 7:return!!B.refreshWin;case 8:return!!B.setWinSizeChars;case 9:return!!B.maximizeWin;case 10:return!!B.fullscreenWin;case 11:return!!B.getWinState;case 13:return!!B.getWinPosition;case 14:return!!B.getWinSizePixels;case 15:return!!B.getScreenSizePixels;case 16:return!!B.getCellSizePixels;case 18:return!!B.getWinSizeChars;case 19:return!!B.getScreenSizeChars;case 20:return!!B.getIconTitle;case 21:return!!B.getWinTitle;case 22:return!!B.pushTitle;case 23:return!!B.popTitle;case 24:return!!B.setWinLines}return!1}(function(T){T[T.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",T[T.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(f=a.WindowsOptionsReportType||(a.WindowsOptionsReportType={}));var E=function(){function T(B,w,M,A){this._bufferService=B,this._coreService=w,this._logService=M,this._optionsService=A,this._data=new Uint32Array(0)}return T.prototype.hook=function(B){this._data=new Uint32Array(0)},T.prototype.put=function(B,w,M){this._data=(0,s.concat)(this._data,B.subarray(w,M))},T.prototype.unhook=function(B){if(!B)return this._data=new Uint32Array(0),!0;var w=(0,d.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),w){case'"q':this._coreService.triggerDataEvent(h.C0.ESC+'P1$r0"q'+h.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(h.C0.ESC+'P1$r61;1"p'+h.C0.ESC+"\\");break;case"r":var M=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(h.C0.ESC+"P1$r"+M+h.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(h.C0.ESC+"P1$r0m"+h.C0.ESC+"\\");break;case" q":var A={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];A-=this._optionsService.rawOptions.cursorBlink?1:0,this._coreService.triggerDataEvent(h.C0.ESC+"P1$r"+A+" q"+h.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",w),this._coreService.triggerDataEvent(h.C0.ESC+"P0$r"+h.C0.ESC+"\\")}return!0},T}(),L=function(T){function B(w,M,A,P,j,U,z,K,V){V===void 0&&(V=new b.EscapeSequenceParser);var k=T.call(this)||this;k._bufferService=w,k._charsetService=M,k._coreService=A,k._dirtyRowService=P,k._logService=j,k._optionsService=U,k._coreMouseService=z,k._unicodeService=K,k._parser=V,k._parseBuffer=new Uint32Array(4096),k._stringDecoder=new d.StringToUtf32,k._utf8Decoder=new d.Utf8ToUtf32,k._workCell=new r.CellData,k._windowTitle="",k._iconName="",k._windowTitleStack=[],k._iconNameStack=[],k._curAttrData=i.DEFAULT_ATTR_DATA.clone(),k._eraseAttrDataInternal=i.DEFAULT_ATTR_DATA.clone(),k._onRequestBell=new t.EventEmitter,k._onRequestRefreshRows=new t.EventEmitter,k._onRequestReset=new t.EventEmitter,k._onRequestSendFocus=new t.EventEmitter,k._onRequestSyncScrollBar=new t.EventEmitter,k._onRequestWindowsOptionsReport=new t.EventEmitter,k._onA11yChar=new t.EventEmitter,k._onA11yTab=new t.EventEmitter,k._onCursorMove=new t.EventEmitter,k._onLineFeed=new t.EventEmitter,k._onScroll=new t.EventEmitter,k._onTitleChange=new t.EventEmitter,k._onColor=new t.EventEmitter,k._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},k._specialColors=[256,257,258],k.register(k._parser),k._activeBuffer=k._bufferService.buffer,k.register(k._bufferService.buffers.onBufferActivate(function(O){return k._activeBuffer=O.activeBuffer})),k._parser.setCsiHandlerFallback(function(O,q){k._logService.debug("Unknown CSI code: ",{identifier:k._parser.identToString(O),params:q.toArray()})}),k._parser.setEscHandlerFallback(function(O){k._logService.debug("Unknown ESC code: ",{identifier:k._parser.identToString(O)})}),k._parser.setExecuteHandlerFallback(function(O){k._logService.debug("Unknown EXECUTE code: ",{code:O})}),k._parser.setOscHandlerFallback(function(O,q,Y){k._logService.debug("Unknown OSC code: ",{identifier:O,action:q,data:Y})}),k._parser.setDcsHandlerFallback(function(O,q,Y){q==="HOOK"&&(Y=Y.toArray()),k._logService.debug("Unknown DCS code: ",{identifier:k._parser.identToString(O),action:q,payload:Y})}),k._parser.setPrintHandler(function(O,q,Y){return k.print(O,q,Y)}),k._parser.registerCsiHandler({final:"@"},function(O){return k.insertChars(O)}),k._parser.registerCsiHandler({intermediates:" ",final:"@"},function(O){return k.scrollLeft(O)}),k._parser.registerCsiHandler({final:"A"},function(O){return k.cursorUp(O)}),k._parser.registerCsiHandler({intermediates:" ",final:"A"},function(O){return k.scrollRight(O)}),k._parser.registerCsiHandler({final:"B"},function(O){return k.cursorDown(O)}),k._parser.registerCsiHandler({final:"C"},function(O){return k.cursorForward(O)}),k._parser.registerCsiHandler({final:"D"},function(O){return k.cursorBackward(O)}),k._parser.registerCsiHandler({final:"E"},function(O){return k.cursorNextLine(O)}),k._parser.registerCsiHandler({final:"F"},function(O){return k.cursorPrecedingLine(O)}),k._parser.registerCsiHandler({final:"G"},function(O){return k.cursorCharAbsolute(O)}),k._parser.registerCsiHandler({final:"H"},function(O){return k.cursorPosition(O)}),k._parser.registerCsiHandler({final:"I"},function(O){return k.cursorForwardTab(O)}),k._parser.registerCsiHandler({final:"J"},function(O){return k.eraseInDisplay(O)}),k._parser.registerCsiHandler({prefix:"?",final:"J"},function(O){return k.eraseInDisplay(O)}),k._parser.registerCsiHandler({final:"K"},function(O){return k.eraseInLine(O)}),k._parser.registerCsiHandler({prefix:"?",final:"K"},function(O){return k.eraseInLine(O)}),k._parser.registerCsiHandler({final:"L"},function(O){return k.insertLines(O)}),k._parser.registerCsiHandler({final:"M"},function(O){return k.deleteLines(O)}),k._parser.registerCsiHandler({final:"P"},function(O){return k.deleteChars(O)}),k._parser.registerCsiHandler({final:"S"},function(O){return k.scrollUp(O)}),k._parser.registerCsiHandler({final:"T"},function(O){return k.scrollDown(O)}),k._parser.registerCsiHandler({final:"X"},function(O){return k.eraseChars(O)}),k._parser.registerCsiHandler({final:"Z"},function(O){return k.cursorBackwardTab(O)}),k._parser.registerCsiHandler({final:"`"},function(O){return k.charPosAbsolute(O)}),k._parser.registerCsiHandler({final:"a"},function(O){return k.hPositionRelative(O)}),k._parser.registerCsiHandler({final:"b"},function(O){return k.repeatPrecedingCharacter(O)}),k._parser.registerCsiHandler({final:"c"},function(O){return k.sendDeviceAttributesPrimary(O)}),k._parser.registerCsiHandler({prefix:">",final:"c"},function(O){return k.sendDeviceAttributesSecondary(O)}),k._parser.registerCsiHandler({final:"d"},function(O){return k.linePosAbsolute(O)}),k._parser.registerCsiHandler({final:"e"},function(O){return k.vPositionRelative(O)}),k._parser.registerCsiHandler({final:"f"},function(O){return k.hVPosition(O)}),k._parser.registerCsiHandler({final:"g"},function(O){return k.tabClear(O)}),k._parser.registerCsiHandler({final:"h"},function(O){return k.setMode(O)}),k._parser.registerCsiHandler({prefix:"?",final:"h"},function(O){return k.setModePrivate(O)}),k._parser.registerCsiHandler({final:"l"},function(O){return k.resetMode(O)}),k._parser.registerCsiHandler({prefix:"?",final:"l"},function(O){return k.resetModePrivate(O)}),k._parser.registerCsiHandler({final:"m"},function(O){return k.charAttributes(O)}),k._parser.registerCsiHandler({final:"n"},function(O){return k.deviceStatus(O)}),k._parser.registerCsiHandler({prefix:"?",final:"n"},function(O){return k.deviceStatusPrivate(O)}),k._parser.registerCsiHandler({intermediates:"!",final:"p"},function(O){return k.softReset(O)}),k._parser.registerCsiHandler({intermediates:" ",final:"q"},function(O){return k.setCursorStyle(O)}),k._parser.registerCsiHandler({final:"r"},function(O){return k.setScrollRegion(O)}),k._parser.registerCsiHandler({final:"s"},function(O){return k.saveCursor(O)}),k._parser.registerCsiHandler({final:"t"},function(O){return k.windowOptions(O)}),k._parser.registerCsiHandler({final:"u"},function(O){return k.restoreCursor(O)}),k._parser.registerCsiHandler({intermediates:"'",final:"}"},function(O){return k.insertColumns(O)}),k._parser.registerCsiHandler({intermediates:"'",final:"~"},function(O){return k.deleteColumns(O)}),k._parser.setExecuteHandler(h.C0.BEL,function(){return k.bell()}),k._parser.setExecuteHandler(h.C0.LF,function(){return k.lineFeed()}),k._parser.setExecuteHandler(h.C0.VT,function(){return k.lineFeed()}),k._parser.setExecuteHandler(h.C0.FF,function(){return k.lineFeed()}),k._parser.setExecuteHandler(h.C0.CR,function(){return k.carriageReturn()}),k._parser.setExecuteHandler(h.C0.BS,function(){return k.backspace()}),k._parser.setExecuteHandler(h.C0.HT,function(){return k.tab()}),k._parser.setExecuteHandler(h.C0.SO,function(){return k.shiftOut()}),k._parser.setExecuteHandler(h.C0.SI,function(){return k.shiftIn()}),k._parser.setExecuteHandler(h.C1.IND,function(){return k.index()}),k._parser.setExecuteHandler(h.C1.NEL,function(){return k.nextLine()}),k._parser.setExecuteHandler(h.C1.HTS,function(){return k.tabSet()}),k._parser.registerOscHandler(0,new _.OscHandler(function(O){return k.setTitle(O),k.setIconName(O),!0})),k._parser.registerOscHandler(1,new _.OscHandler(function(O){return k.setIconName(O)})),k._parser.registerOscHandler(2,new _.OscHandler(function(O){return k.setTitle(O)})),k._parser.registerOscHandler(4,new _.OscHandler(function(O){return k.setOrReportIndexedColor(O)})),k._parser.registerOscHandler(10,new _.OscHandler(function(O){return k.setOrReportFgColor(O)})),k._parser.registerOscHandler(11,new _.OscHandler(function(O){return k.setOrReportBgColor(O)})),k._parser.registerOscHandler(12,new _.OscHandler(function(O){return k.setOrReportCursorColor(O)})),k._parser.registerOscHandler(104,new _.OscHandler(function(O){return k.restoreIndexedColor(O)})),k._parser.registerOscHandler(110,new _.OscHandler(function(O){return k.restoreFgColor(O)})),k._parser.registerOscHandler(111,new _.OscHandler(function(O){return k.restoreBgColor(O)})),k._parser.registerOscHandler(112,new _.OscHandler(function(O){return k.restoreCursorColor(O)})),k._parser.registerEscHandler({final:"7"},function(){return k.saveCursor()}),k._parser.registerEscHandler({final:"8"},function(){return k.restoreCursor()}),k._parser.registerEscHandler({final:"D"},function(){return k.index()}),k._parser.registerEscHandler({final:"E"},function(){return k.nextLine()}),k._parser.registerEscHandler({final:"H"},function(){return k.tabSet()}),k._parser.registerEscHandler({final:"M"},function(){return k.reverseIndex()}),k._parser.registerEscHandler({final:"="},function(){return k.keypadApplicationMode()}),k._parser.registerEscHandler({final:">"},function(){return k.keypadNumericMode()}),k._parser.registerEscHandler({final:"c"},function(){return k.fullReset()}),k._parser.registerEscHandler({final:"n"},function(){return k.setgLevel(2)}),k._parser.registerEscHandler({final:"o"},function(){return k.setgLevel(3)}),k._parser.registerEscHandler({final:"|"},function(){return k.setgLevel(3)}),k._parser.registerEscHandler({final:"}"},function(){return k.setgLevel(2)}),k._parser.registerEscHandler({final:"~"},function(){return k.setgLevel(1)}),k._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return k.selectDefaultCharset()}),k._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return k.selectDefaultCharset()});var R=function(O){x._parser.registerEscHandler({intermediates:"(",final:O},function(){return k.selectCharset("("+O)}),x._parser.registerEscHandler({intermediates:")",final:O},function(){return k.selectCharset(")"+O)}),x._parser.registerEscHandler({intermediates:"*",final:O},function(){return k.selectCharset("*"+O)}),x._parser.registerEscHandler({intermediates:"+",final:O},function(){return k.selectCharset("+"+O)}),x._parser.registerEscHandler({intermediates:"-",final:O},function(){return k.selectCharset("-"+O)}),x._parser.registerEscHandler({intermediates:".",final:O},function(){return k.selectCharset("."+O)}),x._parser.registerEscHandler({intermediates:"/",final:O},function(){return k.selectCharset("/"+O)})},x=this;for(var W in v.CHARSETS)R(W);return k._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return k.screenAlignmentPattern()}),k._parser.setErrorHandler(function(O){return k._logService.error("Parsing error: ",O),O}),k._parser.registerDcsHandler({intermediates:"$",final:"q"},new E(k._bufferService,k._coreService,k._logService,k._optionsService)),k}return u(B,T),Object.defineProperty(B.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),B.prototype.dispose=function(){T.prototype.dispose.call(this)},B.prototype._preserveStack=function(w,M,A,P){this._parseStack.paused=!0,this._parseStack.cursorStartX=w,this._parseStack.cursorStartY=M,this._parseStack.decodedLength=A,this._parseStack.position=P},B.prototype._logSlowResolvingAsync=function(w){this._logService.logLevel<=c.LogLevelEnum.WARN&&Promise.race([w,new Promise(function(M,A){return setTimeout(function(){return A("#SLOW_TIMEOUT")},5e3)})]).catch(function(M){if(M!=="#SLOW_TIMEOUT")throw M;console.warn("async parser handler taking longer than 5000 ms")})},B.prototype.parse=function(w,M){var A,P=this._activeBuffer.x,j=this._activeBuffer.y,U=0,z=this._parseStack.paused;if(z){if(A=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,M))return this._logSlowResolvingAsync(A),A;P=this._parseStack.cursorStartX,j=this._parseStack.cursorStartY,this._parseStack.paused=!1,w.length>y&&(U=this._parseStack.position+y)}if(this._logService.logLevel<=c.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof w=="string"?' "'+w+'"':""),typeof w=="string"?w.split("").map(function(R){return R.charCodeAt(0)}):w),this._parseBuffer.length<w.length&&this._parseBuffer.length<y&&(this._parseBuffer=new Uint32Array(Math.min(w.length,y))),z||this._dirtyRowService.clearRange(),w.length>y)for(var K=U;K<w.length;K+=y){var V=K+y<w.length?K+y:w.length,k=typeof w=="string"?this._stringDecoder.decode(w.substring(K,V),this._parseBuffer):this._utf8Decoder.decode(w.subarray(K,V),this._parseBuffer);if(A=this._parser.parse(this._parseBuffer,k))return this._preserveStack(P,j,k,K),this._logSlowResolvingAsync(A),A}else if(!z&&(k=typeof w=="string"?this._stringDecoder.decode(w,this._parseBuffer):this._utf8Decoder.decode(w,this._parseBuffer),A=this._parser.parse(this._parseBuffer,k)))return this._preserveStack(P,j,k,0),this._logSlowResolvingAsync(A),A;this._activeBuffer.x===P&&this._activeBuffer.y===j||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},B.prototype.print=function(w,M,A){var P,j,U=this._charsetService.charset,z=this._optionsService.rawOptions.screenReaderMode,K=this._bufferService.cols,V=this._coreService.decPrivateModes.wraparound,k=this._coreService.modes.insertMode,R=this._curAttrData,x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&A-M>0&&x.getWidth(this._activeBuffer.x-1)===2&&x.setCellFromCodePoint(this._activeBuffer.x-1,0,1,R.fg,R.bg,R.extended);for(var W=M;W<A;++W){if(P=w[W],j=this._unicodeService.wcwidth(P),P<127&&U){var O=U[String.fromCharCode(P)];O&&(P=O.charCodeAt(0))}if(z&&this._onA11yChar.fire((0,d.stringFromCodePoint)(P)),j||!this._activeBuffer.x){if(this._activeBuffer.x+j-1>=K){if(V){for(;this._activeBuffer.x<K;)x.setCellFromCodePoint(this._activeBuffer.x++,0,1,R.fg,R.bg,R.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=K-1,j===2)continue}if(k&&(x.insertCells(this._activeBuffer.x,j,this._activeBuffer.getNullCell(R),R),x.getWidth(K-1)===2&&x.setCellFromCodePoint(K-1,e.NULL_CELL_CODE,e.NULL_CELL_WIDTH,R.fg,R.bg,R.extended)),x.setCellFromCodePoint(this._activeBuffer.x++,P,j,R.fg,R.bg,R.extended),j>0)for(;--j;)x.setCellFromCodePoint(this._activeBuffer.x++,0,0,R.fg,R.bg,R.extended)}else x.getWidth(this._activeBuffer.x-1)?x.addCodepointToCell(this._activeBuffer.x-1,P):x.addCodepointToCell(this._activeBuffer.x-2,P)}A-M>0&&(x.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<K&&A-M>0&&x.getWidth(this._activeBuffer.x)===0&&!x.hasContent(this._activeBuffer.x)&&x.setCellFromCodePoint(this._activeBuffer.x,0,1,R.fg,R.bg,R.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},B.prototype.registerCsiHandler=function(w,M){var A=this;return w.final!=="t"||w.prefix||w.intermediates?this._parser.registerCsiHandler(w,M):this._parser.registerCsiHandler(w,function(P){return!m(P.params[0],A._optionsService.rawOptions.windowOptions)||M(P)})},B.prototype.registerDcsHandler=function(w,M){return this._parser.registerDcsHandler(w,new g.DcsHandler(M))},B.prototype.registerEscHandler=function(w,M){return this._parser.registerEscHandler(w,M)},B.prototype.registerOscHandler=function(w,M){return this._parser.registerOscHandler(w,new _.OscHandler(M))},B.prototype.bell=function(){return this._onRequestBell.fire(),!0},B.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},B.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},B.prototype.backspace=function(){var w;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((w=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||w===void 0?void 0:w.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);M.hasWidth(this._activeBuffer.x)&&!M.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},B.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var w=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-w),!0},B.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},B.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},B.prototype._restrictCursor=function(w){w===void 0&&(w=this._bufferService.cols-1),this._activeBuffer.x=Math.min(w,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},B.prototype._setCursor=function(w,M){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=w,this._activeBuffer.y=this._activeBuffer.scrollTop+M):(this._activeBuffer.x=w,this._activeBuffer.y=M),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},B.prototype._moveCursor=function(w,M){this._restrictCursor(),this._setCursor(this._activeBuffer.x+w,this._activeBuffer.y+M)},B.prototype.cursorUp=function(w){var M=this._activeBuffer.y-this._activeBuffer.scrollTop;return M>=0?this._moveCursor(0,-Math.min(M,w.params[0]||1)):this._moveCursor(0,-(w.params[0]||1)),!0},B.prototype.cursorDown=function(w){var M=this._activeBuffer.scrollBottom-this._activeBuffer.y;return M>=0?this._moveCursor(0,Math.min(M,w.params[0]||1)):this._moveCursor(0,w.params[0]||1),!0},B.prototype.cursorForward=function(w){return this._moveCursor(w.params[0]||1,0),!0},B.prototype.cursorBackward=function(w){return this._moveCursor(-(w.params[0]||1),0),!0},B.prototype.cursorNextLine=function(w){return this.cursorDown(w),this._activeBuffer.x=0,!0},B.prototype.cursorPrecedingLine=function(w){return this.cursorUp(w),this._activeBuffer.x=0,!0},B.prototype.cursorCharAbsolute=function(w){return this._setCursor((w.params[0]||1)-1,this._activeBuffer.y),!0},B.prototype.cursorPosition=function(w){return this._setCursor(w.length>=2?(w.params[1]||1)-1:0,(w.params[0]||1)-1),!0},B.prototype.charPosAbsolute=function(w){return this._setCursor((w.params[0]||1)-1,this._activeBuffer.y),!0},B.prototype.hPositionRelative=function(w){return this._moveCursor(w.params[0]||1,0),!0},B.prototype.linePosAbsolute=function(w){return this._setCursor(this._activeBuffer.x,(w.params[0]||1)-1),!0},B.prototype.vPositionRelative=function(w){return this._moveCursor(0,w.params[0]||1),!0},B.prototype.hVPosition=function(w){return this.cursorPosition(w),!0},B.prototype.tabClear=function(w){var M=w.params[0];return M===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:M===3&&(this._activeBuffer.tabs={}),!0},B.prototype.cursorForwardTab=function(w){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var M=w.params[0]||1;M--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},B.prototype.cursorBackwardTab=function(w){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var M=w.params[0]||1;M--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},B.prototype._eraseInBufferLine=function(w,M,A,P){P===void 0&&(P=!1);var j=this._activeBuffer.lines.get(this._activeBuffer.ybase+w);j.replaceCells(M,A,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P&&(j.isWrapped=!1)},B.prototype._resetBufferLine=function(w){var M=this._activeBuffer.lines.get(this._activeBuffer.ybase+w);M.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),M.isWrapped=!1},B.prototype.eraseInDisplay=function(w){var M;switch(this._restrictCursor(this._bufferService.cols),w.params[0]){case 0:for(M=this._activeBuffer.y,this._dirtyRowService.markDirty(M),this._eraseInBufferLine(M++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);M<this._bufferService.rows;M++)this._resetBufferLine(M);this._dirtyRowService.markDirty(M);break;case 1:for(M=this._activeBuffer.y,this._dirtyRowService.markDirty(M),this._eraseInBufferLine(M,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(M+1).isWrapped=!1);M--;)this._resetBufferLine(M);this._dirtyRowService.markDirty(0);break;case 2:for(M=this._bufferService.rows,this._dirtyRowService.markDirty(M-1);M--;)this._resetBufferLine(M);this._dirtyRowService.markDirty(0);break;case 3:var A=this._activeBuffer.lines.length-this._bufferService.rows;A>0&&(this._activeBuffer.lines.trimStart(A),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-A,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-A,0),this._onScroll.fire(0))}return!0},B.prototype.eraseInLine=function(w){switch(this._restrictCursor(this._bufferService.cols),w.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},B.prototype.insertLines=function(w){this._restrictCursor();var M=w.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var A=this._activeBuffer.ybase+this._activeBuffer.y,P=this._bufferService.rows-1-this._activeBuffer.scrollBottom,j=this._bufferService.rows-1+this._activeBuffer.ybase-P+1;M--;)this._activeBuffer.lines.splice(j-1,1),this._activeBuffer.lines.splice(A,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},B.prototype.deleteLines=function(w){this._restrictCursor();var M=w.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var A,P=this._activeBuffer.ybase+this._activeBuffer.y;for(A=this._bufferService.rows-1-this._activeBuffer.scrollBottom,A=this._bufferService.rows-1+this._activeBuffer.ybase-A;M--;)this._activeBuffer.lines.splice(P,1),this._activeBuffer.lines.splice(A,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},B.prototype.insertChars=function(w){this._restrictCursor();var M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.insertCells(this._activeBuffer.x,w.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},B.prototype.deleteChars=function(w){this._restrictCursor();var M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.deleteCells(this._activeBuffer.x,w.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},B.prototype.scrollUp=function(w){for(var M=w.params[0]||1;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.scrollDown=function(w){for(var M=w.params[0]||1;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(i.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.scrollLeft=function(w){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var M=w.params[0]||1,A=this._activeBuffer.scrollTop;A<=this._activeBuffer.scrollBottom;++A){var P=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);P.deleteCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.scrollRight=function(w){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var M=w.params[0]||1,A=this._activeBuffer.scrollTop;A<=this._activeBuffer.scrollBottom;++A){var P=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);P.insertCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.insertColumns=function(w){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var M=w.params[0]||1,A=this._activeBuffer.scrollTop;A<=this._activeBuffer.scrollBottom;++A){var P=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);P.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.deleteColumns=function(w){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var M=w.params[0]||1,A=this._activeBuffer.scrollTop;A<=this._activeBuffer.scrollBottom;++A){var P=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);P.deleteCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},B.prototype.eraseChars=function(w){this._restrictCursor();var M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(w.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},B.prototype.repeatPrecedingCharacter=function(w){if(!this._parser.precedingCodepoint)return!0;for(var M=w.params[0]||1,A=new Uint32Array(M),P=0;P<M;++P)A[P]=this._parser.precedingCodepoint;return this.print(A,0,A.length),!0},B.prototype.sendDeviceAttributesPrimary=function(w){return w.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0},B.prototype.sendDeviceAttributesSecondary=function(w){return w.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(w.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0},B.prototype._is=function(w){return(this._optionsService.rawOptions.termName+"").indexOf(w)===0},B.prototype.setMode=function(w){for(var M=0;M<w.length;M++)w.params[M]===4&&(this._coreService.modes.insertMode=!0);return!0},B.prototype.setModePrivate=function(w){for(var M=0;M<w.length;M++)switch(w.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},B.prototype.resetMode=function(w){for(var M=0;M<w.length;M++)w.params[M]===4&&(this._coreService.modes.insertMode=!1);return!0},B.prototype.resetModePrivate=function(w){for(var M=0;M<w.length;M++)switch(w.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),w.params[M]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},B.prototype._updateAttrColor=function(w,M,A,P,j){return M===2?(w|=50331648,w&=-16777216,w|=o.AttributeData.fromColorRGB([A,P,j])):M===5&&(w&=-50331904,w|=33554432|255&A),w},B.prototype._extractColor=function(w,M,A){var P=[0,0,-1,0,0,0],j=0,U=0;do{if(P[U+j]=w.params[M+U],w.hasSubParams(M+U)){var z=w.getSubParams(M+U),K=0;do P[1]===5&&(j=1),P[U+K+1+j]=z[K];while(++K<z.length&&K+U+1+j<P.length);break}if(P[1]===5&&U+j>=2||P[1]===2&&U+j>=5)break;P[1]&&(j=1)}while(++U+M<w.length&&U+j<P.length);for(K=2;K<P.length;++K)P[K]===-1&&(P[K]=0);switch(P[0]){case 38:A.fg=this._updateAttrColor(A.fg,P[1],P[3],P[4],P[5]);break;case 48:A.bg=this._updateAttrColor(A.bg,P[1],P[3],P[4],P[5]);break;case 58:A.extended=A.extended.clone(),A.extended.underlineColor=this._updateAttrColor(A.extended.underlineColor,P[1],P[3],P[4],P[5])}return U},B.prototype._processUnderline=function(w,M){M.extended=M.extended.clone(),(!~w||w>5)&&(w=1),M.extended.underlineStyle=w,M.fg|=268435456,w===0&&(M.fg&=-268435457),M.updateExtended()},B.prototype.charAttributes=function(w){if(w.length===1&&w.params[0]===0)return this._curAttrData.fg=i.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=i.DEFAULT_ATTR_DATA.bg,!0;for(var M,A=w.length,P=this._curAttrData,j=0;j<A;j++)(M=w.params[j])>=30&&M<=37?(P.fg&=-50331904,P.fg|=16777216|M-30):M>=40&&M<=47?(P.bg&=-50331904,P.bg|=16777216|M-40):M>=90&&M<=97?(P.fg&=-50331904,P.fg|=16777224|M-90):M>=100&&M<=107?(P.bg&=-50331904,P.bg|=16777224|M-100):M===0?(P.fg=i.DEFAULT_ATTR_DATA.fg,P.bg=i.DEFAULT_ATTR_DATA.bg):M===1?P.fg|=134217728:M===3?P.bg|=67108864:M===4?(P.fg|=268435456,this._processUnderline(w.hasSubParams(j)?w.getSubParams(j)[0]:1,P)):M===5?P.fg|=536870912:M===7?P.fg|=67108864:M===8?P.fg|=1073741824:M===9?P.fg|=2147483648:M===2?P.bg|=134217728:M===21?this._processUnderline(2,P):M===22?(P.fg&=-134217729,P.bg&=-134217729):M===23?P.bg&=-67108865:M===24?P.fg&=-268435457:M===25?P.fg&=-536870913:M===27?P.fg&=-67108865:M===28?P.fg&=-1073741825:M===29?P.fg&=2147483647:M===39?(P.fg&=-67108864,P.fg|=16777215&i.DEFAULT_ATTR_DATA.fg):M===49?(P.bg&=-67108864,P.bg|=16777215&i.DEFAULT_ATTR_DATA.bg):M===38||M===48||M===58?j+=this._extractColor(w,j,P):M===59?(P.extended=P.extended.clone(),P.extended.underlineColor=-1,P.updateExtended()):M===100?(P.fg&=-67108864,P.fg|=16777215&i.DEFAULT_ATTR_DATA.fg,P.bg&=-67108864,P.bg|=16777215&i.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",M);return!0},B.prototype.deviceStatus=function(w){switch(w.params[0]){case 5:this._coreService.triggerDataEvent(h.C0.ESC+"[0n");break;case 6:var M=this._activeBuffer.y+1,A=this._activeBuffer.x+1;this._coreService.triggerDataEvent(h.C0.ESC+"["+M+";"+A+"R")}return!0},B.prototype.deviceStatusPrivate=function(w){if(w.params[0]===6){var M=this._activeBuffer.y+1,A=this._activeBuffer.x+1;this._coreService.triggerDataEvent(h.C0.ESC+"[?"+M+";"+A+"R")}return!0},B.prototype.softReset=function(w){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=i.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},B.prototype.setCursorStyle=function(w){var M=w.params[0]||1;switch(M){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var A=M%2==1;return this._optionsService.options.cursorBlink=A,!0},B.prototype.setScrollRegion=function(w){var M,A=w.params[0]||1;return(w.length<2||(M=w.params[1])>this._bufferService.rows||M===0)&&(M=this._bufferService.rows),M>A&&(this._activeBuffer.scrollTop=A-1,this._activeBuffer.scrollBottom=M-1,this._setCursor(0,0)),!0},B.prototype.windowOptions=function(w){if(!m(w.params[0],this._optionsService.rawOptions.windowOptions))return!0;var M=w.length>1?w.params[1]:0;switch(w.params[0]){case 14:M!==2&&this._onRequestWindowsOptionsReport.fire(f.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(f.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(h.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:M!==0&&M!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),M!==0&&M!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:M!==0&&M!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),M!==0&&M!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},B.prototype.saveCursor=function(w){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},B.prototype.restoreCursor=function(w){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},B.prototype.setTitle=function(w){return this._windowTitle=w,this._onTitleChange.fire(w),!0},B.prototype.setIconName=function(w){return this._iconName=w,!0},B.prototype.setOrReportIndexedColor=function(w){for(var M=[],A=w.split(";");A.length>1;){var P=A.shift(),j=A.shift();if(/^\d+$/.exec(P)){var U=parseInt(P);if(0<=U&&U<256)if(j==="?")M.push({type:0,index:U});else{var z=(0,S.parseColor)(j);z&&M.push({type:1,index:U,color:z})}}}return M.length&&this._onColor.fire(M),!0},B.prototype._setOrReportSpecialColor=function(w,M){for(var A=w.split(";"),P=0;P<A.length&&!(M>=this._specialColors.length);++P,++M)if(A[P]==="?")this._onColor.fire([{type:0,index:this._specialColors[M]}]);else{var j=(0,S.parseColor)(A[P]);j&&this._onColor.fire([{type:1,index:this._specialColors[M],color:j}])}return!0},B.prototype.setOrReportFgColor=function(w){return this._setOrReportSpecialColor(w,0)},B.prototype.setOrReportBgColor=function(w){return this._setOrReportSpecialColor(w,1)},B.prototype.setOrReportCursorColor=function(w){return this._setOrReportSpecialColor(w,2)},B.prototype.restoreIndexedColor=function(w){if(!w)return this._onColor.fire([{type:2}]),!0;for(var M=[],A=w.split(";"),P=0;P<A.length;++P)if(/^\d+$/.exec(A[P])){var j=parseInt(A[P]);0<=j&&j<256&&M.push({type:2,index:j})}return M.length&&this._onColor.fire(M),!0},B.prototype.restoreFgColor=function(w){return this._onColor.fire([{type:2,index:256}]),!0},B.prototype.restoreBgColor=function(w){return this._onColor.fire([{type:2,index:257}]),!0},B.prototype.restoreCursorColor=function(w){return this._onColor.fire([{type:2,index:258}]),!0},B.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},B.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},B.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},B.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0},B.prototype.selectCharset=function(w){return w.length!==2?(this.selectDefaultCharset(),!0):(w[0]==="/"||this._charsetService.setgCharset(C[w[0]],v.CHARSETS[w[1]]||v.DEFAULT_CHARSET),!0)},B.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},B.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},B.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var w=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,w,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},B.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},B.prototype.reset=function(){this._curAttrData=i.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=i.DEFAULT_ATTR_DATA.clone()},B.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},B.prototype.setgLevel=function(w){return this._charsetService.setgLevel(w),!0},B.prototype.screenAlignmentPattern=function(){var w=new r.CellData;w.content=1<<22|"E".charCodeAt(0),w.fg=this._curAttrData.fg,w.bg=this._curAttrData.bg,this._setCursor(0,0);for(var M=0;M<this._bufferService.rows;++M){var A=this._activeBuffer.ybase+this._activeBuffer.y+M,P=this._activeBuffer.lines.get(A);P&&(P.fill(w),P.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},B}(n.Disposable);a.InputHandler=L},844:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.Disposable=void 0;var p=function(){function u(){this._disposables=[],this._isDisposed=!1}return u.prototype.dispose=function(){this._isDisposed=!0;for(var f=0,h=this._disposables;f<h.length;f++)h[f].dispose();this._disposables.length=0},u.prototype.register=function(f){return this._disposables.push(f),f},u.prototype.unregister=function(f){var h=this._disposables.indexOf(f);h!==-1&&this._disposables.splice(h,1)},u}();function l(u){for(var f=0,h=u;f<h.length;f++)h[f].dispose();u.length=0}a.Disposable=p,a.disposeArray=l,a.getDisposeArrayDisposable=function(u){return{dispose:function(){return l(u)}}}},6114:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isLinux=a.isWindows=a.isIphone=a.isIpad=a.isMac=a.isSafari=a.isLegacyEdge=a.isFirefox=void 0;var p=typeof navigator=="undefined",l=p?"node":navigator.userAgent,u=p?"node":navigator.platform;a.isFirefox=l.includes("Firefox"),a.isLegacyEdge=l.includes("Edge"),a.isSafari=/^((?!chrome|android).)*safari/i.test(l),a.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),a.isIpad=u==="iPad",a.isIphone=u==="iPhone",a.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),a.isLinux=u.indexOf("Linux")>=0},8273:(F,a)=>{function p(l,u,f,h){if(f===void 0&&(f=0),h===void 0&&(h=l.length),f>=l.length)return l;f=(l.length+f)%l.length,h=h>=l.length?l.length:(l.length+h)%l.length;for(var v=f;v<h;++v)l[v]=u;return l}Object.defineProperty(a,"__esModule",{value:!0}),a.concat=a.fillFallback=a.fill=void 0,a.fill=function(l,u,f,h){return l.fill?l.fill(u,f,h):p(l,u,f,h)},a.fillFallback=p,a.concat=function(l,u){var f=new l.constructor(l.length+u.length);return f.set(l),f.set(u,l.length),f}},9282:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.updateWindowsModeWrappedState=void 0;var l=p(643);a.updateWindowsModeWrappedState=function(u){var f=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),h=f==null?void 0:f.get(u.cols-1),v=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);v&&h&&(v.isWrapped=h[l.CHAR_DATA_CODE_INDEX]!==l.NULL_CELL_CODE&&h[l.CHAR_DATA_CODE_INDEX]!==l.WHITESPACE_CELL_CODE)}},3734:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExtendedAttrs=a.AttributeData=void 0;var p=function(){function u(){this.fg=0,this.bg=0,this.extended=new l}return u.toColorRGB=function(f){return[f>>>16&255,f>>>8&255,255&f]},u.fromColorRGB=function(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]},u.prototype.clone=function(){var f=new u;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f},u.prototype.isInverse=function(){return 67108864&this.fg},u.prototype.isBold=function(){return 134217728&this.fg},u.prototype.isUnderline=function(){return 268435456&this.fg},u.prototype.isBlink=function(){return 536870912&this.fg},u.prototype.isInvisible=function(){return 1073741824&this.fg},u.prototype.isItalic=function(){return 67108864&this.bg},u.prototype.isDim=function(){return 134217728&this.bg},u.prototype.isStrikethrough=function(){return 2147483648&this.fg},u.prototype.getFgColorMode=function(){return 50331648&this.fg},u.prototype.getBgColorMode=function(){return 50331648&this.bg},u.prototype.isFgRGB=function(){return(50331648&this.fg)==50331648},u.prototype.isBgRGB=function(){return(50331648&this.bg)==50331648},u.prototype.isFgPalette=function(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432},u.prototype.isBgPalette=function(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432},u.prototype.isFgDefault=function(){return(50331648&this.fg)==0},u.prototype.isBgDefault=function(){return(50331648&this.bg)==0},u.prototype.isAttributeDefault=function(){return this.fg===0&&this.bg===0},u.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},u.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},u.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},u.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},u.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},u.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},u.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()},u.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()},u.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()},u.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},u}();a.AttributeData=p;var l=function(){function u(f,h){f===void 0&&(f=0),h===void 0&&(h=-1),this.underlineStyle=f,this.underlineColor=h}return u.prototype.clone=function(){return new u(this.underlineStyle,this.underlineColor)},u.prototype.isEmpty=function(){return this.underlineStyle===0},u}();a.ExtendedAttrs=l},9092:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferStringIterator=a.Buffer=a.MAX_BUFFER_SIZE=void 0;var l=p(6349),u=p(8437),f=p(511),h=p(643),v=p(4634),b=p(4863),n=p(7116),s=p(3734);a.MAX_BUFFER_SIZE=4294967295;var d=function(){function t(e,r,o){this._hasScrollback=e,this._optionsService=r,this._bufferService=o,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=u.DEFAULT_ATTR_DATA.clone(),this.savedCharset=n.DEFAULT_CHARSET,this.markers=[],this._nullCell=f.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]),this._whitespaceCell=f.CellData.fromCharData([0,h.WHITESPACE_CELL_CHAR,h.WHITESPACE_CELL_WIDTH,h.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new l.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return t.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new s.ExtendedAttrs),this._nullCell},t.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new s.ExtendedAttrs),this._whitespaceCell},t.prototype.getBlankLine=function(e,r){return new u.BufferLine(this._bufferService.cols,this.getNullCell(e),r)},Object.defineProperty(t.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!1,configurable:!0}),t.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var r=e+this._optionsService.rawOptions.scrollback;return r>a.MAX_BUFFER_SIZE?a.MAX_BUFFER_SIZE:r},t.prototype.fillViewportRows=function(e){if(this.lines.length===0){e===void 0&&(e=u.DEFAULT_ATTR_DATA);for(var r=this._rows;r--;)this.lines.push(this.getBlankLine(e))}},t.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new l.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},t.prototype.resize=function(e,r){var o=this.getNullCell(u.DEFAULT_ATTR_DATA),c=this._getCorrectBufferLength(r);if(c>this.lines.maxLength&&(this.lines.maxLength=c),this.lines.length>0){if(this._cols<e)for(var _=0;_<this.lines.length;_++)this.lines.get(_).resize(e,o);var g=0;if(this._rows<r)for(var S=this._rows;S<r;S++)this.lines.length<r+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new u.BufferLine(e,o)):this.ybase>0&&this.lines.length<=this.ybase+this.y+g+1?(this.ybase--,g++,this.ydisp>0&&this.ydisp--):this.lines.push(new u.BufferLine(e,o)));else for(S=this._rows;S>r;S--)this.lines.length>r+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(c<this.lines.maxLength){var C=this.lines.length-c;C>0&&(this.lines.trimStart(C),this.ybase=Math.max(this.ybase-C,0),this.ydisp=Math.max(this.ydisp-C,0),this.savedY=Math.max(this.savedY-C,0)),this.lines.maxLength=c}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,r-1),g&&(this.y+=g),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=r-1,this._isReflowEnabled&&(this._reflow(e,r),this._cols>e))for(_=0;_<this.lines.length;_++)this.lines.get(_).resize(e,o);this._cols=e,this._rows=r},Object.defineProperty(t.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),t.prototype._reflow=function(e,r){this._cols!==e&&(e>this._cols?this._reflowLarger(e,r):this._reflowSmaller(e,r))},t.prototype._reflowLarger=function(e,r){var o=(0,v.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(u.DEFAULT_ATTR_DATA));if(o.length>0){var c=(0,v.reflowLargerCreateNewLayout)(this.lines,o);(0,v.reflowLargerApplyNewLayout)(this.lines,c.layout),this._reflowLargerAdjustViewport(e,r,c.countRemoved)}},t.prototype._reflowLargerAdjustViewport=function(e,r,o){for(var c=this.getNullCell(u.DEFAULT_ATTR_DATA),_=o;_-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<r&&this.lines.push(new u.BufferLine(e,c))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-o,0)},t.prototype._reflowSmaller=function(e,r){for(var o=this.getNullCell(u.DEFAULT_ATTR_DATA),c=[],_=0,g=this.lines.length-1;g>=0;g--){var S=this.lines.get(g);if(!(!S||!S.isWrapped&&S.getTrimmedLength()<=e)){for(var C=[S];S.isWrapped&&g>0;)S=this.lines.get(--g),C.unshift(S);var y=this.ybase+this.y;if(!(y>=g&&y<g+C.length)){var m,E=C[C.length-1].getTrimmedLength(),L=(0,v.reflowSmallerGetNewLineLengths)(C,this._cols,e),T=L.length-C.length;m=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+T):Math.max(0,this.lines.length-this.lines.maxLength+T);for(var B=[],w=0;w<T;w++){var M=this.getBlankLine(u.DEFAULT_ATTR_DATA,!0);B.push(M)}B.length>0&&(c.push({start:g+C.length+_,newLines:B}),_+=B.length),C.push.apply(C,B);var A=L.length-1,P=L[A];P===0&&(P=L[--A]);for(var j=C.length-T-1,U=E;j>=0;){var z=Math.min(U,P);if(C[A]===void 0)break;if(C[A].copyCellsFrom(C[j],U-z,P-z,z,!0),(P-=z)==0&&(P=L[--A]),(U-=z)==0){j--;var K=Math.max(j,0);U=(0,v.getWrappedLineTrimmedLength)(C,K,this._cols)}}for(w=0;w<C.length;w++)L[w]<e&&C[w].setCell(L[w],o);for(var V=T-m;V-- >0;)this.ybase===0?this.y<r-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+_)-r&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+T,this.ybase+r-1)}}}if(c.length>0){var k=[],R=[];for(w=0;w<this.lines.length;w++)R.push(this.lines.get(w));var x=this.lines.length,W=x-1,O=0,q=c[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+_);var Y=0;for(w=Math.min(this.lines.maxLength-1,x+_-1);w>=0;w--)if(q&&q.start>W+Y){for(var J=q.newLines.length-1;J>=0;J--)this.lines.set(w--,q.newLines[J]);w++,k.push({index:W+1,amount:q.newLines.length}),Y+=q.newLines.length,q=c[++O]}else this.lines.set(w,R[W--]);var Q=0;for(w=k.length-1;w>=0;w--)k[w].index+=Q,this.lines.onInsertEmitter.fire(k[w]),Q+=k[w].amount;var re=Math.max(0,x+_-this.lines.maxLength);re>0&&this.lines.onTrimEmitter.fire(re)}},t.prototype.stringIndexToBufferIndex=function(e,r,o){for(o===void 0&&(o=!1);r;){var c=this.lines.get(e);if(!c)return[-1,-1];for(var _=o?c.getTrimmedLength():c.length,g=0;g<_;++g)if(c.get(g)[h.CHAR_DATA_WIDTH_INDEX]&&(r-=c.get(g)[h.CHAR_DATA_CHAR_INDEX].length||1),r<0)return[e,g];e++}return[e,0]},t.prototype.translateBufferLineToString=function(e,r,o,c){o===void 0&&(o=0);var _=this.lines.get(e);return _?_.translateToString(r,o,c):""},t.prototype.getWrappedRangeForLine=function(e){for(var r=e,o=e;r>0&&this.lines.get(r).isWrapped;)r--;for(;o+1<this.lines.length&&this.lines.get(o+1).isWrapped;)o++;return{first:r,last:o}},t.prototype.setupTabStops=function(e){for(e!=null?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0},t.prototype.prevStop=function(e){for(e==null&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},t.prototype.nextStop=function(e){for(e==null&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},t.prototype.addMarker=function(e){var r=this,o=new b.Marker(e);return this.markers.push(o),o.register(this.lines.onTrim(function(c){o.line-=c,o.line<0&&o.dispose()})),o.register(this.lines.onInsert(function(c){o.line>=c.index&&(o.line+=c.amount)})),o.register(this.lines.onDelete(function(c){o.line>=c.index&&o.line<c.index+c.amount&&o.dispose(),o.line>c.index&&(o.line-=c.amount)})),o.register(o.onDispose(function(){return r._removeMarker(o)})),o},t.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},t.prototype.iterator=function(e,r,o,c,_){return new i(this,e,r,o,c,_)},t}();a.Buffer=d;var i=function(){function t(e,r,o,c,_,g){o===void 0&&(o=0),c===void 0&&(c=e.lines.length),_===void 0&&(_=0),g===void 0&&(g=0),this._buffer=e,this._trimRight=r,this._startIndex=o,this._endIndex=c,this._startOverscan=_,this._endOverscan=g,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return t.prototype.hasNext=function(){return this._current<this._endIndex},t.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var r="",o=e.first;o<=e.last;++o)r+=this._buffer.translateBufferLineToString(o,this._trimRight);return this._current=e.last+1,{range:e,content:r}},t}();a.BufferStringIterator=i},8437:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLine=a.DEFAULT_ATTR_DATA=void 0;var l=p(482),u=p(643),f=p(511),h=p(3734);a.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);var v=function(){function b(n,s,d){d===void 0&&(d=!1),this.isWrapped=d,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*n);for(var i=s||f.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]),t=0;t<n;++t)this.setCell(t,i);this.length=n}return b.prototype.get=function(n){var s=this._data[3*n+0],d=2097151&s;return[this._data[3*n+1],2097152&s?this._combined[n]:d?(0,l.stringFromCodePoint)(d):"",s>>22,2097152&s?this._combined[n].charCodeAt(this._combined[n].length-1):d]},b.prototype.set=function(n,s){this._data[3*n+1]=s[u.CHAR_DATA_ATTR_INDEX],s[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[n]=s[1],this._data[3*n+0]=2097152|n|s[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*n+0]=s[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|s[u.CHAR_DATA_WIDTH_INDEX]<<22},b.prototype.getWidth=function(n){return this._data[3*n+0]>>22},b.prototype.hasWidth=function(n){return 12582912&this._data[3*n+0]},b.prototype.getFg=function(n){return this._data[3*n+1]},b.prototype.getBg=function(n){return this._data[3*n+2]},b.prototype.hasContent=function(n){return 4194303&this._data[3*n+0]},b.prototype.getCodePoint=function(n){var s=this._data[3*n+0];return 2097152&s?this._combined[n].charCodeAt(this._combined[n].length-1):2097151&s},b.prototype.isCombined=function(n){return 2097152&this._data[3*n+0]},b.prototype.getString=function(n){var s=this._data[3*n+0];return 2097152&s?this._combined[n]:2097151&s?(0,l.stringFromCodePoint)(2097151&s):""},b.prototype.loadCell=function(n,s){var d=3*n;return s.content=this._data[d+0],s.fg=this._data[d+1],s.bg=this._data[d+2],2097152&s.content&&(s.combinedData=this._combined[n]),268435456&s.bg&&(s.extended=this._extendedAttrs[n]),s},b.prototype.setCell=function(n,s){2097152&s.content&&(this._combined[n]=s.combinedData),268435456&s.bg&&(this._extendedAttrs[n]=s.extended),this._data[3*n+0]=s.content,this._data[3*n+1]=s.fg,this._data[3*n+2]=s.bg},b.prototype.setCellFromCodePoint=function(n,s,d,i,t,e){268435456&t&&(this._extendedAttrs[n]=e),this._data[3*n+0]=s|d<<22,this._data[3*n+1]=i,this._data[3*n+2]=t},b.prototype.addCodepointToCell=function(n,s){var d=this._data[3*n+0];2097152&d?this._combined[n]+=(0,l.stringFromCodePoint)(s):(2097151&d?(this._combined[n]=(0,l.stringFromCodePoint)(2097151&d)+(0,l.stringFromCodePoint)(s),d&=-2097152,d|=2097152):d=s|1<<22,this._data[3*n+0]=d)},b.prototype.insertCells=function(n,s,d,i){if((n%=this.length)&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,(i==null?void 0:i.fg)||0,(i==null?void 0:i.bg)||0,(i==null?void 0:i.extended)||new h.ExtendedAttrs),s<this.length-n){for(var t=new f.CellData,e=this.length-n-s-1;e>=0;--e)this.setCell(n+s+e,this.loadCell(n+e,t));for(e=0;e<s;++e)this.setCell(n+e,d)}else for(e=n;e<this.length;++e)this.setCell(e,d);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(i==null?void 0:i.fg)||0,(i==null?void 0:i.bg)||0,(i==null?void 0:i.extended)||new h.ExtendedAttrs)},b.prototype.deleteCells=function(n,s,d,i){if(n%=this.length,s<this.length-n){for(var t=new f.CellData,e=0;e<this.length-n-s;++e)this.setCell(n+e,this.loadCell(n+s+e,t));for(e=this.length-s;e<this.length;++e)this.setCell(e,d)}else for(e=n;e<this.length;++e)this.setCell(e,d);n&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,(i==null?void 0:i.fg)||0,(i==null?void 0:i.bg)||0,(i==null?void 0:i.extended)||new h.ExtendedAttrs),this.getWidth(n)!==0||this.hasContent(n)||this.setCellFromCodePoint(n,0,1,(i==null?void 0:i.fg)||0,(i==null?void 0:i.bg)||0,(i==null?void 0:i.extended)||new h.ExtendedAttrs)},b.prototype.replaceCells=function(n,s,d,i){for(n&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,(i==null?void 0:i.fg)||0,(i==null?void 0:i.bg)||0,(i==null?void 0:i.extended)||new h.ExtendedAttrs),s<this.length&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s,0,1,(i==null?void 0:i.fg)||0,(i==null?void 0:i.bg)||0,(i==null?void 0:i.extended)||new h.ExtendedAttrs);n<s&&n<this.length;)this.setCell(n++,d)},b.prototype.resize=function(n,s){if(n!==this.length){if(n>this.length){var d=new Uint32Array(3*n);this.length&&(3*n<this._data.length?d.set(this._data.subarray(0,3*n)):d.set(this._data)),this._data=d;for(var i=this.length;i<n;++i)this.setCell(i,s)}else if(n){(d=new Uint32Array(3*n)).set(this._data.subarray(0,3*n)),this._data=d;var t=Object.keys(this._combined);for(i=0;i<t.length;i++){var e=parseInt(t[i],10);e>=n&&delete this._combined[e]}}else this._data=new Uint32Array(0),this._combined={};this.length=n}},b.prototype.fill=function(n){this._combined={},this._extendedAttrs={};for(var s=0;s<this.length;++s)this.setCell(s,n)},b.prototype.copyFrom=function(n){for(var s in this.length!==n.length?this._data=new Uint32Array(n._data):this._data.set(n._data),this.length=n.length,this._combined={},n._combined)this._combined[s]=n._combined[s];for(var s in this._extendedAttrs={},n._extendedAttrs)this._extendedAttrs[s]=n._extendedAttrs[s];this.isWrapped=n.isWrapped},b.prototype.clone=function(){var n=new b(0);for(var s in n._data=new Uint32Array(this._data),n.length=this.length,this._combined)n._combined[s]=this._combined[s];for(var s in this._extendedAttrs)n._extendedAttrs[s]=this._extendedAttrs[s];return n.isWrapped=this.isWrapped,n},b.prototype.getTrimmedLength=function(){for(var n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0])return n+(this._data[3*n+0]>>22);return 0},b.prototype.copyCellsFrom=function(n,s,d,i,t){var e=n._data;if(t)for(var r=i-1;r>=0;r--)for(var o=0;o<3;o++)this._data[3*(d+r)+o]=e[3*(s+r)+o];else for(r=0;r<i;r++)for(o=0;o<3;o++)this._data[3*(d+r)+o]=e[3*(s+r)+o];var c=Object.keys(n._combined);for(o=0;o<c.length;o++){var _=parseInt(c[o],10);_>=s&&(this._combined[_-s+d]=n._combined[_])}},b.prototype.translateToString=function(n,s,d){n===void 0&&(n=!1),s===void 0&&(s=0),d===void 0&&(d=this.length),n&&(d=Math.min(d,this.getTrimmedLength()));for(var i="";s<d;){var t=this._data[3*s+0],e=2097151&t;i+=2097152&t?this._combined[s]:e?(0,l.stringFromCodePoint)(e):u.WHITESPACE_CELL_CHAR,s+=t>>22||1}return i},b}();a.BufferLine=v},4841:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRangeLength=void 0,a.getRangeLength=function(p,l){if(p.start.y>p.end.y)throw new Error("Buffer range end ("+p.end.x+", "+p.end.y+") cannot be before start ("+p.start.x+", "+p.start.y+")");return l*(p.end.y-p.start.y)+(p.end.x-p.start.x+1)}},4634:(F,a)=>{function p(l,u,f){if(u===l.length-1)return l[u].getTrimmedLength();var h=!l[u].hasContent(f-1)&&l[u].getWidth(f-1)===1,v=l[u+1].getWidth(0)===2;return h&&v?f-1:f}Object.defineProperty(a,"__esModule",{value:!0}),a.getWrappedLineTrimmedLength=a.reflowSmallerGetNewLineLengths=a.reflowLargerApplyNewLayout=a.reflowLargerCreateNewLayout=a.reflowLargerGetLinesToRemove=void 0,a.reflowLargerGetLinesToRemove=function(l,u,f,h,v){for(var b=[],n=0;n<l.length-1;n++){var s=n,d=l.get(++s);if(d.isWrapped){for(var i=[l.get(n)];s<l.length&&d.isWrapped;)i.push(d),d=l.get(++s);if(h>=n&&h<s)n+=i.length-1;else{for(var t=0,e=p(i,t,u),r=1,o=0;r<i.length;){var c=p(i,r,u),_=c-o,g=f-e,S=Math.min(_,g);i[t].copyCellsFrom(i[r],o,e,S,!1),(e+=S)===f&&(t++,e=0),(o+=S)===c&&(r++,o=0),e===0&&t!==0&&i[t-1].getWidth(f-1)===2&&(i[t].copyCellsFrom(i[t-1],f-1,e++,1,!1),i[t-1].setCell(f-1,v))}i[t].replaceCells(e,f,v);for(var C=0,y=i.length-1;y>0&&(y>t||i[y].getTrimmedLength()===0);y--)C++;C>0&&(b.push(n+i.length-C),b.push(C)),n+=i.length-1}}}return b},a.reflowLargerCreateNewLayout=function(l,u){for(var f=[],h=0,v=u[h],b=0,n=0;n<l.length;n++)if(v===n){var s=u[++h];l.onDeleteEmitter.fire({index:n-b,amount:s}),n+=s-1,b+=s,v=u[++h]}else f.push(n);return{layout:f,countRemoved:b}},a.reflowLargerApplyNewLayout=function(l,u){for(var f=[],h=0;h<u.length;h++)f.push(l.get(u[h]));for(h=0;h<f.length;h++)l.set(h,f[h]);l.length=u.length},a.reflowSmallerGetNewLineLengths=function(l,u,f){for(var h=[],v=l.map(function(e,r){return p(l,r,u)}).reduce(function(e,r){return e+r}),b=0,n=0,s=0;s<v;){if(v-s<f){h.push(v-s);break}b+=f;var d=p(l,n,u);b>d&&(b-=d,n++);var i=l[n].getWidth(b-1)===2;i&&b--;var t=i?f-1:f;h.push(t),s+=t}return h},a.getWrappedLineTrimmedLength=p},5295:function(F,a,p){var l,u=this&&this.__extends||(l=function(b,n){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&(s[i]=d[i])},l(b,n)},function(b,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=b}l(b,n),b.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)});Object.defineProperty(a,"__esModule",{value:!0}),a.BufferSet=void 0;var f=p(9092),h=p(8460),v=function(b){function n(s,d){var i=b.call(this)||this;return i._optionsService=s,i._bufferService=d,i._onBufferActivate=i.register(new h.EventEmitter),i.reset(),i}return u(n,b),Object.defineProperty(n.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(n.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),n.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},n.prototype.activateAltBuffer=function(s){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(s),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},n.prototype.resize=function(s,d){this._normal.resize(s,d),this._alt.resize(s,d)},n.prototype.setupTabStops=function(s){this._normal.setupTabStops(s),this._alt.setupTabStops(s)},n}(p(844).Disposable);a.BufferSet=v},511:function(F,a,p){var l,u=this&&this.__extends||(l=function(n,s){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,i){d.__proto__=i}||function(d,i){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(d[t]=i[t])},l(n,s)},function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function d(){this.constructor=n}l(n,s),n.prototype=s===null?Object.create(s):(d.prototype=s.prototype,new d)});Object.defineProperty(a,"__esModule",{value:!0}),a.CellData=void 0;var f=p(482),h=p(643),v=p(3734),b=function(n){function s(){var d=n!==null&&n.apply(this,arguments)||this;return d.content=0,d.fg=0,d.bg=0,d.extended=new v.ExtendedAttrs,d.combinedData="",d}return u(s,n),s.fromCharData=function(d){var i=new s;return i.setFromCharData(d),i},s.prototype.isCombined=function(){return 2097152&this.content},s.prototype.getWidth=function(){return this.content>>22},s.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""},s.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},s.prototype.setFromCharData=function(d){this.fg=d[h.CHAR_DATA_ATTR_INDEX],this.bg=0;var i=!1;if(d[h.CHAR_DATA_CHAR_INDEX].length>2)i=!0;else if(d[h.CHAR_DATA_CHAR_INDEX].length===2){var t=d[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=t&&t<=56319){var e=d[h.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=e&&e<=57343?this.content=1024*(t-55296)+e-56320+65536|d[h.CHAR_DATA_WIDTH_INDEX]<<22:i=!0}else i=!0}else this.content=d[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[h.CHAR_DATA_WIDTH_INDEX]<<22;i&&(this.combinedData=d[h.CHAR_DATA_CHAR_INDEX],this.content=2097152|d[h.CHAR_DATA_WIDTH_INDEX]<<22)},s.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},s}(v.AttributeData);a.CellData=b},643:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WHITESPACE_CELL_CODE=a.WHITESPACE_CELL_WIDTH=a.WHITESPACE_CELL_CHAR=a.NULL_CELL_CODE=a.NULL_CELL_WIDTH=a.NULL_CELL_CHAR=a.CHAR_DATA_CODE_INDEX=a.CHAR_DATA_WIDTH_INDEX=a.CHAR_DATA_CHAR_INDEX=a.CHAR_DATA_ATTR_INDEX=a.DEFAULT_ATTR=a.DEFAULT_COLOR=void 0,a.DEFAULT_COLOR=256,a.DEFAULT_ATTR=256|a.DEFAULT_COLOR<<9,a.CHAR_DATA_ATTR_INDEX=0,a.CHAR_DATA_CHAR_INDEX=1,a.CHAR_DATA_WIDTH_INDEX=2,a.CHAR_DATA_CODE_INDEX=3,a.NULL_CELL_CHAR="",a.NULL_CELL_WIDTH=1,a.NULL_CELL_CODE=0,a.WHITESPACE_CELL_CHAR=" ",a.WHITESPACE_CELL_WIDTH=1,a.WHITESPACE_CELL_CODE=32},4863:function(F,a,p){var l,u=this&&this.__extends||(l=function(v,b){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])},l(v,b)},function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function n(){this.constructor=v}l(v,b),v.prototype=b===null?Object.create(b):(n.prototype=b.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0}),a.Marker=void 0;var f=p(8460),h=function(v){function b(n){var s=v.call(this)||this;return s.line=n,s._id=b._nextId++,s.isDisposed=!1,s._onDispose=new f.EventEmitter,s}return u(b,v),Object.defineProperty(b.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),b.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),v.prototype.dispose.call(this))},b._nextId=1,b}(p(844).Disposable);a.Marker=h},7116:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CHARSET=a.CHARSETS=void 0,a.CHARSETS={},a.DEFAULT_CHARSET=a.CHARSETS.B,a.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},a.CHARSETS.A={"#":"\xA3"},a.CHARSETS.B=void 0,a.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},a.CHARSETS.C=a.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},a.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},a.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},a.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},a.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},a.CHARSETS.E=a.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},a.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},a.CHARSETS.H=a.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},a.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(F,a)=>{var p,l;Object.defineProperty(a,"__esModule",{value:!0}),a.C1=a.C0=void 0,(l=a.C0||(a.C0={})).NUL="\0",l.SOH="",l.STX="",l.ETX="",l.EOT="",l.ENQ="",l.ACK="",l.BEL="\x07",l.BS="\b",l.HT="	",l.LF=`
`,l.VT="\v",l.FF="\f",l.CR="\r",l.SO="",l.SI="",l.DLE="",l.DC1="",l.DC2="",l.DC3="",l.DC4="",l.NAK="",l.SYN="",l.ETB="",l.CAN="",l.EM="",l.SUB="",l.ESC="",l.FS="",l.GS="",l.RS="",l.US="",l.SP=" ",l.DEL="\x7F",(p=a.C1||(a.C1={})).PAD="\x80",p.HOP="\x81",p.BPH="\x82",p.NBH="\x83",p.IND="\x84",p.NEL="\x85",p.SSA="\x86",p.ESA="\x87",p.HTS="\x88",p.HTJ="\x89",p.VTS="\x8A",p.PLD="\x8B",p.PLU="\x8C",p.RI="\x8D",p.SS2="\x8E",p.SS3="\x8F",p.DCS="\x90",p.PU1="\x91",p.PU2="\x92",p.STS="\x93",p.CCH="\x94",p.MW="\x95",p.SPA="\x96",p.EPA="\x97",p.SOS="\x98",p.SGCI="\x99",p.SCI="\x9A",p.CSI="\x9B",p.ST="\x9C",p.OSC="\x9D",p.PM="\x9E",p.APC="\x9F"},7399:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.evaluateKeyboardEvent=void 0;var l=p(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};a.evaluateKeyboardEvent=function(f,h,v,b){var n={type:0,cancel:!1,key:void 0},s=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?n.key=h?l.C0.ESC+"OA":l.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?n.key=h?l.C0.ESC+"OD":l.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?n.key=h?l.C0.ESC+"OC":l.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(n.key=h?l.C0.ESC+"OB":l.C0.ESC+"[B");break;case 8:if(f.shiftKey){n.key=l.C0.BS;break}if(f.altKey){n.key=l.C0.ESC+l.C0.DEL;break}n.key=l.C0.DEL;break;case 9:if(f.shiftKey){n.key=l.C0.ESC+"[Z";break}n.key=l.C0.HT,n.cancel=!0;break;case 13:n.key=f.altKey?l.C0.ESC+l.C0.CR:l.C0.CR,n.cancel=!0;break;case 27:n.key=l.C0.ESC,f.altKey&&(n.key=l.C0.ESC+l.C0.ESC),n.cancel=!0;break;case 37:if(f.metaKey)break;s?(n.key=l.C0.ESC+"[1;"+(s+1)+"D",n.key===l.C0.ESC+"[1;3D"&&(n.key=l.C0.ESC+(v?"b":"[1;5D"))):n.key=h?l.C0.ESC+"OD":l.C0.ESC+"[D";break;case 39:if(f.metaKey)break;s?(n.key=l.C0.ESC+"[1;"+(s+1)+"C",n.key===l.C0.ESC+"[1;3C"&&(n.key=l.C0.ESC+(v?"f":"[1;5C"))):n.key=h?l.C0.ESC+"OC":l.C0.ESC+"[C";break;case 38:if(f.metaKey)break;s?(n.key=l.C0.ESC+"[1;"+(s+1)+"A",v||n.key!==l.C0.ESC+"[1;3A"||(n.key=l.C0.ESC+"[1;5A")):n.key=h?l.C0.ESC+"OA":l.C0.ESC+"[A";break;case 40:if(f.metaKey)break;s?(n.key=l.C0.ESC+"[1;"+(s+1)+"B",v||n.key!==l.C0.ESC+"[1;3B"||(n.key=l.C0.ESC+"[1;5B")):n.key=h?l.C0.ESC+"OB":l.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(n.key=l.C0.ESC+"[2~");break;case 46:n.key=s?l.C0.ESC+"[3;"+(s+1)+"~":l.C0.ESC+"[3~";break;case 36:n.key=s?l.C0.ESC+"[1;"+(s+1)+"H":h?l.C0.ESC+"OH":l.C0.ESC+"[H";break;case 35:n.key=s?l.C0.ESC+"[1;"+(s+1)+"F":h?l.C0.ESC+"OF":l.C0.ESC+"[F";break;case 33:f.shiftKey?n.type=2:n.key=l.C0.ESC+"[5~";break;case 34:f.shiftKey?n.type=3:n.key=l.C0.ESC+"[6~";break;case 112:n.key=s?l.C0.ESC+"[1;"+(s+1)+"P":l.C0.ESC+"OP";break;case 113:n.key=s?l.C0.ESC+"[1;"+(s+1)+"Q":l.C0.ESC+"OQ";break;case 114:n.key=s?l.C0.ESC+"[1;"+(s+1)+"R":l.C0.ESC+"OR";break;case 115:n.key=s?l.C0.ESC+"[1;"+(s+1)+"S":l.C0.ESC+"OS";break;case 116:n.key=s?l.C0.ESC+"[15;"+(s+1)+"~":l.C0.ESC+"[15~";break;case 117:n.key=s?l.C0.ESC+"[17;"+(s+1)+"~":l.C0.ESC+"[17~";break;case 118:n.key=s?l.C0.ESC+"[18;"+(s+1)+"~":l.C0.ESC+"[18~";break;case 119:n.key=s?l.C0.ESC+"[19;"+(s+1)+"~":l.C0.ESC+"[19~";break;case 120:n.key=s?l.C0.ESC+"[20;"+(s+1)+"~":l.C0.ESC+"[20~";break;case 121:n.key=s?l.C0.ESC+"[21;"+(s+1)+"~":l.C0.ESC+"[21~";break;case 122:n.key=s?l.C0.ESC+"[23;"+(s+1)+"~":l.C0.ESC+"[23~";break;case 123:n.key=s?l.C0.ESC+"[24;"+(s+1)+"~":l.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(v&&!b||!f.altKey||f.metaKey)!v||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?n.key=f.key:f.key&&f.ctrlKey&&f.key==="_"&&(n.key=l.C0.US):f.keyCode===65&&(n.type=1);else{var d=u[f.keyCode],i=d==null?void 0:d[f.shiftKey?1:0];if(i)n.key=l.C0.ESC+i;else if(f.keyCode>=65&&f.keyCode<=90){var t=f.ctrlKey?f.keyCode-64:f.keyCode+32;n.key=l.C0.ESC+String.fromCharCode(t)}}else f.keyCode>=65&&f.keyCode<=90?n.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?n.key=l.C0.NUL:f.keyCode>=51&&f.keyCode<=55?n.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?n.key=l.C0.DEL:f.keyCode===219?n.key=l.C0.ESC:f.keyCode===220?n.key=l.C0.FS:f.keyCode===221&&(n.key=l.C0.GS)}return n}},482:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Utf8ToUtf32=a.StringToUtf32=a.utf32ToString=a.stringFromCodePoint=void 0,a.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},a.utf32ToString=function(u,f,h){f===void 0&&(f=0),h===void 0&&(h=u.length);for(var v="",b=f;b<h;++b){var n=u[b];n>65535?(n-=65536,v+=String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):v+=String.fromCharCode(n)}return v};var p=function(){function u(){this._interim=0}return u.prototype.clear=function(){this._interim=0},u.prototype.decode=function(f,h){var v=f.length;if(!v)return 0;var b=0,n=0;this._interim&&(56320<=(i=f.charCodeAt(n++))&&i<=57343?h[b++]=1024*(this._interim-55296)+i-56320+65536:(h[b++]=this._interim,h[b++]=i),this._interim=0);for(var s=n;s<v;++s){var d=f.charCodeAt(s);if(55296<=d&&d<=56319){if(++s>=v)return this._interim=d,b;var i;56320<=(i=f.charCodeAt(s))&&i<=57343?h[b++]=1024*(d-55296)+i-56320+65536:(h[b++]=d,h[b++]=i)}else d!==65279&&(h[b++]=d)}return b},u}();a.StringToUtf32=p;var l=function(){function u(){this.interim=new Uint8Array(3)}return u.prototype.clear=function(){this.interim.fill(0)},u.prototype.decode=function(f,h){var v=f.length;if(!v)return 0;var b,n,s,d,i=0,t=0,e=0;if(this.interim[0]){var r=!1,o=this.interim[0];o&=(224&o)==192?31:(240&o)==224?15:7;for(var c=0,_=void 0;(_=63&this.interim[++c])&&c<4;)o<<=6,o|=_;for(var g=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,S=g-c;e<S;){if(e>=v)return 0;if((192&(_=f[e++]))!=128){e--,r=!0;break}this.interim[c++]=_,o<<=6,o|=63&_}r||(g===2?o<128?e--:h[i++]=o:g===3?o<2048||o>=55296&&o<=57343||o===65279||(h[i++]=o):o<65536||o>1114111||(h[i++]=o)),this.interim.fill(0)}for(var C=v-4,y=e;y<v;){for(;!(!(y<C)||128&(b=f[y])||128&(n=f[y+1])||128&(s=f[y+2])||128&(d=f[y+3]));)h[i++]=b,h[i++]=n,h[i++]=s,h[i++]=d,y+=4;if((b=f[y++])<128)h[i++]=b;else if((224&b)==192){if(y>=v)return this.interim[0]=b,i;if((192&(n=f[y++]))!=128){y--;continue}if((t=(31&b)<<6|63&n)<128){y--;continue}h[i++]=t}else if((240&b)==224){if(y>=v)return this.interim[0]=b,i;if((192&(n=f[y++]))!=128){y--;continue}if(y>=v)return this.interim[0]=b,this.interim[1]=n,i;if((192&(s=f[y++]))!=128){y--;continue}if((t=(15&b)<<12|(63&n)<<6|63&s)<2048||t>=55296&&t<=57343||t===65279)continue;h[i++]=t}else if((248&b)==240){if(y>=v)return this.interim[0]=b,i;if((192&(n=f[y++]))!=128){y--;continue}if(y>=v)return this.interim[0]=b,this.interim[1]=n,i;if((192&(s=f[y++]))!=128){y--;continue}if(y>=v)return this.interim[0]=b,this.interim[1]=n,this.interim[2]=s,i;if((192&(d=f[y++]))!=128){y--;continue}if((t=(7&b)<<18|(63&n)<<12|(63&s)<<6|63&d)<65536||t>1114111)continue;h[i++]=t}}return i},u}();a.Utf8ToUtf32=l},225:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeV6=void 0;var l,u=p(8273),f=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],v=function(){function b(){if(this.version="6",!l){l=new Uint8Array(65536),(0,u.fill)(l,1),l[0]=0,(0,u.fill)(l,0,1,32),(0,u.fill)(l,0,127,160),(0,u.fill)(l,2,4352,4448),l[9001]=2,l[9002]=2,(0,u.fill)(l,2,11904,42192),l[12351]=1,(0,u.fill)(l,2,44032,55204),(0,u.fill)(l,2,63744,64256),(0,u.fill)(l,2,65040,65050),(0,u.fill)(l,2,65072,65136),(0,u.fill)(l,2,65280,65377),(0,u.fill)(l,2,65504,65511);for(var n=0;n<f.length;++n)(0,u.fill)(l,0,f[n][0],f[n][1]+1)}}return b.prototype.wcwidth=function(n){return n<32?0:n<127?1:n<65536?l[n]:function(s,d){var i,t=0,e=d.length-1;if(s<d[0][0]||s>d[e][1])return!1;for(;e>=t;)if(s>d[i=t+e>>1][1])t=i+1;else{if(!(s<d[i][0]))return!0;e=i-1}return!1}(n,h)?0:n>=131072&&n<=196605||n>=196608&&n<=262141?2:1},b}();a.UnicodeV6=v},5981:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WriteBuffer=void 0;var p=typeof queueMicrotask=="undefined"?function(u){Promise.resolve().then(u)}:queueMicrotask,l=function(){function u(f){this._action=f,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0}return u.prototype.writeSync=function(f,h){if(h!==void 0&&this._syncCalls>h)this._syncCalls=0;else if(this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);var b=this._callbacks.shift();b&&b()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},u.prototype.write=function(f,h){var v=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return v._innerWrite()})),this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(h)},u.prototype._innerWrite=function(f,h){var v=this;f===void 0&&(f=0),h===void 0&&(h=!0);for(var b=f||Date.now();this._writeBuffer.length>this._bufferOffset;){var n=this._writeBuffer[this._bufferOffset],s=this._action(n,h);if(s)return void s.catch(function(i){return p(function(){throw i}),Promise.resolve(!1)}).then(function(i){return Date.now()-b>=12?setTimeout(function(){return v._innerWrite(0,i)}):v._innerWrite(b,i)});var d=this._callbacks[this._bufferOffset];if(d&&d(),this._bufferOffset++,this._pendingData-=n.length,Date.now()-b>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return v._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0)},u}();a.WriteBuffer=l},5941:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toRgbString=a.parseColor=void 0;var p=/^([\da-f]{1})\/([\da-f]{1})\/([\da-f]{1})$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,l=/^[\da-f]+$/;function u(f,h){var v=f.toString(16),b=v.length<2?"0"+v:v;switch(h){case 4:return v[0];case 8:return b;case 12:return(b+b).slice(0,3);default:return b+b}}a.parseColor=function(f){if(f){var h=f.toLowerCase();if(h.indexOf("rgb:")===0){h=h.slice(4);var v=p.exec(h);if(v){var b=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/b*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/b*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/b*255)]}}else if(h.indexOf("#")===0&&(h=h.slice(1),l.exec(h)&&[3,6,9,12].includes(h.length))){for(var n=h.length/3,s=[0,0,0],d=0;d<3;++d){var i=parseInt(h.slice(n*d,n*d+n),16);s[d]=n===1?i<<4:n===2?i:n===3?i>>4:i>>8}return s}}},a.toRgbString=function(f,h){h===void 0&&(h=16);var v=f[0],b=f[1],n=f[2];return"rgb:"+u(v,h)+"/"+u(b,h)+"/"+u(n,h)}},5770:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PAYLOAD_LIMIT=void 0,a.PAYLOAD_LIMIT=1e7},6351:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DcsHandler=a.DcsParser=void 0;var l=p(482),u=p(8742),f=p(5770),h=[],v=function(){function s(){this._handlers=Object.create(null),this._active=h,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return s.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=h},s.prototype.registerHandler=function(d,i){this._handlers[d]===void 0&&(this._handlers[d]=[]);var t=this._handlers[d];return t.push(i),{dispose:function(){var e=t.indexOf(i);e!==-1&&t.splice(e,1)}}},s.prototype.clearHandler=function(d){this._handlers[d]&&delete this._handlers[d]},s.prototype.setHandlerFallback=function(d){this._handlerFb=d},s.prototype.reset=function(){if(this._active.length)for(var d=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;d>=0;--d)this._active[d].unhook(!1);this._stack.paused=!1,this._active=h,this._ident=0},s.prototype.hook=function(d,i){if(this.reset(),this._ident=d,this._active=this._handlers[d]||h,this._active.length)for(var t=this._active.length-1;t>=0;t--)this._active[t].hook(i);else this._handlerFb(this._ident,"HOOK",i)},s.prototype.put=function(d,i,t){if(this._active.length)for(var e=this._active.length-1;e>=0;e--)this._active[e].put(d,i,t);else this._handlerFb(this._ident,"PUT",(0,l.utf32ToString)(d,i,t))},s.prototype.unhook=function(d,i){if(i===void 0&&(i=!0),this._active.length){var t=!1,e=this._active.length-1,r=!1;if(this._stack.paused&&(e=this._stack.loopPosition-1,t=i,r=this._stack.fallThrough,this._stack.paused=!1),!r&&t===!1){for(;e>=0&&(t=this._active[e].unhook(d))!==!0;e--)if(t instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=e,this._stack.fallThrough=!1,t;e--}for(;e>=0;e--)if((t=this._active[e].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=e,this._stack.fallThrough=!0,t}else this._handlerFb(this._ident,"UNHOOK",d);this._active=h,this._ident=0},s}();a.DcsParser=v;var b=new u.Params;b.addParam(0);var n=function(){function s(d){this._handler=d,this._data="",this._params=b,this._hitLimit=!1}return s.prototype.hook=function(d){this._params=d.length>1||d.params[0]?d.clone():b,this._data="",this._hitLimit=!1},s.prototype.put=function(d,i,t){this._hitLimit||(this._data+=(0,l.utf32ToString)(d,i,t),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},s.prototype.unhook=function(d){var i=this,t=!1;if(this._hitLimit)t=!1;else if(d&&(t=this._handler(this._data,this._params))instanceof Promise)return t.then(function(e){return i._params=b,i._data="",i._hitLimit=!1,e});return this._params=b,this._data="",this._hitLimit=!1,t},s}();a.DcsHandler=n},2015:function(F,a,p){var l,u=this&&this.__extends||(l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])},l(t,e)},function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}l(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(a,"__esModule",{value:!0}),a.EscapeSequenceParser=a.VT500_TRANSITION_TABLE=a.TransitionTable=void 0;var f=p(844),h=p(8273),v=p(8742),b=p(6242),n=p(6351),s=function(){function t(e){this.table=new Uint8Array(e)}return t.prototype.setDefault=function(e,r){(0,h.fill)(this.table,e<<4|r)},t.prototype.add=function(e,r,o,c){this.table[r<<8|e]=o<<4|c},t.prototype.addMany=function(e,r,o,c){for(var _=0;_<e.length;_++)this.table[r<<8|e[_]]=o<<4|c},t}();a.TransitionTable=s;var d=160;a.VT500_TRANSITION_TABLE=function(){var t=new s(4095),e=Array.apply(null,Array(256)).map(function(S,C){return C}),r=function(S,C){return e.slice(S,C)},o=r(32,127),c=r(0,24);c.push(25),c.push.apply(c,r(28,32));var _,g=r(0,14);for(_ in t.setDefault(1,0),t.addMany(o,0,2,0),g)t.addMany([24,26,153,154],_,3,0),t.addMany(r(128,144),_,3,0),t.addMany(r(144,152),_,3,0),t.add(156,_,0,0),t.add(27,_,11,1),t.add(157,_,4,8),t.addMany([152,158,159],_,0,7),t.add(155,_,11,3),t.add(144,_,11,9);return t.addMany(c,0,3,0),t.addMany(c,1,3,1),t.add(127,1,0,1),t.addMany(c,8,0,8),t.addMany(c,3,3,3),t.add(127,3,0,3),t.addMany(c,4,3,4),t.add(127,4,0,4),t.addMany(c,6,3,6),t.addMany(c,5,3,5),t.add(127,5,0,5),t.addMany(c,2,3,2),t.add(127,2,0,2),t.add(93,1,4,8),t.addMany(o,8,5,8),t.add(127,8,5,8),t.addMany([156,27,24,26,7],8,6,0),t.addMany(r(28,32),8,0,8),t.addMany([88,94,95],1,0,7),t.addMany(o,7,0,7),t.addMany(c,7,0,7),t.add(156,7,0,0),t.add(127,7,0,7),t.add(91,1,11,3),t.addMany(r(64,127),3,7,0),t.addMany(r(48,60),3,8,4),t.addMany([60,61,62,63],3,9,4),t.addMany(r(48,60),4,8,4),t.addMany(r(64,127),4,7,0),t.addMany([60,61,62,63],4,0,6),t.addMany(r(32,64),6,0,6),t.add(127,6,0,6),t.addMany(r(64,127),6,0,0),t.addMany(r(32,48),3,9,5),t.addMany(r(32,48),5,9,5),t.addMany(r(48,64),5,0,6),t.addMany(r(64,127),5,7,0),t.addMany(r(32,48),4,9,5),t.addMany(r(32,48),1,9,2),t.addMany(r(32,48),2,9,2),t.addMany(r(48,127),2,10,0),t.addMany(r(48,80),1,10,0),t.addMany(r(81,88),1,10,0),t.addMany([89,90,92],1,10,0),t.addMany(r(96,127),1,10,0),t.add(80,1,11,9),t.addMany(c,9,0,9),t.add(127,9,0,9),t.addMany(r(28,32),9,0,9),t.addMany(r(32,48),9,9,12),t.addMany(r(48,60),9,8,10),t.addMany([60,61,62,63],9,9,10),t.addMany(c,11,0,11),t.addMany(r(32,128),11,0,11),t.addMany(r(28,32),11,0,11),t.addMany(c,10,0,10),t.add(127,10,0,10),t.addMany(r(28,32),10,0,10),t.addMany(r(48,60),10,8,10),t.addMany([60,61,62,63],10,0,11),t.addMany(r(32,48),10,9,12),t.addMany(c,12,0,12),t.add(127,12,0,12),t.addMany(r(28,32),12,0,12),t.addMany(r(32,48),12,9,12),t.addMany(r(48,64),12,0,11),t.addMany(r(64,127),12,12,13),t.addMany(r(64,127),10,12,13),t.addMany(r(64,127),9,12,13),t.addMany(c,13,13,13),t.addMany(o,13,13,13),t.add(127,13,0,13),t.addMany([27,156,24,26],13,14,0),t.add(d,0,2,0),t.add(d,8,5,8),t.add(d,6,0,6),t.add(d,11,0,11),t.add(d,13,13,13),t}();var i=function(t){function e(r){r===void 0&&(r=a.VT500_TRANSITION_TABLE);var o=t.call(this)||this;return o._transitions=r,o._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},o.initialState=0,o.currentState=o.initialState,o._params=new v.Params,o._params.addParam(0),o._collect=0,o.precedingCodepoint=0,o._printHandlerFb=function(c,_,g){},o._executeHandlerFb=function(c){},o._csiHandlerFb=function(c,_){},o._escHandlerFb=function(c){},o._errorHandlerFb=function(c){return c},o._printHandler=o._printHandlerFb,o._executeHandlers=Object.create(null),o._csiHandlers=Object.create(null),o._escHandlers=Object.create(null),o._oscParser=new b.OscParser,o._dcsParser=new n.DcsParser,o._errorHandler=o._errorHandlerFb,o.registerEscHandler({final:"\\"},function(){return!0}),o}return u(e,t),e.prototype._identifier=function(r,o){o===void 0&&(o=[64,126]);var c=0;if(r.prefix){if(r.prefix.length>1)throw new Error("only one byte as prefix supported");if((c=r.prefix.charCodeAt(0))&&60>c||c>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(r.intermediates){if(r.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var _=0;_<r.intermediates.length;++_){var g=r.intermediates.charCodeAt(_);if(32>g||g>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");c<<=8,c|=g}}if(r.final.length!==1)throw new Error("final must be a single byte");var S=r.final.charCodeAt(0);if(o[0]>S||S>o[1])throw new Error("final must be in range "+o[0]+" .. "+o[1]);return(c<<=8)|S},e.prototype.identToString=function(r){for(var o=[];r;)o.push(String.fromCharCode(255&r)),r>>=8;return o.reverse().join("")},e.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},e.prototype.setPrintHandler=function(r){this._printHandler=r},e.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},e.prototype.registerEscHandler=function(r,o){var c=this._identifier(r,[48,126]);this._escHandlers[c]===void 0&&(this._escHandlers[c]=[]);var _=this._escHandlers[c];return _.push(o),{dispose:function(){var g=_.indexOf(o);g!==-1&&_.splice(g,1)}}},e.prototype.clearEscHandler=function(r){this._escHandlers[this._identifier(r,[48,126])]&&delete this._escHandlers[this._identifier(r,[48,126])]},e.prototype.setEscHandlerFallback=function(r){this._escHandlerFb=r},e.prototype.setExecuteHandler=function(r,o){this._executeHandlers[r.charCodeAt(0)]=o},e.prototype.clearExecuteHandler=function(r){this._executeHandlers[r.charCodeAt(0)]&&delete this._executeHandlers[r.charCodeAt(0)]},e.prototype.setExecuteHandlerFallback=function(r){this._executeHandlerFb=r},e.prototype.registerCsiHandler=function(r,o){var c=this._identifier(r);this._csiHandlers[c]===void 0&&(this._csiHandlers[c]=[]);var _=this._csiHandlers[c];return _.push(o),{dispose:function(){var g=_.indexOf(o);g!==-1&&_.splice(g,1)}}},e.prototype.clearCsiHandler=function(r){this._csiHandlers[this._identifier(r)]&&delete this._csiHandlers[this._identifier(r)]},e.prototype.setCsiHandlerFallback=function(r){this._csiHandlerFb=r},e.prototype.registerDcsHandler=function(r,o){return this._dcsParser.registerHandler(this._identifier(r),o)},e.prototype.clearDcsHandler=function(r){this._dcsParser.clearHandler(this._identifier(r))},e.prototype.setDcsHandlerFallback=function(r){this._dcsParser.setHandlerFallback(r)},e.prototype.registerOscHandler=function(r,o){return this._oscParser.registerHandler(r,o)},e.prototype.clearOscHandler=function(r){this._oscParser.clearHandler(r)},e.prototype.setOscHandlerFallback=function(r){this._oscParser.setHandlerFallback(r)},e.prototype.setErrorHandler=function(r){this._errorHandler=r},e.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},e.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])},e.prototype._preserveStack=function(r,o,c,_,g){this._parseStack.state=r,this._parseStack.handlers=o,this._parseStack.handlerPos=c,this._parseStack.transition=_,this._parseStack.chunkPos=g},e.prototype.parse=function(r,o,c){var _,g=0,S=0,C=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,C=this._parseStack.chunkPos+1;else{if(c===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var y=this._parseStack.handlers,m=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(c===!1&&m>-1){for(;m>=0&&(_=y[m](this._params))!==!0;m--)if(_ instanceof Promise)return this._parseStack.handlerPos=m,_}this._parseStack.handlers=[];break;case 4:if(c===!1&&m>-1){for(;m>=0&&(_=y[m]())!==!0;m--)if(_ instanceof Promise)return this._parseStack.handlerPos=m,_}this._parseStack.handlers=[];break;case 6:if(g=r[this._parseStack.chunkPos],_=this._dcsParser.unhook(g!==24&&g!==26,c))return _;g===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(g=r[this._parseStack.chunkPos],_=this._oscParser.end(g!==24&&g!==26,c))return _;g===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,C=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var E=C;E<o;++E){switch(g=r[E],(S=this._transitions.table[this.currentState<<8|(g<160?g:d)])>>4){case 2:for(var L=E+1;;++L){if(L>=o||(g=r[L])<32||g>126&&g<d){this._printHandler(r,E,L),E=L-1;break}if(++L>=o||(g=r[L])<32||g>126&&g<d){this._printHandler(r,E,L),E=L-1;break}if(++L>=o||(g=r[L])<32||g>126&&g<d){this._printHandler(r,E,L),E=L-1;break}if(++L>=o||(g=r[L])<32||g>126&&g<d){this._printHandler(r,E,L),E=L-1;break}}break;case 3:this._executeHandlers[g]?this._executeHandlers[g]():this._executeHandlerFb(g),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:E,code:g,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var T=(y=this._csiHandlers[this._collect<<8|g])?y.length-1:-1;T>=0&&(_=y[T](this._params))!==!0;T--)if(_ instanceof Promise)return this._preserveStack(3,y,T,S,E),_;T<0&&this._csiHandlerFb(this._collect<<8|g,this._params),this.precedingCodepoint=0;break;case 8:do switch(g){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(g-48)}while(++E<o&&(g=r[E])>47&&g<60);E--;break;case 9:this._collect<<=8,this._collect|=g;break;case 10:for(var B=this._escHandlers[this._collect<<8|g],w=B?B.length-1:-1;w>=0&&(_=B[w]())!==!0;w--)if(_ instanceof Promise)return this._preserveStack(4,B,w,S,E),_;w<0&&this._escHandlerFb(this._collect<<8|g),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|g,this._params);break;case 13:for(var M=E+1;;++M)if(M>=o||(g=r[M])===24||g===26||g===27||g>127&&g<d){this._dcsParser.put(r,E,M),E=M-1;break}break;case 14:if(_=this._dcsParser.unhook(g!==24&&g!==26))return this._preserveStack(6,[],0,S,E),_;g===27&&(S|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var A=E+1;;A++)if(A>=o||(g=r[A])<32||g>127&&g<d){this._oscParser.put(r,E,A),E=A-1;break}break;case 6:if(_=this._oscParser.end(g!==24&&g!==26))return this._preserveStack(5,[],0,S,E),_;g===27&&(S|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&S}},e}(f.Disposable);a.EscapeSequenceParser=i},6242:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OscHandler=a.OscParser=void 0;var l=p(5770),u=p(482),f=[],h=function(){function b(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return b.prototype.registerHandler=function(n,s){this._handlers[n]===void 0&&(this._handlers[n]=[]);var d=this._handlers[n];return d.push(s),{dispose:function(){var i=d.indexOf(s);i!==-1&&d.splice(i,1)}}},b.prototype.clearHandler=function(n){this._handlers[n]&&delete this._handlers[n]},b.prototype.setHandlerFallback=function(n){this._handlerFb=n},b.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=f},b.prototype.reset=function(){if(this._state===2)for(var n=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;n>=0;--n)this._active[n].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0},b.prototype._start=function(){if(this._active=this._handlers[this._id]||f,this._active.length)for(var n=this._active.length-1;n>=0;n--)this._active[n].start();else this._handlerFb(this._id,"START")},b.prototype._put=function(n,s,d){if(this._active.length)for(var i=this._active.length-1;i>=0;i--)this._active[i].put(n,s,d);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(n,s,d))},b.prototype.start=function(){this.reset(),this._state=1},b.prototype.put=function(n,s,d){if(this._state!==3){if(this._state===1)for(;s<d;){var i=n[s++];if(i===59){this._state=2,this._start();break}if(i<48||57<i)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+i-48}this._state===2&&d-s>0&&this._put(n,s,d)}},b.prototype.end=function(n,s){if(s===void 0&&(s=!0),this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){var d=!1,i=this._active.length-1,t=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,d=s,t=this._stack.fallThrough,this._stack.paused=!1),!t&&d===!1){for(;i>=0&&(d=this._active[i].end(n))!==!0;i--)if(d instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,d;i--}for(;i>=0;i--)if((d=this._active[i].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,d}else this._handlerFb(this._id,"END",n);this._active=f,this._id=-1,this._state=0}},b}();a.OscParser=h;var v=function(){function b(n){this._handler=n,this._data="",this._hitLimit=!1}return b.prototype.start=function(){this._data="",this._hitLimit=!1},b.prototype.put=function(n,s,d){this._hitLimit||(this._data+=(0,u.utf32ToString)(n,s,d),this._data.length>l.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},b.prototype.end=function(n){var s=this,d=!1;if(this._hitLimit)d=!1;else if(n&&(d=this._handler(this._data))instanceof Promise)return d.then(function(i){return s._data="",s._hitLimit=!1,i});return this._data="",this._hitLimit=!1,d},b}();a.OscHandler=v},8742:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Params=void 0;var p=2147483647,l=function(){function u(f,h){if(f===void 0&&(f=32),h===void 0&&(h=32),this.maxLength=f,this.maxSubParamsLength=h,h>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(h),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return u.fromArray=function(f){var h=new u;if(!f.length)return h;for(var v=Array.isArray(f[0])?1:0;v<f.length;++v){var b=f[v];if(Array.isArray(b))for(var n=0;n<b.length;++n)h.addSubParam(b[n]);else h.addParam(b)}return h},u.prototype.clone=function(){var f=new u(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f},u.prototype.toArray=function(){for(var f=[],h=0;h<this.length;++h){f.push(this.params[h]);var v=this._subParamsIdx[h]>>8,b=255&this._subParamsIdx[h];b-v>0&&f.push(Array.prototype.slice.call(this._subParams,v,b))}return f},u.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},u.prototype.addParam=function(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>p?p:f}},u.prototype.addSubParam=function(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>p?p:f,this._subParamsIdx[this.length-1]++}},u.prototype.hasSubParams=function(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0},u.prototype.getSubParams=function(f){var h=this._subParamsIdx[f]>>8,v=255&this._subParamsIdx[f];return v-h>0?this._subParams.subarray(h,v):null},u.prototype.getSubParamsAll=function(){for(var f={},h=0;h<this.length;++h){var v=this._subParamsIdx[h]>>8,b=255&this._subParamsIdx[h];b-v>0&&(f[h]=this._subParams.slice(v,b))}return f},u.prototype.addDigit=function(f){var h;if(!(this._rejectDigits||!(h=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var v=this._digitIsSub?this._subParams:this.params,b=v[h-1];v[h-1]=~b?Math.min(10*b+f,p):f}},u}();a.Params=l},5741:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AddonManager=void 0;var p=function(){function l(){this._addons=[]}return l.prototype.dispose=function(){for(var u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()},l.prototype.loadAddon=function(u,f){var h=this,v={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(v),f.dispose=function(){return h._wrappedAddonDispose(v)},f.activate(u)},l.prototype._wrappedAddonDispose=function(u){if(!u.isDisposed){for(var f=-1,h=0;h<this._addons.length;h++)if(this._addons[h]===u){f=h;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(f,1)}},l}();a.AddonManager=p},8771:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferApiView=void 0;var l=p(3785),u=p(511),f=function(){function h(v,b){this._buffer=v,this.type=b}return h.prototype.init=function(v){return this._buffer=v,this},Object.defineProperty(h.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),h.prototype.getLine=function(v){var b=this._buffer.lines.get(v);if(b)return new l.BufferLineApiView(b)},h.prototype.getNullCell=function(){return new u.CellData},h}();a.BufferApiView=f},3785:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLineApiView=void 0;var l=p(511),u=function(){function f(h){this._line=h}return Object.defineProperty(f.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),f.prototype.getCell=function(h,v){if(!(h<0||h>=this._line.length))return v?(this._line.loadCell(h,v),v):this._line.loadCell(h,new l.CellData)},f.prototype.translateToString=function(h,v,b){return this._line.translateToString(h,v,b)},f}();a.BufferLineApiView=u},8285:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferNamespaceApi=void 0;var l=p(8771),u=p(8460),f=function(){function h(v){var b=this;this._core=v,this._onBufferChange=new u.EventEmitter,this._normal=new l.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new l.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return b._onBufferChange.fire(b.active)})}return Object.defineProperty(h.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),h}();a.BufferNamespaceApi=f},7975:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParserApi=void 0;var p=function(){function l(u){this._core=u}return l.prototype.registerCsiHandler=function(u,f){return this._core.registerCsiHandler(u,function(h){return f(h.toArray())})},l.prototype.addCsiHandler=function(u,f){return this.registerCsiHandler(u,f)},l.prototype.registerDcsHandler=function(u,f){return this._core.registerDcsHandler(u,function(h,v){return f(h,v.toArray())})},l.prototype.addDcsHandler=function(u,f){return this.registerDcsHandler(u,f)},l.prototype.registerEscHandler=function(u,f){return this._core.registerEscHandler(u,f)},l.prototype.addEscHandler=function(u,f){return this.registerEscHandler(u,f)},l.prototype.registerOscHandler=function(u,f){return this._core.registerOscHandler(u,f)},l.prototype.addOscHandler=function(u,f){return this.registerOscHandler(u,f)},l}();a.ParserApi=p},7090:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeApi=void 0;var p=function(){function l(u){this._core=u}return l.prototype.register=function(u){this._core.unicodeService.register(u)},Object.defineProperty(l.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(u){this._core.unicodeService.activeVersion=u},enumerable:!1,configurable:!0}),l}();a.UnicodeApi=p},744:function(F,a,p){var l,u=this&&this.__extends||(l=function(i,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},l(i,t)},function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}l(i,t),i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}),f=this&&this.__decorate||function(i,t,e,r){var o,c=arguments.length,_=c<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(i,t,e,r);else for(var g=i.length-1;g>=0;g--)(o=i[g])&&(_=(c<3?o(_):c>3?o(t,e,_):o(t,e))||_);return c>3&&_&&Object.defineProperty(t,e,_),_},h=this&&this.__param||function(i,t){return function(e,r){t(e,r,i)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferService=a.MINIMUM_ROWS=a.MINIMUM_COLS=void 0;var v=p(2585),b=p(5295),n=p(8460),s=p(844);a.MINIMUM_COLS=2,a.MINIMUM_ROWS=1;var d=function(i){function t(e){var r=i.call(this)||this;return r._optionsService=e,r.isUserScrolling=!1,r._onResize=new n.EventEmitter,r._onScroll=new n.EventEmitter,r.cols=Math.max(e.rawOptions.cols||0,a.MINIMUM_COLS),r.rows=Math.max(e.rawOptions.rows||0,a.MINIMUM_ROWS),r.buffers=new b.BufferSet(e,r),r}return u(t,i),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){i.prototype.dispose.call(this),this.buffers.dispose()},t.prototype.resize=function(e,r){this.cols=e,this.rows=r,this.buffers.resize(e,r),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:r})},t.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},t.prototype.scroll=function(e,r){r===void 0&&(r=!1);var o,c=this.buffer;(o=this._cachedBlankLine)&&o.length===this.cols&&o.getFg(0)===e.fg&&o.getBg(0)===e.bg||(o=c.getBlankLine(e,r),this._cachedBlankLine=o),o.isWrapped=r;var _=c.ybase+c.scrollTop,g=c.ybase+c.scrollBottom;if(c.scrollTop===0){var S=c.lines.isFull;g===c.lines.length-1?S?c.lines.recycle().copyFrom(o):c.lines.push(o.clone()):c.lines.splice(g+1,0,o.clone()),S?this.isUserScrolling&&(c.ydisp=Math.max(c.ydisp-1,0)):(c.ybase++,this.isUserScrolling||c.ydisp++)}else{var C=g-_+1;c.lines.shiftElements(_+1,C-1,-1),c.lines.set(g,o.clone())}this.isUserScrolling||(c.ydisp=c.ybase),this._onScroll.fire(c.ydisp)},t.prototype.scrollLines=function(e,r,o){var c=this.buffer;if(e<0){if(c.ydisp===0)return;this.isUserScrolling=!0}else e+c.ydisp>=c.ybase&&(this.isUserScrolling=!1);var _=c.ydisp;c.ydisp=Math.max(Math.min(c.ydisp+e,c.ybase),0),_!==c.ydisp&&(r||this._onScroll.fire(c.ydisp))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},t.prototype.scrollToLine=function(e){var r=e-this.buffer.ydisp;r!==0&&this.scrollLines(r)},f([h(0,v.IOptionsService)],t)}(s.Disposable);a.BufferService=d},7994:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CharsetService=void 0;var p=function(){function l(){this.glevel=0,this._charsets=[]}return l.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},l.prototype.setgLevel=function(u){this.glevel=u,this.charset=this._charsets[u]},l.prototype.setgCharset=function(u,f){this._charsets[u]=f,this.glevel===u&&(this.charset=f)},l}();a.CharsetService=p},1753:function(F,a,p){var l=this&&this.__decorate||function(i,t,e,r){var o,c=arguments.length,_=c<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(i,t,e,r);else for(var g=i.length-1;g>=0;g--)(o=i[g])&&(_=(c<3?o(_):c>3?o(t,e,_):o(t,e))||_);return c>3&&_&&Object.defineProperty(t,e,_),_},u=this&&this.__param||function(i,t){return function(e,r){t(e,r,i)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreMouseService=void 0;var f=p(2585),h=p(8460),v={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(i){return i.button!==4&&i.action===1&&(i.ctrl=!1,i.alt=!1,i.shift=!1,!0)}},VT200:{events:19,restrict:function(i){return i.action!==32}},DRAG:{events:23,restrict:function(i){return i.action!==32||i.button!==3}},ANY:{events:31,restrict:function(i){return!0}}};function b(i,t){var e=(i.ctrl?16:0)|(i.shift?4:0)|(i.alt?8:0);return i.button===4?(e|=64,e|=i.action):(e|=3&i.button,4&i.button&&(e|=64),8&i.button&&(e|=128),i.action===32?e|=32:i.action!==0||t||(e|=3)),e}var n=String.fromCharCode,s={DEFAULT:function(i){var t=[b(i,!1)+32,i.col+32,i.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"[M"+n(t[0])+n(t[1])+n(t[2])},SGR:function(i){var t=i.action===0&&i.button!==4?"m":"M";return"[<"+b(i,!0)+";"+i.col+";"+i.row+t}},d=function(){function i(t,e){this._bufferService=t,this._coreService=e,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new h.EventEmitter,this._lastEvent=null;for(var r=0,o=Object.keys(v);r<o.length;r++){var c=o[r];this.addProtocol(c,v[c])}for(var _=0,g=Object.keys(s);_<g.length;_++){var S=g[_];this.addEncoding(S,s[S])}this.reset()}return i.prototype.addProtocol=function(t,e){this._protocols[t]=e},i.prototype.addEncoding=function(t,e){this._encodings[t]=e},Object.defineProperty(i.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(t){if(!this._protocols[t])throw new Error('unknown protocol "'+t+'"');this._activeProtocol=t,this._onProtocolChange.fire(this._protocols[t].events)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"areMouseEventsActive",{get:function(){return this._protocols[this._activeProtocol].events!==0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(t){if(!this._encodings[t])throw new Error('unknown encoding "'+t+'"');this._activeEncoding=t},enumerable:!1,configurable:!0}),i.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(i.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),i.prototype.triggerMouseEvent=function(t){if(t.col<0||t.col>=this._bufferService.cols||t.row<0||t.row>=this._bufferService.rows||t.button===4&&t.action===32||t.button===3&&t.action!==32||t.button!==4&&(t.action===2||t.action===3)||(t.col++,t.row++,t.action===32&&this._lastEvent&&this._compareEvents(this._lastEvent,t))||!this._protocols[this._activeProtocol].restrict(t))return!1;var e=this._encodings[this._activeEncoding](t);return e&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(e):this._coreService.triggerDataEvent(e,!0)),this._lastEvent=t,!0},i.prototype.explainEvents=function(t){return{down:!!(1&t),up:!!(2&t),drag:!!(4&t),move:!!(8&t),wheel:!!(16&t)}},i.prototype._compareEvents=function(t,e){return t.col===e.col&&t.row===e.row&&t.button===e.button&&t.action===e.action&&t.ctrl===e.ctrl&&t.alt===e.alt&&t.shift===e.shift},l([u(0,f.IBufferService),u(1,f.ICoreService)],i)}();a.CoreMouseService=d},6975:function(F,a,p){var l,u=this&&this.__extends||(l=function(e,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(o[_]=c[_])},l(e,r)},function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}l(e,r),e.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}),f=this&&this.__decorate||function(e,r,o,c){var _,g=arguments.length,S=g<3?r:c===null?c=Object.getOwnPropertyDescriptor(r,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(e,r,o,c);else for(var C=e.length-1;C>=0;C--)(_=e[C])&&(S=(g<3?_(S):g>3?_(r,o,S):_(r,o))||S);return g>3&&S&&Object.defineProperty(r,o,S),S},h=this&&this.__param||function(e,r){return function(o,c){r(o,c,e)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreService=void 0;var v=p(2585),b=p(8460),n=p(1439),s=p(844),d=Object.freeze({insertMode:!1}),i=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),t=function(e){function r(o,c,_,g){var S=e.call(this)||this;return S._bufferService=c,S._logService=_,S._optionsService=g,S.isCursorInitialized=!1,S.isCursorHidden=!1,S._onData=S.register(new b.EventEmitter),S._onUserInput=S.register(new b.EventEmitter),S._onBinary=S.register(new b.EventEmitter),S._scrollToBottom=o,S.register({dispose:function(){return S._scrollToBottom=void 0}}),S.modes=(0,n.clone)(d),S.decPrivateModes=(0,n.clone)(i),S}return u(r,e),Object.defineProperty(r.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),r.prototype.reset=function(){this.modes=(0,n.clone)(d),this.decPrivateModes=(0,n.clone)(i)},r.prototype.triggerDataEvent=function(o,c){if(c===void 0&&(c=!1),!this._optionsService.rawOptions.disableStdin){var _=this._bufferService.buffer;_.ybase!==_.ydisp&&this._scrollToBottom(),c&&this._onUserInput.fire(),this._logService.debug('sending data "'+o+'"',function(){return o.split("").map(function(g){return g.charCodeAt(0)})}),this._onData.fire(o)}},r.prototype.triggerBinaryEvent=function(o){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+o+'"',function(){return o.split("").map(function(c){return c.charCodeAt(0)})}),this._onBinary.fire(o))},f([h(1,v.IBufferService),h(2,v.ILogService),h(3,v.IOptionsService)],r)}(s.Disposable);a.CoreService=t},3730:function(F,a,p){var l=this&&this.__decorate||function(v,b,n,s){var d,i=arguments.length,t=i<3?b:s===null?s=Object.getOwnPropertyDescriptor(b,n):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(v,b,n,s);else for(var e=v.length-1;e>=0;e--)(d=v[e])&&(t=(i<3?d(t):i>3?d(b,n,t):d(b,n))||t);return i>3&&t&&Object.defineProperty(b,n,t),t},u=this&&this.__param||function(v,b){return function(n,s){b(n,s,v)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DirtyRowService=void 0;var f=p(2585),h=function(){function v(b){this._bufferService=b,this.clearRange()}return Object.defineProperty(v.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),v.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},v.prototype.markDirty=function(b){b<this._start?this._start=b:b>this._end&&(this._end=b)},v.prototype.markRangeDirty=function(b,n){if(b>n){var s=b;b=n,n=s}b<this._start&&(this._start=b),n>this._end&&(this._end=n)},v.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},l([u(0,f.IBufferService)],v)}();a.DirtyRowService=h},4348:function(F,a,p){var l=this&&this.__spreadArray||function(b,n,s){if(s||arguments.length===2)for(var d,i=0,t=n.length;i<t;i++)!d&&i in n||(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return b.concat(d||Array.prototype.slice.call(n))};Object.defineProperty(a,"__esModule",{value:!0}),a.InstantiationService=a.ServiceCollection=void 0;var u=p(2585),f=p(8343),h=function(){function b(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];this._entries=new Map;for(var d=0,i=n;d<i.length;d++){var t=i[d],e=t[0],r=t[1];this.set(e,r)}}return b.prototype.set=function(n,s){var d=this._entries.get(n);return this._entries.set(n,s),d},b.prototype.forEach=function(n){this._entries.forEach(function(s,d){return n(d,s)})},b.prototype.has=function(n){return this._entries.has(n)},b.prototype.get=function(n){return this._entries.get(n)},b}();a.ServiceCollection=h;var v=function(){function b(){this._services=new h,this._services.set(u.IInstantiationService,this)}return b.prototype.setService=function(n,s){this._services.set(n,s)},b.prototype.getService=function(n){return this._services.get(n)},b.prototype.createInstance=function(n){for(var s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];for(var i=(0,f.getServiceDependencies)(n).sort(function(g,S){return g.index-S.index}),t=[],e=0,r=i;e<r.length;e++){var o=r[e],c=this._services.get(o.id);if(!c)throw new Error("[createInstance] "+n.name+" depends on UNKNOWN service "+o.id+".");t.push(c)}var _=i.length>0?i[0].index:s.length;if(s.length!==_)throw new Error("[createInstance] First service dependency of "+n.name+" at position "+(_+1)+" conflicts with "+s.length+" static arguments");return new(n.bind.apply(n,l([void 0],l(l([],s,!0),t,!0),!1)))},b}();a.InstantiationService=v},7866:function(F,a,p){var l=this&&this.__decorate||function(n,s,d,i){var t,e=arguments.length,r=e<3?s:i===null?i=Object.getOwnPropertyDescriptor(s,d):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,s,d,i);else for(var o=n.length-1;o>=0;o--)(t=n[o])&&(r=(e<3?t(r):e>3?t(s,d,r):t(s,d))||r);return e>3&&r&&Object.defineProperty(s,d,r),r},u=this&&this.__param||function(n,s){return function(d,i){s(d,i,n)}},f=this&&this.__spreadArray||function(n,s,d){if(d||arguments.length===2)for(var i,t=0,e=s.length;t<e;t++)!i&&t in s||(i||(i=Array.prototype.slice.call(s,0,t)),i[t]=s[t]);return n.concat(i||Array.prototype.slice.call(s))};Object.defineProperty(a,"__esModule",{value:!0}),a.LogService=void 0;var h=p(2585),v={debug:h.LogLevelEnum.DEBUG,info:h.LogLevelEnum.INFO,warn:h.LogLevelEnum.WARN,error:h.LogLevelEnum.ERROR,off:h.LogLevelEnum.OFF},b=function(){function n(s){var d=this;this._optionsService=s,this.logLevel=h.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(i){i==="logLevel"&&d._updateLogLevel()})}return n.prototype._updateLogLevel=function(){this.logLevel=v[this._optionsService.rawOptions.logLevel]},n.prototype._evalLazyOptionalParams=function(s){for(var d=0;d<s.length;d++)typeof s[d]=="function"&&(s[d]=s[d]())},n.prototype._log=function(s,d,i){this._evalLazyOptionalParams(i),s.call.apply(s,f([console,"xterm.js: "+d],i,!1))},n.prototype.debug=function(s){for(var d=[],i=1;i<arguments.length;i++)d[i-1]=arguments[i];this.logLevel<=h.LogLevelEnum.DEBUG&&this._log(console.log,s,d)},n.prototype.info=function(s){for(var d=[],i=1;i<arguments.length;i++)d[i-1]=arguments[i];this.logLevel<=h.LogLevelEnum.INFO&&this._log(console.info,s,d)},n.prototype.warn=function(s){for(var d=[],i=1;i<arguments.length;i++)d[i-1]=arguments[i];this.logLevel<=h.LogLevelEnum.WARN&&this._log(console.warn,s,d)},n.prototype.error=function(s){for(var d=[],i=1;i<arguments.length;i++)d[i-1]=arguments[i];this.logLevel<=h.LogLevelEnum.ERROR&&this._log(console.error,s,d)},l([u(0,h.IOptionsService)],n)}();a.LogService=b},7302:function(F,a,p){var l=this&&this.__assign||function(){return l=Object.assign||function(b){for(var n,s=1,d=arguments.length;s<d;s++)for(var i in n=arguments[s])Object.prototype.hasOwnProperty.call(n,i)&&(b[i]=n[i]);return b},l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.OptionsService=a.DEFAULT_OPTIONS=a.DEFAULT_BELL_SOUND=void 0;var u=p(8460),f=p(6114);a.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",a.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:a.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1};var h=["normal","bold","100","200","300","400","500","600","700","800","900"],v=function(){function b(n){this._onOptionChange=new u.EventEmitter;var s=l({},a.DEFAULT_OPTIONS);for(var d in n)if(d in s)try{var i=n[d];s[d]=this._sanitizeAndValidateOption(d,i)}catch(t){console.error(t)}this.rawOptions=s,this.options=l({},s),this._setupOptions()}return Object.defineProperty(b.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),b.prototype._setupOptions=function(){var n=this,s=function(e){if(!(e in a.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');return n.rawOptions[e]},d=function(e,r){if(!(e in a.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');r=n._sanitizeAndValidateOption(e,r),n.rawOptions[e]!==r&&(n.rawOptions[e]=r,n._onOptionChange.fire(e))};for(var i in this.rawOptions){var t={get:s.bind(this,i),set:d.bind(this,i)};Object.defineProperty(this.options,i,t)}},b.prototype.setOption=function(n,s){this.options[n]=s},b.prototype._sanitizeAndValidateOption=function(n,s){switch(n){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":s||(s=a.DEFAULT_OPTIONS[n]);break;case"fontWeight":case"fontWeightBold":if(typeof s=="number"&&1<=s&&s<=1e3)break;s=h.includes(s)?s:a.DEFAULT_OPTIONS[n];break;case"cursorWidth":s=Math.floor(s);case"lineHeight":case"tabStopWidth":if(s<1)throw new Error(n+" cannot be less than 1, value: "+s);break;case"minimumContrastRatio":s=Math.max(1,Math.min(21,Math.round(10*s)/10));break;case"scrollback":if((s=Math.min(s,4294967295))<0)throw new Error(n+" cannot be less than 0, value: "+s);break;case"fastScrollSensitivity":case"scrollSensitivity":if(s<=0)throw new Error(n+" cannot be less than or equal to 0, value: "+s);case"rows":case"cols":if(!s&&s!==0)throw new Error(n+" must be numeric, value: "+s)}return s},b.prototype.getOption=function(n){return this.options[n]},b}();a.OptionsService=v},8343:(F,a)=>{function p(l,u,f){u.di$target===u?u.di$dependencies.push({id:l,index:f}):(u.di$dependencies=[{id:l,index:f}],u.di$target=u)}Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0,a.serviceRegistry=new Map,a.getServiceDependencies=function(l){return l.di$dependencies||[]},a.createDecorator=function(l){if(a.serviceRegistry.has(l))return a.serviceRegistry.get(l);var u=function(f,h,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");p(u,f,v)};return u.toString=function(){return l},a.serviceRegistry.set(l,u),u}},2585:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IUnicodeService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.IDirtyRowService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;var l,u=p(8343);a.IBufferService=(0,u.createDecorator)("BufferService"),a.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),a.ICoreService=(0,u.createDecorator)("CoreService"),a.ICharsetService=(0,u.createDecorator)("CharsetService"),a.IDirtyRowService=(0,u.createDecorator)("DirtyRowService"),a.IInstantiationService=(0,u.createDecorator)("InstantiationService"),(l=a.LogLevelEnum||(a.LogLevelEnum={}))[l.DEBUG=0]="DEBUG",l[l.INFO=1]="INFO",l[l.WARN=2]="WARN",l[l.ERROR=3]="ERROR",l[l.OFF=4]="OFF",a.ILogService=(0,u.createDecorator)("LogService"),a.IOptionsService=(0,u.createDecorator)("OptionsService"),a.IUnicodeService=(0,u.createDecorator)("UnicodeService")},1480:(F,a,p)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeService=void 0;var l=p(8460),u=p(225),f=function(){function h(){this._providers=Object.create(null),this._active="",this._onChange=new l.EventEmitter;var v=new u.UnicodeV6;this.register(v),this._active=v.version,this._activeProvider=v}return Object.defineProperty(h.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"activeVersion",{get:function(){return this._active},set:function(v){if(!this._providers[v])throw new Error('unknown Unicode version "'+v+'"');this._active=v,this._activeProvider=this._providers[v],this._onChange.fire(v)},enumerable:!1,configurable:!0}),h.prototype.register=function(v){this._providers[v.version]=v},h.prototype.wcwidth=function(v){return this._activeProvider.wcwidth(v)},h.prototype.getStringCellWidth=function(v){for(var b=0,n=v.length,s=0;s<n;++s){var d=v.charCodeAt(s);if(55296<=d&&d<=56319){if(++s>=n)return b+this.wcwidth(d);var i=v.charCodeAt(s);56320<=i&&i<=57343?d=1024*(d-55296)+i-56320+65536:b+=this.wcwidth(i)}b+=this.wcwidth(d)}return b},h}();a.UnicodeService=f}},X={};return function F(a){var p=X[a];if(p!==void 0)return p.exports;var l=X[a]={exports:{}};return D[a].call(l.exports,l,l.exports,F),l.exports}(4389)})()})})(Jr);var Zr={exports:{}};(function(G,Z){(function(D,X){G.exports=X()})(self,function(){return(()=>{var D={775:(F,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FitAddon=void 0;var p=function(){function l(){}return l.prototype.activate=function(u){this._terminal=u},l.prototype.dispose=function(){},l.prototype.fit=function(){var u=this.proposeDimensions();if(u&&this._terminal){var f=this._terminal._core;this._terminal.rows===u.rows&&this._terminal.cols===u.cols||(f._renderService.clear(),this._terminal.resize(u.cols,u.rows))}},l.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var u=this._terminal._core;if(u._renderService.dimensions.actualCellWidth!==0&&u._renderService.dimensions.actualCellHeight!==0){var f=window.getComputedStyle(this._terminal.element.parentElement),h=parseInt(f.getPropertyValue("height")),v=Math.max(0,parseInt(f.getPropertyValue("width"))),b=window.getComputedStyle(this._terminal.element),n=h-(parseInt(b.getPropertyValue("padding-top"))+parseInt(b.getPropertyValue("padding-bottom"))),s=v-(parseInt(b.getPropertyValue("padding-right"))+parseInt(b.getPropertyValue("padding-left")))-u.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(s/u._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(n/u._renderService.dimensions.actualCellHeight))}}}},l}();a.FitAddon=p}},X={};return function F(a){if(X[a])return X[a].exports;var p=X[a]={exports:{}};return D[a](p,p.exports,F),p.exports}(775)})()})})(Zr);var $r={exports:{}};(function(G,Z){(function(D,X){G.exports=X()})(self,function(){return(()=>{var D={};return(()=>{var X=D;Object.defineProperty(X,"__esModule",{value:!0}),X.SearchAddon=void 0;var F=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?",a=function(){function p(){this._linesCacheTimeoutId=0}return p.prototype.activate=function(l){this._terminal=l},p.prototype.dispose=function(){},p.prototype.findNext=function(l,u){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!l||l.length===0)return this._terminal.clearSelection(),!1;var f,h=0,v=0;if(this._terminal.hasSelection()){var b=!!u&&u.incremental;f=this._terminal.getSelectionPosition(),v=b?f.startRow:f.endRow,h=b?f.startColumn:f.endColumn}this._initLinesCache();var n={startRow:v,startCol:h},s=this._findInLine(l,n,u);if(!s)for(var d=v+1;d<this._terminal.buffer.active.baseY+this._terminal.rows&&(n.startRow=d,n.startCol=0,!(s=this._findInLine(l,n,u)));d++);if(!s&&v!==0)for(d=0;d<v&&(n.startRow=d,n.startCol=0,!(s=this._findInLine(l,n,u)));d++);return!s&&f&&(n.startRow=f.startRow,n.startCol=0,s=this._findInLine(l,n,u)),this._selectResult(s)},p.prototype.findPrevious=function(l,u){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!l||l.length===0)return this._terminal.clearSelection(),!1;var f,h,v=!0,b=this._terminal.buffer.active.baseY+this._terminal.rows,n=this._terminal.cols,s=!!u&&u.incremental;this._terminal.hasSelection()&&(b=(h=this._terminal.getSelectionPosition()).startRow,n=h.startColumn),this._initLinesCache();var d={startRow:b,startCol:n};if(s?(f=this._findInLine(l,d,u,!1))&&f.row===b&&f.col===n||(h&&(d.startRow=h.endRow,d.startCol=h.endColumn),f=this._findInLine(l,d,u,!0)):f=this._findInLine(l,d,u,v),!f){d.startCol=Math.max(d.startCol,this._terminal.cols);for(var i=b-1;i>=0&&(d.startRow=i,!(f=this._findInLine(l,d,u,v)));i--);}if(!f&&b!==this._terminal.buffer.active.baseY+this._terminal.rows)for(i=this._terminal.buffer.active.baseY+this._terminal.rows;i>=b&&(d.startRow=i,!(f=this._findInLine(l,d,u,v)));i--);return!(f||!h)||this._selectResult(f)},p.prototype._initLinesCache=function(){var l=this,u=this._terminal;this._linesCache||(this._linesCache=new Array(u.buffer.active.length),this._cursorMoveListener=u.onCursorMove(function(){return l._destroyLinesCache()}),this._resizeListener=u.onResize(function(){return l._destroyLinesCache()})),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(function(){return l._destroyLinesCache()},15e3)},p.prototype._destroyLinesCache=function(){this._linesCache=void 0,this._cursorMoveListener&&(this._cursorMoveListener.dispose(),this._cursorMoveListener=void 0),this._resizeListener&&(this._resizeListener.dispose(),this._resizeListener=void 0),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)},p.prototype._isWholeWord=function(l,u,f){return(l===0||F.includes(u[l-1]))&&(l+f.length===u.length||F.includes(u[l+f.length]))},p.prototype._findInLine=function(l,u,f,h){var v;f===void 0&&(f={}),h===void 0&&(h=!1);var b=this._terminal,n=u.startRow,s=u.startCol,d=b.buffer.active.getLine(n);if(d==null?void 0:d.isWrapped)return h?void(u.startCol+=b.cols):(u.startRow--,u.startCol+=b.cols,this._findInLine(l,u,f));var i=(v=this._linesCache)===null||v===void 0?void 0:v[n];i||(i=this._translateBufferLineToStringWithWrap(n,!0),this._linesCache&&(this._linesCache[n]=i));var t=i[0],e=i[1],r=this._bufferColsToStringOffset(n,s),o=f.caseSensitive?l:l.toLowerCase(),c=f.caseSensitive?t:t.toLowerCase(),_=-1;if(f.regex){var g=RegExp(o,"g"),S=void 0;if(h)for(;S=g.exec(c.slice(0,r));)_=g.lastIndex-S[0].length,l=S[0],g.lastIndex-=l.length-1;else(S=g.exec(c.slice(r)))&&S[0].length>0&&(_=r+(g.lastIndex-S[0].length),l=S[0])}else h?r-o.length>=0&&(_=c.lastIndexOf(o,r-o.length)):_=c.indexOf(o,r);if(_>=0){if(f.wholeWord&&!this._isWholeWord(_,c,l))return;for(var C=0;C<e.length-1&&_>=e[C+1];)C++;for(var y=C;y<e.length-1&&_+l.length>=e[y+1];)y++;var m=_-e[C],E=_+l.length-e[y],L=this._stringLengthToBufferSize(n+C,m);return{term:l,col:L,row:n+C,size:this._stringLengthToBufferSize(n+y,E)-L+b.cols*(y-C)}}},p.prototype._stringLengthToBufferSize=function(l,u){var f=this._terminal.buffer.active.getLine(l);if(!f)return 0;for(var h=0;h<u;h++){var v=f.getCell(h);if(!v)break;var b=v.getChars();b.length>1&&(u-=b.length-1);var n=f.getCell(h+1);n&&n.getWidth()===0&&u++}return u},p.prototype._bufferColsToStringOffset=function(l,u){for(var f=this._terminal,h=l,v=0,b=f.buffer.active.getLine(h);u>0&&b;){for(var n=0;n<u&&n<f.cols;n++){var s=b.getCell(n);if(!s)break;s.getWidth()&&(v+=s.getChars().length)}if(h++,(b=f.buffer.active.getLine(h))&&!b.isWrapped)break;u-=f.cols}return v},p.prototype._translateBufferLineToStringWithWrap=function(l,u){for(var f,h=this._terminal,v=[],b=[0],n=h.buffer.active.getLine(l);n;){var s=h.buffer.active.getLine(l+1),d=!!s&&s.isWrapped,i=n.translateToString(!d&&u);if(d&&s){var t=n.getCell(n.length-1);t&&t.getCode()===0&&t.getWidth()===1&&((f=s.getCell(0))===null||f===void 0?void 0:f.getWidth())===2&&(i=i.slice(0,-1))}if(v.push(i),!d)break;b.push(b[b.length-1]+i.length),l++,n=s}return[v.join(""),b]},p.prototype._selectResult=function(l){var u=this._terminal;if(!l)return u.clearSelection(),!1;if(u.select(l.col,l.row,l.size),l.row>=u.buffer.active.viewportY+u.rows||l.row<u.buffer.active.viewportY){var f=l.row-u.buffer.active.viewportY;f-=Math.floor(u.rows/2),u.scrollLines(f)}return!0},p}();X.SearchAddon=a})(),D})()})})($r);export{Zr as a,$r as b,Jr as c,Qr as d,dr as x};
